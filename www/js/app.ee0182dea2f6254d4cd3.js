webpackJsonp([2],{"+nwc":function(e,t){},"/daW":function(e,t){},0:function(e,t,o){e.exports=o("nplA")},"3Puz":function(e,t){},"4CU5":function(e,t){},"5g/+":function(e,t,o){"use strict";var i=o("//Fk"),n=o.n(i),s=o("BO1k"),a=o.n(s),r={component:"HbChartImage",props:["model"],data:function(){return{working:!1,imageUrl:null,error:null}},created:function(){var e=this;this.retrieveImageUrl().then(function(t){e.imageUrl=t}).catch(function(t){e.imageUrl=null,e.error=t,e.working=!1})},methods:{findImageUrlInSitemapNode:function(e,t){var o=!0,i=!1,n=void 0;try{for(var s,r=a()(e.widgets);!(o=(s=r.next()).done);o=!0){var l=s.value;if("Image"===l.type&&l.item&&l.item.name===t&&l.url&&l.url.indexOf("/proxy"))return l.url.substring(l.url.indexOf("/proxy"));if(l.linkedPage){var c=this.findImageUrlInSitemapNode(l.linkedPage,t);if(c)return c}var d=this.findImageUrlInSitemapNode(l,t);if(d)return d}}catch(e){i=!0,n=e}finally{try{!o&&r.return&&r.return()}finally{if(i)throw n}}return null},retrieveImageUrl:function(){var e=this;if(!this.item)return n.a.resolve(null);if(this.item.tags&&this.item.tags.find(function(e){return 0===e.indexOf("habot:image:sitemap:")})){var t=this.item.tags.find(function(e){return 0===e.indexOf("habot:image:sitemap:")}).split(":")[3];return t?this.$http.get("/rest/sitemaps/"+t).then(function(o){var i=e.findImageUrlInSitemapNode(o.data.homepage,e.item.name);return i?n.a.resolve(i+"&_t="+(new Date).toISOString()):n.a.reject(new Error("Cannot find item "+e.item.name+" in sitemap "+t))}).catch(function(e){return n.a.reject(new Error("Cannot retrieve sitemap: "+e))}):(this.error="Cannot retrieve sitemap name from tag",n.a.reject(new Error("Cannot retrieve sitemap name from tag")))}return n.a.reject(new Error("Cannot find tag habot:image:sitemap:<sitemapname> on item"))}},watch:{itemState:function(){var e=this;this.retrieveImageUrl().then(function(t){e.imageUrl=t}).catch(function(t){e.imageUrl=null,e.error=t,e.working=!1})}},computed:{item:function(){return this.$store.getters["items/name"](this.model.config.item)},itemState:function(){return this.$store.getters["items/itemState"](this.model.config.item)},paddingBottom:function(){switch(this.model.config.aspectRatio){case"1:1":return"100%";case"3:2":return 100/1.5+"%";case"16:9":return"56.25%";case"2:1":return"50%";default:return"75%"}}},asyncComputed:{imageDataUrl:{get:function(){var e=this;return this.working=!0,new n.a(function(t,o){if(!e.imageUrl)return null;var i=e.$http.get(e.imageUrl,{responseType:"blob"});i.then(function(o){var i=new FileReader;i.readAsDataURL(o.data),i.onload=function(){return e.working=!1,t(i.result)}}),i.catch(function(t){console.log(new Error(t)),e.working=!1})})}}}},l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{class:{"highlight-and-fade":this.model.highlight},style:{width:"100%","padding-bottom":e.paddingBottom}},[e.error?o("div",[e._v(e._s(e.error))]):e._e(),e._v(" "),e.error?e._e():o("img",{staticStyle:{position:"absolute",top:"0",width:"100%"},attrs:{src:e.imageDataUrl}}),e._v(" "),o("q-inner-loading",{attrs:{visible:e.working,color:"primary"}})],1)},c=[];l._withStripped=!0;var d=o("XyMi"),u=Object(d.a)(r,l,c,!1,null,null,null);u.options.__file="src\\components\\HbImage.vue";t.a=u.exports},"6ZIF":function(e,t){},"7Otq":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJEAAAAoCAYAAAD+HRieAAAKL2lDQ1BJQ0MgcHJvZmlsZQAASMedlndUVNcWh8+9d3qhzTDSGXqTLjCA9C4gHQRRGGYGGMoAwwxNbIioQEQREQFFkKCAAaOhSKyIYiEoqGAPSBBQYjCKqKhkRtZKfHl57+Xl98e939pn73P32XuftS4AJE8fLi8FlgIgmSfgB3o401eFR9Cx/QAGeIABpgAwWempvkHuwUAkLzcXerrICfyL3gwBSPy+ZejpT6eD/0/SrFS+AADIX8TmbE46S8T5Ik7KFKSK7TMipsYkihlGiZkvSlDEcmKOW+Sln30W2VHM7GQeW8TinFPZyWwx94h4e4aQI2LER8QFGVxOpohvi1gzSZjMFfFbcWwyh5kOAIoktgs4rHgRm4iYxA8OdBHxcgBwpLgvOOYLFnCyBOJDuaSkZvO5cfECui5Lj25qbc2ge3IykzgCgaE/k5XI5LPpLinJqUxeNgCLZ/4sGXFt6aIiW5paW1oamhmZflGo/7r4NyXu7SK9CvjcM4jW94ftr/xS6gBgzIpqs+sPW8x+ADq2AiB3/w+b5iEAJEV9a7/xxXlo4nmJFwhSbYyNMzMzjbgclpG4oL/rfzr8DX3xPSPxdr+Xh+7KiWUKkwR0cd1YKUkpQj49PZXJ4tAN/zzE/zjwr/NYGsiJ5fA5PFFEqGjKuLw4Ubt5bK6Am8Kjc3n/qYn/MOxPWpxrkSj1nwA1yghI3aAC5Oc+gKIQARJ5UNz13/vmgw8F4psXpjqxOPefBf37rnCJ+JHOjfsc5xIYTGcJ+RmLa+JrCdCAACQBFcgDFaABdIEhMANWwBY4AjewAviBYBAO1gIWiAfJgA8yQS7YDApAEdgF9oJKUAPqQSNoASdABzgNLoDL4Dq4Ce6AB2AEjIPnYAa8AfMQBGEhMkSB5CFVSAsygMwgBmQPuUE+UCAUDkVDcRAPEkK50BaoCCqFKqFaqBH6FjoFXYCuQgPQPWgUmoJ+hd7DCEyCqbAyrA0bwwzYCfaGg+E1cBycBufA+fBOuAKug4/B7fAF+Dp8Bx6Bn8OzCECICA1RQwwRBuKC+CERSCzCRzYghUg5Uoe0IF1IL3ILGUGmkXcoDIqCoqMMUbYoT1QIioVKQ21AFaMqUUdR7age1C3UKGoG9QlNRiuhDdA2aC/0KnQcOhNdgC5HN6Db0JfQd9Dj6DcYDIaG0cFYYTwx4ZgEzDpMMeYAphVzHjOAGcPMYrFYeawB1g7rh2ViBdgC7H7sMew57CB2HPsWR8Sp4sxw7rgIHA+XhyvHNeHO4gZxE7h5vBReC2+D98Oz8dn4Enw9vgt/Az+OnydIE3QIdoRgQgJhM6GC0EK4RHhIeEUkEtWJ1sQAIpe4iVhBPE68QhwlviPJkPRJLqRIkpC0k3SEdJ50j/SKTCZrkx3JEWQBeSe5kXyR/Jj8VoIiYSThJcGW2ChRJdEuMSjxQhIvqSXpJLlWMkeyXPKk5A3JaSm8lLaUixRTaoNUldQpqWGpWWmKtKm0n3SydLF0k/RV6UkZrIy2jJsMWyZf5rDMRZkxCkLRoLhQWJQtlHrKJco4FUPVoXpRE6hF1G+o/dQZWRnZZbKhslmyVbJnZEdoCE2b5kVLopXQTtCGaO+XKC9xWsJZsmNJy5LBJXNyinKOchy5QrlWuTty7+Xp8m7yifK75TvkHymgFPQVAhQyFQ4qXFKYVqQq2iqyFAsVTyjeV4KV9JUCldYpHVbqU5pVVlH2UE5V3q98UXlahabiqJKgUqZyVmVKlaJqr8pVLVM9p/qMLkt3oifRK+g99Bk1JTVPNaFarVq/2ry6jnqIep56q/ojDYIGQyNWo0yjW2NGU1XTVzNXs1nzvhZei6EVr7VPq1drTltHO0x7m3aH9qSOnI6XTo5Os85DXbKug26abp3ubT2MHkMvUe+A3k19WN9CP16/Sv+GAWxgacA1OGAwsBS91Hopb2nd0mFDkqGTYYZhs+GoEc3IxyjPqMPohbGmcYTxbuNe408mFiZJJvUmD0xlTFeY5pl2mf5qpm/GMqsyu21ONnc332jeaf5ymcEyzrKDy+5aUCx8LbZZdFt8tLSy5Fu2WE5ZaVpFW1VbDTOoDH9GMeOKNdra2Xqj9WnrdzaWNgKbEza/2BraJto22U4u11nOWV6/fMxO3Y5pV2s3Yk+3j7Y/ZD/ioObAdKhzeOKo4ch2bHCccNJzSnA65vTC2cSZ79zmPOdi47Le5bwr4urhWuja7ybjFuJW6fbYXd09zr3ZfcbDwmOdx3lPtKe3527PYS9lL5ZXo9fMCqsV61f0eJO8g7wrvZ/46Pvwfbp8Yd8Vvnt8H67UWslb2eEH/Lz89vg98tfxT/P/PgAT4B9QFfA00DQwN7A3iBIUFdQU9CbYObgk+EGIbogwpDtUMjQytDF0Lsw1rDRsZJXxqvWrrocrhHPDOyOwEaERDRGzq91W7109HmkRWRA5tEZnTdaaq2sV1iatPRMlGcWMOhmNjg6Lbor+wPRj1jFnY7xiqmNmWC6sfaznbEd2GXuKY8cp5UzE2sWWxk7G2cXtiZuKd4gvj5/munAruS8TPBNqEuYS/RKPJC4khSW1JuOSo5NP8WR4ibyeFJWUrJSBVIPUgtSRNJu0vWkzfG9+QzqUvia9U0AV/Uz1CXWFW4WjGfYZVRlvM0MzT2ZJZ/Gy+rL1s3dkT+S453y9DrWOta47Vy13c+7oeqf1tRugDTEbujdqbMzfOL7JY9PRzYTNiZt/yDPJK817vSVsS1e+cv6m/LGtHlubCyQK+AXD22y31WxHbedu799hvmP/jk+F7MJrRSZF5UUfilnF174y/ariq4WdsTv7SyxLDu7C7OLtGtrtsPtoqXRpTunYHt897WX0ssKy13uj9l4tX1Zes4+wT7hvpMKnonO/5v5d+z9UxlfeqXKuaq1Wqt5RPXeAfWDwoOPBlhrlmqKa94e4h+7WetS212nXlR/GHM44/LQ+tL73a8bXjQ0KDUUNH4/wjowcDTza02jV2Nik1FTSDDcLm6eORR67+Y3rN50thi21rbTWouPguPD4s2+jvx064X2i+yTjZMt3Wt9Vt1HaCtuh9uz2mY74jpHO8M6BUytOdXfZdrV9b/T9kdNqp6vOyJ4pOUs4m3924VzOudnzqeenL8RdGOuO6n5wcdXF2z0BPf2XvC9duex++WKvU++5K3ZXTl+1uXrqGuNax3XL6+19Fn1tP1j80NZv2d9+w+pG503rm10DywfODjoMXrjleuvyba/b1++svDMwFDJ0dzhyeOQu++7kvaR7L+9n3J9/sOkh+mHhI6lH5Y+VHtf9qPdj64jlyJlR19G+J0FPHoyxxp7/lP7Th/H8p+Sn5ROqE42TZpOnp9ynbj5b/Wz8eerz+emCn6V/rn6h++K7Xxx/6ZtZNTP+kv9y4dfiV/Kvjrxe9rp71n/28ZvkN/NzhW/l3x59x3jX+z7s/cR85gfsh4qPeh+7Pnl/eriQvLDwG/eE8/vMO7xsAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QoOFQcY/WNiHwAAFc9JREFUeNrtm3uUFdWVxn9VfbsbEQMqEqpAQCA6xqjxGd+aSDxQKoKi8Y0aIxVnhDExD80Y44qPaCKgESwBHUKiGBExUUuPmqgoEjVqiChq8AFCVQTkJQ304947f/RXWFxvN2jGuGbSZ61aXV116jz2+c7e3977XOgoHaWjdJSO0lE6SkfpKM7WVDLGOEAd8G/AccD+wADgc4ALrAbeBl4AHgX+DJSstcUOEf+LgsgY41hry7rvAZwBjAb6bWW7K4CfA3dYa5d2iPlfDETGGNdaWzLGdAZOAsYC3XNVlgGrgHVAC1AGaoFtge1Vt0Z1VwGXAr+y1m7sEPf//WKMcYFypmQ+AqIcgHoA44HTcq9fBJ4BHgaet9Yuq/i2O7Af8DXgaGAvgQtgJnCxtfbdvJbrKB+hC7XamI1tycgYUwDqtXbrrbWl9tq11paNMfXW2satGEfWdjVl05JXBPl1LFQBUB/gHuAAvXobuE3aZElFh5nGKVprVwAWsMaY7YFvAt8G+kuj9TXGnGGtfaMDSB8p2wAXAEOAPwK3AGvboBj7A98FOgEXAwvb0hhaz92By40xPwCWVJO7MaZG/PUIrZsLlGRlMhA1GWOWA68D91prV2VjKuQGWDLG7ATMyAHoEeDH1tpnVa8WKEqdtWjX5HeTCzjW2lXAL4wxDwC/BAZp8jONMV8DVqqdjtJa6oCvA8cIHFMrQZQr/YERur+2LRDlgHCRLEpqrf1uBq42aM3uwOlbMd6zjTFnA4uNMU4BQCpvG+AG4EBVvAe40Fq7PGcHm/MtJYHnAmU/TjMbWcwDylr7mjFmKDAdOB74EnCXtfborVWxSeA50niuJluWcIp+nJa34ntX3+dNd9GP0+LH7DsrZX1f+gTftjXusjgmwAeq11Zpyt23tGPGWqSFjB6PNsZcA6xpp/1GXS7wO3HaTOadgEMF4iOAO621hxpjagu5Bk4AztL9YzkAOdXsbhJ4NX6cFpPAc5PAIy+YDFBSkxuMMSOAp6ThvmaM+ZG19mpjTG0lMCv6KAAlP05bqr1LAq/cHhiSwKvz47SpmtCSwKttDwxJ4NUATrW+s+/9OG1u51vaGHeN5FVsQxu4H8MZctrRQkVgpBa9SdputLX2ipz5qtZ21ubPgFe1EUriSmXgvxXmOcQYc5i19ulCjhT/Qh8vlglb3hZ3yQFob2Ap8H61mVhri1KfLcaYk4D58uC+a4yZCiRb6KMlCbweSeCdD+wDbAcsF8Gfovc11YCUBF7Bj9OmJPC+Ik62u4S7FJjlx+lDmaaqBFJufvVJ4J0pc7wDsBH4C3CXH6dvVANS7ttuSeCNBPYFdlQs7UVgmh+nK5LAc7ZGk34Ski657yqOlZnLFsn9aqBsjCm1w0vLIu0bcs/Wq/1JkkcXOVJPuzI9I4BeqjzFWju3ncV1JKRdgGnAAqBvW5MS1ypYaxPgp3rcFfiR2i9UM0Hq4wogAX4iIBjZ7PHAiiTwTlG9mgozArBdEngPAk8D3wGOBQLgPCBOAu/lJPC+VE0Tqc1jgUXaeadpQYYBVwDzk8CLgGISeE7WZw5Ao4C/A9cDZ6rv08RhliWBdyHAoqCX0562McY42bW1geFcOVYeMiLrjQrDXCztX7OF72sy0q0xZJ72jjlt2ZKpvVqRL4B5wB3ttezHaTkJvP4i4HtJs8xJAq9PxSLmgdRijKmz1o4D3lO/g8XDWiSk/E4uJYE3WeAp5TTks9JErgTy2yTwxmjhCtnuTgJvJ+AJgcaVAF+XJmgAmsXP/pQE3n5VQHwi8ACwk+om0n4L1FYNMAq4TyavLM1XlOaKcmbgHeBJ4E393wRMAE7vGy8tb8FkORXXFrMM4rd9cuR7gYLFy/X/mKydvNyr9O+KC7vZRlfo5wdA5wycxhjHBfoAX9TDP1lr35LmKLdh7/uLKO8nJNYAPYFnksDrK4FWs+uZyfml/nYDhqsfN2eCikng/Ttwvr55A/iqH6f9/Dg9yI/TnnJDV2lRbkgC71Dxj2x33SqAl0UQB/hxursfp/tpJ92Y25l3JIG3fW5+A4DJ+vc9YKQfpzv7cXqoH6d7CHxW748X0Mn1fa3G/T5wtB+nA/w4PcqP011FSBO9vxmgPBzH2Rwc/YH/NMZcClyWuy41xlwCDN8KLXQ4cIjuJ1pr/y5gA2xvjBktbVRoC0AKH1wnbjRejtYSzR9gsrV2AVAoaLdmqYpHczax0oRlGuiOnAf3gGzjIMAHnkoC76t+nL5ZhauUhOy7gKtk0g4H7gTc94KepeKHpPQqAXSRALQ8CbxtJPyCH6fTksB7U+OtU4rlEHGkEcBR6vMuP05PF5mtz3lm30sCb7VM024ylVNEts8V/1kBnOzH6ZwKTfwWECSBNx04FRiaBN7dfpzOl1bbVoC60o/TZ5LA65IRWz9On08C7zrxz25J4O3pzEpfPsW0uGsoZBtvN+CHWwBJcy6QW8mJdtQGzLTQw7ofr+xBV+BbwE3iRk4bIDpnC97hVK1niyvil6UoXsi5onnzUhYHugM4KOfBjfTj9OvAveq8N/BYEni7SaPUVnhsrrX2TbmZLjAwA+06CjXSJiMUfAO4WgDq5MfpBj9Om/w4XZ8EXmct7lQtWN8k8LIdcphMbAMwRlqx5Mdpox+njUBJz64DntM335IZ3lYcJguy+kngDU8Cb1gSeCfoGp4E3gky/QB764LWpHQ259nyLhvkIa7X8+c0tgwwbEPRyW3cNVr8l+WI5K95MuvteXAH5DeRtXZhLpxyk573McZ8U7G+mjaI9avCw4u65ksT1emaA4RZsDFbyHXW2neMMW5XWso589IiAN2V00CPAqf4cbpWwj9TC3qKSPaDSeAN9eP01QoPJkP+X4AjgS7iSk3rgr51qrOPJtYCzEgCr06mJ182SGP9SlHxei3IfGBn1YmBjZXEWXyrTp7bXxX7yAhorcbfqMW4eytJbP/MVOQWeEWlRs9t1mxMOwAUnLJDeVPdecB/KUdZWxE1XpvLZ1bTQp2AS3Lt3KoN3Ki/PzbGjAJ6yEG5Te07FbGsspyR17UWZcm4hzDwfY19gjHmhYLc5kxFUkPZvdv+oSVb/CTw+kmY+6veHwSg1VrIsh+nG5LAO08Lf7p25H1J4A0TkApZzETEb01u0ToDTcUP59Elm5Qfp+u04OU2dsuyXFykToDupGcr2wrG5RZxuQDTqYK0FhUJfredXZ8FP3uIO2XzcaoEBakIEGbzKeQ6zZ6tBeZZa9e2AZS32sm/7au8ZdbPmTI52XibNNYewP7GmJOstTONMfUVsioDb1tr36noZgHwpDFmvjZpEbisUCmkpXTizaBXrR8vzQB0r7QDwOPAidJAm4Ahl7whCbxQDZ8FfEFAOt6P09eTwKs5q+hUkuxNMmwpb3q3XIvsJIHXE3i/jZiKk9OizTkTmZW+2j0b2gBAvs7KCnB1Bu6XJ+K3AcZ6LcpKqXcq+KSzFcHCchuu9TbA2ixTkH2noG9dO3myy/VoowjwtRUycbRpmmk9C3aKkuOlNlIxGGNqcu8doM5a+5AxZrGcsj1cCX+TYK9w/+YOaAVQ3woAzQaOF4Bq8tFYmQjHj9MPgP9Q/AgB6cEk8Ab4cVrs52zI3Modcou/vnXWbgasJyW4AnCBTOE2FXGgziLto3Ph+me0+NkiDQa6K6LuVnC8JgE04zJP5dr5cwYwP06b/Thd5Mfp0spLY3pS8/3fLqUsxmatzVJK7QUmHWPM3ppzkzRrvTRjTe5yNe6Mtw0yxgyqkjVwciGAyqs2t9EASq4IJEC3k8yggSc+tKDpraDXLhUAehoYLG3jVIsQZ5rCj9O1ijvdkeMLjyaB1+e2h59skUD2yKKg1tpGY0zhiIfeLMp0PQFkKvuiJPD2E5muE1Gv1ThGyrNsAeb4cbo6F5rPyq8BVyAvyERnY78C+LLub9T41ymDDnCCQg1ZqqJWRJkk8LqJI/ZXDKbXZ5m9VQrjJznOdaJoQU+Zrvy1Q87930HprmpUIYtolwTmku4/MMZcpFBJEZjninnjwP0z7WMLXw369O9E6bc5r+1pZZgb82DZQkByrQjv3ULvLmV44Pkhu3zuGGN2pvXgWimXgXYqEornaOfsAPwhCbzvA5+TVuqdBN4ExXIcxWMurJKQLMqTfCUJvGFZ6D8JvEOSwHsECFXvDmmxbG6/1/81wI1J4I0HuqnvQhJ4Z4i0Zt7gND9OX/mM8JNFtndVNB3gZWvtLGCjtfY9a+3yimuVxj812yzGmIOqmPv9jDGHAYcZYw43xgwGzjLG3JMj9k3AWFfHPaY/bO13Xgz6DexG829yR0Ge1vGEpi1lravElT5QimFGq352Fuzf5e11zocH3dbJTdykvqUxXD9OnwW+ISF1kTu+PAm8siK/F2qiK4HAj9NVVThGs0C1KzBLbnVJfX49Z6JHy/XPNsAKRaMXC0hjlGIpil/9RlygDPzSj9Mb5EHmYyxbKm4VfuRWSYJuqWSmJUsnNeSCue1prvU5EO2cixVmNKIgz/cpmezZwEN6dpLetwDXWGvnutbaV6y1p/816DugJ423AwfnBDxE8ZnSx9keWdTaj9MGqfvZDdTc6syglNMAq4AHK+NSOSDdLff7ReWhViqJuUJR3weBvf04fbEiQp5po9uBHyninR3pXaXvlyhAOciP05X5VI36ni8tdq+8mfd1RGOViP8C4Bw/TkfLxJZywG0ANpTcGhrrt6Wm2FSN76zXOJtzi5edGtzoOE572j7/XaMxpps2+nppod8rbLKloy7zFOgFONkY42mTNOhaK76cXdn/yyTT86y1Vxlj6goATwwZuGN3GqYqUEcZZjfjDusXL133SbPNfpyWlgS+68dJ88Bjhg9a+MisZmPMBcAuEtqT1tr3szhRlVhOjR+nc4EDk8DbE9hThHEN8Jwfp+8q+em2AfLOfpxeD1yfBN6RQD9wHCgvKzvuE70eXLr+7eEDCwtO28f1p7+0GYhfO3XvGv+ueSlw0pLjevtuqXQwlLto3Av9OH0G4N3j+9T59y9uevmsg11IUb7uYnAKvR9YshJg5k+/52B/zqK++5XhAcqOsxq4zCmXu2SauKa2tsFtcW8vFotPb9iw4ZV169atyU8kiiJnzpxNgfOXtBHrHcd5o1wu93IcZ3S5XHYdx3kJoLm5uTn7LgzDcmVbL7zwApMnT159xBFHXOG67qP19fVdXNdtKZVKc4GLHMdxyuXNjlBnsaQm4B1r7RyA4cOH182aNat17ZYEfvck8BYlgVdeEviPl49v9YZmDPli4R812mMGH1oLMMwM+rwxJjXGtBhjPjDG9M/c03bMYk0+6l15VqgyR5cEXtck8H6XBF45CbzJSeBtlw75/Efaf+ncI91yhdmJomgzE/LwD88vzD/zwE7V+l56rF947dQv1wJMufnGqqZn4qTJu0XRrZudbphy840fGcvtF5292ff33Xdfv+nTp9flxuUCTJkyxTnggAO2ysxNnz7dbWte+TJz5sztZ8+e3fvjrunw4cNrhw8fXgCYMGGCm1+A45YG3uPlkyn0OmbEbucPPrL7lhZ5S2Vw6zlszjVHFowxVgAqG2N+qrbrtpJjuQJUQX/dNuptBqJ0SM9NIHjskrM6TRv7s51zwu2qv4UoiuoqALXjpkW+aWz3R75/bn0GumdHDd60sW69ZaKT1Z84afKmvu68/sruURR9NYqiA/S+cxRFmw7ATx3/874A8WWjCgDRLbfsMmHChKHjxo0bMHHixEujKDqoYjz9AaZNm+YCjBo1qu6GG27oc9NNN3UCGDt2bG+Aq6++utOkSZPq9c1OURR1r2jnc1EUnRFF0XYAEydONBMnTrxq3LhxA/L1xo8fPwBgyJAhhaFDhxauvPLK7QCuu+66HauNaxNKFwa9awc4yzr3az6u3x7OuvuKOPOAETrGUVCe5eMcjqqz1jbpQP/tfHhqco6y2TXtnWr8JCUJvK4ijMOAycWaujE7379og4R5PvCa+ERXmceC+NWeSnqeJ6+uszhhCfiKXPgbgfPDMLwsiqKpSi8crDa2aTWXjNcZomUKzNaL2HvqN1JEv0UxqrFhGC6IougcxbzO1xjW6tvv6flbQL8wDG8SwIcoWHgXcLmcgP6aSyelO3ydKbpHJy72Eo+8DRgdhuEDURQdLC96qbjeBIU+3hLhnqgUR4OcjAZxtwlyOF4FdnABHhqyqzMwXtLsPNi05ovOusuLOP0UP3jMGNM7Ow9kjCm0cwYlO0RVmwNQT525yQD0LnC6Yg4tfDol0xQ1a7puMmWn0/pTpjN1jMQD5krw80W295Ww5wJ/1WIeBjyvawhwZBRFeyqIOlL5v72Ak2n9tcYe8nRmCphfUFQ81iKEyq/dL56xk8a3SFxnsXjHnUoz7a7xDgFGSoM0CBz7qu5eOu5yYC5jv49AfYY2wSFyBubp7/O56Phqge4wnWAo66hLnebYVbnSz6ufI+Q5nwAMBS5xAYY89Eb5Q9fB+QmQxT2OBOYaYy621jZJGzkCVG3FVa/QfLMAdAHwJz48ovkuEFhrF3+KPxn6QIu5O3DpwoGHNuaA9ccwDEfIY+ss8CyTUF9TBr9BXuAS1anX/UZpm18rPvUt4Gx9u15hkj3DMHwe+CAMw1dyXtcaWg/TrVSsrY/uu+a8rI1AQxiGK9TeK/IIm/TuIi1YI1AKw/C03ImFd8IwfAtYFobhS8DfFGzsrrRHveb/fBiGK4FyGIb5XN/aMAzfyRHo7cMwfFcAb9A4XgAWa14b1d5r0mLDClViCPONMUdLVR6l4x0/M8aMkSr8jbX27TY00c7GmNO0i/sr9uHKhJ2ZJfQ+rd+cyUtLdUE8jkkTb3ZKrTvtv6IoGq+Y0XMSxlwtzNu53NuF0pJjlJwercW8Vs+9MAxfjaJoigKT20qYE6Io+iZwj8jsAi1KF+34hQLkbKVK8r/r+hvQoO8f1eI+LvN0vTTFK2EYjo2iqHsURSP1/QLF8gAei6KoIK02Q9H4vrQeIFyfS2/NiKJoXBiGF8uEvZhL/cwA3CiKJinRPlsavJw7+jJHQeTtZO4ebeu3+FlC7zLZyEoC/L528t8loO60no7sUXG0oAhcA1y9NT8P+rRLNZdXz2vCMCxGUTQN+GEYhklbdT9u27n3hTAMW6IoukQ7+VhtUicMw5Z/pO1/lpzaque2EdEs6ec818i23qZA23oBY0eZum/QeojsKAGoqF27WprsC9baH1NxjvozApCrXeZkbm/O/S3p/tvAsiiK3DAMy6rrZm523uWu8syteO/k+8oFJCcAs8IwPFymqSX7TpdT2Y7GvVl/Fe+r9etGUVRTMYbs/WZ1q8zLrZRRe/WcLXhYNVmCT+74qUoZfFnktJM0T6P4xTypwRnW2jX63vm4nt1nCbQwDEv/jF0eRVFtGIbNdJSO0lE6SkfpKB2lo3SU/xflfwCU+HlWQggvSAAAAABJRU5ErkJggg=="},Agd1:function(e,t){},DXyr:function(e,t){},FlLN:function(e,t){},GZra:function(e,t){},GbAQ:function(e,t,o){"use strict";var i={props:["model"],data:function(){return{dimmerState:null}},methods:{onChange:function(e){this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:e})}},computed:{item:function(){return this.$store.getters["items/name"](this.model.config.item)},itemState:{get:function(){if(!this.model.config.item)return"OFF";var e=this.$store.getters["items/itemState"](this.model.config.item);return"ON"===e||"OFF"===e?e:"Dimmer"===this.item.type||"Color"===this.item.type&&1===e.split(",").length?parseFloat(e)>0?"ON":"OFF":"Color"===this.item.type&&3===e.split(",").length?parseFloat(e.split(",")[2])>0?"ON":"OFF":e}}}},n=function(){var e=this.$createElement;return(this._self._c||e)("q-toggle",{class:{"highlight-and-fade":this.model.highlight},attrs:{value:this.itemState,"true-value":"ON","false-value":"OFF"},on:{input:this.onChange}})},s=[];n._withStripped=!0;var a=o("XyMi"),r=!1;var l=function(e){r||o("iFYu")},c=Object(a.a)(i,n,s,!1,l,null,null);c.options.__file="src\\components\\HbSwitch.vue";t.a=c.exports},JsEP:function(e,t){},KqUz:function(e,t){},N12Q:function(e,t){},QZMz:function(e,t){},R58i:function(e,t){},"RI+7":function(e,t){},U6Jp:function(e,t,o){"use strict";var i={name:"HbBtnGroup",props:["model"],components:{HbBtn:o("pA7L").a},methods:{iconUpDown:function(e){switch(this.model.config.upDownIcons){case"keyboard_arrow":return"keyboard_arrow_"+e;case"arrow_drop":return"arrow_drop_"+e;default:return"arrow_"+e+"ward"}},sendCmd:function(e){this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:e})}},computed:{stopColor:function(){return"negative"},downColor:function(){return""},upColor:function(){return""},item:function(){return this.$store.getters["items/name"](this.model.config.item)},itemState:{get:function(){return this.model.config.item?this.$store.getters["items/itemState"](this.model.config.item):""}}}},n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-btn-group",{class:{"highlight-and-fade":this.model.highlight},attrs:{flat:this.model.config.flat,rounded:this.model.config.rounded,outline:this.model.config.outline,push:this.model.config.push}},[o("q-btn",{attrs:{flat:this.model.config.flat,rounded:this.model.config.rounded,outline:this.model.config.outline,dense:this.model.config.dense,push:this.model.config.push,glossy:this.model.config.glossy,"no-ripple":this.model.config.noRipple,size:this.model.config.size,icon:e.iconUpDown("up"),"text-color":e.upColor},on:{click:function(t){e.sendCmd("UP")}}}),e._v(" "),o("q-btn",{attrs:{flat:this.model.config.flat,rounded:this.model.config.rounded,outline:this.model.config.outline,push:this.model.config.push,glossy:this.model.config.glossy,"no-ripple":this.model.config.noRipple,dense:this.model.config.dense,size:this.model.config.size,icon:this.model.config.stopIcon||"stop","text-color":e.stopColor},on:{click:function(t){e.sendCmd("STOP")}}}),e._v(" "),o("q-btn",{attrs:{flat:this.model.config.flat,rounded:this.model.config.rounded,outline:this.model.config.outline,push:this.model.config.push,glossy:this.model.config.glossy,"no-ripple":this.model.config.noRipple,dense:this.model.config.dense,size:this.model.config.size,icon:e.iconUpDown("down"),"text-color":e.downColor},on:{click:function(t){e.sendCmd("DOWN")}}})],1)},s=[];n._withStripped=!0;var a=o("XyMi"),r=Object(a.a)(i,n,s,!1,null,null,null);r.options.__file="src\\components\\HbShutterControl.vue";t.a=r.exports},UyNw:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("//Fk"),n=o.n(i),s={name:"HbContainer",props:["model"],asyncComputed:{text:function(){return this.$expr(this.model.config.text)},classes:function(){var e=[];return this.model.highlight&&e.push("highlight-and-fade"),Array.isArray(this.model.config.classes)&&(e=e.concat(this.model.config.classes)),this.model.config.classesExpr?this.$expr("="+this.model.config.classesExpr).then(function(t){return Array.isArray(t)?n.a.resolve(e.concat(t)):n.a.resolve(e)}):n.a.resolve(e)},visible:function(){return!this.model.config.visible||this.$expr("="+this.model.config.visible)}}},a=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.visible?o("div",{class:e.classes},[this.model.config.text?o("span",[e._v(e._s(e.text))]):e._e(),e._v(" "),e._l(e.model.slots.main,function(e,t){return o(e.component,{key:"container-"+t,tag:"component",attrs:{model:e}})})],2):e._e()},r=[];a._withStripped=!0;var l=o("XyMi"),c=Object(l.a)(s,a,r,!1,null,null,null);c.options.__file="src\\components\\HbContainer.vue";t.default=c.exports},VRCQ:function(e,t,o){"use strict";var i=o("//Fk"),n=o.n(i),s=o("Dd8w"),a=o.n(s),r=function(){var e=this.$createElement;return(this._self._c||e)("big",{staticClass:"big-value ellipsis",class:{"highlight-and-fade":this.model.highlight}},[this._v(this._s(this.state))])},l=[];r._withStripped=!0;var c=o("XyMi"),d=!1;var u=function(e){d||o("mG18")},p=Object(c.a)({name:"HbSingleItemValue",props:["model"],computed:{state:{get:function(){if(this.model.config.item)return this.$store.getters["items/itemState"](this.model.config.item)}}}},r,l,!1,u,"data-v-4d753a7c",null);p.options.__file="src\\components\\HbSingleItemValue.vue";var m=p.exports,h=o("7109"),g=h._30.subtractFromDate,f=new Date,b={components:{chart:function(){return o.e(0).then(o.bind(null,"FOqj"))}},props:["model"],data:function(){return{showToolbar:!1,showChart:!1,items:this.model.config.items,period:this.model.config.period,startTime:null,endTime:null,today:f,chartType:"line",itemChoices:this.$store.state.items.items.map(function(e){return{value:e.name,label:e.name,sublabel:e.label,stamp:e.type}}),chartOptions:{calendar:{vertical:!0,showVisualMap:!0},line:{markers:{}}}}},methods:{initChart:function(){this.showChart=!0},resetChartPeriodDialog:function(){var e=this,t="line"===this.chartType?["h","4h","8h","12h","D","2D","3D","W","2W","M","2M","4M","Y"]:["M","2M","4M","Y"];this.$q.dialog({title:"Predefined period",message:"Select the period to reset the date range",color:"secondary",ok:!0,cancel:!0,options:{type:"radio",model:"period",items:t.map(function(e){return{label:e,value:e}})}}).then(function(t){e.resetChartPeriod(t)})},resetChartPeriod:function(e){switch(this.endTime=new Date,this.startTime=new Date,e){case"h":this.startTime=g(this.startTime,{hours:1});break;case"4h":this.startTime=g(this.startTime,{hours:4});break;case"8h":this.startTime=g(this.startTime,{hours:8});break;case"12h":this.startTime=g(this.startTime,{hours:12});break;case"D":this.startTime=g(this.startTime,{days:1});break;case"2D":this.startTime=g(this.startTime,{days:2});break;case"3D":this.startTime=g(this.startTime,{days:3});break;case"W":this.startTime=g(this.startTime,{days:7});break;case"2W":this.startTime=g(this.startTime,{days:14});break;case"M":this.startTime=g(this.startTime,{month:1});break;case"2M":this.startTime=g(this.startTime,{month:2});break;case"4M":this.startTime=g(this.startTime,{month:4});break;case"Y":this.startTime=g(this.startTime,{month:12});break;default:this.startTime=g(this.startTime,{days:1})}},lineMarkerConfig:function(){var e=this,t=[];this.chartOptions.line.markers.averageLine&&t.push("averageLine"),this.chartOptions.line.markers.minMaxLines&&t.push("minMaxLines"),this.chartOptions.line.markers.minMaxPoints&&t.push("minMaxPoints"),this.$q.dialog({title:"Markers",message:"Choose markers to display",color:"secondary",ok:!0,cancel:!0,options:{type:"toggle",model:t,items:[{label:"Show average line",value:"averageLine"},{label:"Show min/max lines",value:"minMaxLines"},{label:"Show min/max points",value:"minMaxPoints"}]}}).then(function(t){e.chartOptions.line.markers=Object(h._32)({},{averageLine:t.indexOf("averageLine")>=0,minMaxLines:t.indexOf("minMaxLines")>=0,minMaxPoints:t.indexOf("minMaxPoints")>=0})})},calendarColorPaletteConfig:function(){var e=this;this.$q.dialog({title:"Color palette",message:"Color range of colors",color:"secondary",ok:!0,cancel:!0,options:{type:"radio",model:this.chartOptions.calendar.colorPalette,items:[{label:"yellow/red (default)",value:null},{label:"green/yellow/red",value:"greenred"},{label:"blue/yellow/red",value:"bluered"},{label:"white/blue",value:"whiteblue"}]}}).then(function(t){e.chartOptions.calendar=Object(h._32)({},e.chartOptions.calendar,{colorPalette:t})})}},created:function(){this.resetChartPeriod(this.model.config.period)},computed:{titleDisplayText:function(){return this.items&&this.items.length?1===this.items.length?this.items[0]:this.items[0]+" + "+(this.items.length-1):"Analyze"},itemPickerDisplayText:function(){return this.items.length+" item(s)"}}},v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-modal-layout",[o("q-toolbar",{attrs:{slot:"header"},slot:"header"},[o("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),e._v(" "),o("q-toolbar-title",[o("q-select",{staticClass:"q-toolbar-button-flat",attrs:{inverted:"",color:"secondary",value:e.items,"display-value":e.titleDisplayText,options:e.itemChoices,multiple:"",filter:""},on:{input:function(t){e.items=t}}})],1),e._v(" "),o("q-btn",{attrs:{flat:"",icon:"build"},on:{click:function(t){e.showToolbar=!e.showToolbar}}})],1),e._v(" "),e.showToolbar?o("q-toolbar",{attrs:{slot:"header"},slot:"header"},[o("q-datetime",{staticClass:"q-toolbar-button-flat",attrs:{inverted:"",color:"secondary",type:"calendar"===e.chartType?"date":"datetime",value:e.startTime,"first-day-of-week":1,format24h:"",format:"DD MMM YY",max:e.today},on:{change:function(t){e.startTime=t}}}),e._v("\n    -\n    "),o("q-datetime",{staticClass:"q-toolbar-button-flat",attrs:{inverted:"",color:"secondary",type:"calendar"===e.chartType?"date":"datetime",value:e.endTime,"first-day-of-week":1,format24h:"",format:"DD MMM YY",max:e.today},on:{change:function(t){e.endTime=t}}}),e._v(" "),o("q-toolbar-title"),e._v(" "),o("q-btn",{attrs:{round:"",flat:"",icon:"event"},on:{click:function(t){e.resetChartPeriodDialog()}}}),e._v(" "),o("q-btn",{attrs:{round:"",flat:"",icon:"more_vert"}},[o("q-popover",{attrs:{anchor:"bottom right",self:"top right"}},[o("q-list",{staticClass:"no-border",attrs:{link:""}},[o("q-list-header",[e._v("Chart type")]),e._v(" "),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{tag:"label"}},[o("q-item-side",[o("q-radio",{attrs:{val:"line",color:"secondary"},model:{value:e.chartType,callback:function(t){e.chartType=t},expression:"chartType"}})],1),e._v(" "),o("q-item-main",{attrs:{label:"Line chart"}})],1),e._v(" "),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{tag:"label"}},[o("q-item-side",[o("q-radio",{attrs:{val:"calendar",color:"secondary"},model:{value:e.chartType,callback:function(t){e.chartType=t},expression:"chartType"}})],1),e._v(" "),o("q-item-main",{attrs:{label:"Calendar"}})],1),e._v(" "),o("q-item-separator"),e._v(" "),"calendar"===e.chartType?o("q-item",{attrs:{tag:"label"}},[o("q-item-main",{attrs:{label:"Vertical orientation"}}),e._v(" "),o("q-item-side",{attrs:{right:""}},[o("q-toggle",{attrs:{color:"secondary"},model:{value:e.chartOptions.calendar.vertical,callback:function(t){e.$set(e.chartOptions.calendar,"vertical",t)},expression:"chartOptions.calendar.vertical"}})],1)],1):e._e(),e._v(" "),"calendar"===e.chartType?o("q-item",{attrs:{tag:"label"}},[o("q-item-main",{attrs:{label:"Show range slider"}}),e._v(" "),o("q-item-side",{attrs:{right:""}},[o("q-toggle",{attrs:{color:"secondary"},model:{value:e.chartOptions.calendar.showVisualMap,callback:function(t){e.$set(e.chartOptions.calendar,"showVisualMap",t)},expression:"chartOptions.calendar.showVisualMap"}})],1)],1):e._e(),e._v(" "),"calendar"===e.chartType?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{tag:"label"},nativeOn:{click:function(t){e.calendarColorPaletteConfig()}}},[o("q-item-main",{attrs:{label:"Color palette..."}})],1):e._e(),e._v(" "),"line"===e.chartType?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{tag:"label"},nativeOn:{click:function(t){e.lineMarkerConfig()}}},[o("q-item-main",{attrs:{label:"Marker options..."}})],1):e._e()],1)],1)],1)],1):e._e(),e._v(" "),o("div",{staticClass:"fit q-pa-md"},[e.showChart&&e.items&&e.items.length?o("chart",{ref:"chart",staticClass:"fit-chart",attrs:{items:e.items,type:e.chartType,options:e.chartOptions,"start-time":e.startTime,"end-time":e.endTime}}):e._e()],1)],1)},y=[];v._withStripped=!0;var M=!1;var x=function(e){M||o("DXyr")},j=Object(c.a)(b,v,y,!1,x,"data-v-9ccdc69a",null);j.options.__file="src\\layouts\\analyze\\Analyze.vue";var A={props:["model"],components:{Analyze:j.exports},data:function(){return{showAnalyzer:!1}},methods:{opened:function(){this.$refs.analyzer.initChart()}}},w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-btn",{class:{"highlight-and-fade":this.model.highlight},attrs:{flat:"",icon:"timeline",label:"Analyze"},on:{click:function(t){e.showAnalyzer=!0}}},[o("q-modal",{attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"},maximized:""},on:{show:function(t){e.opened()}},model:{value:e.showAnalyzer,callback:function(t){e.showAnalyzer=t},expression:"showAnalyzer"}},[e.showAnalyzer?o("analyze",{ref:"analyzer",attrs:{model:e.model}}):e._e()],1)],1)},T=[];w._withStripped=!0;var C=Object(c.a)(A,w,T,!1,null,null,null);C.options.__file="src\\components\\HbAnalyzeActionButton.vue";var k=C.exports,I=function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-btn",{class:{"highlight-and-fade":this.model.highlight},attrs:{flat:"",label:e.label,icon:this.model.config.icon,disabled:e.disabled,"text-color":e.textColor},on:{click:function(t){e.sendCmd()}}})},N=[];I._withStripped=!0;var D=Object(c.a)({name:"HbCommandActionButton",props:["model"],data:function(){return{showAnalyzer:!1}},methods:{sendCmd:function(){this.$store.dispatch("items/sendCmd")(this.model.config.item,this.command)}},asyncComputed:{label:function(){return this.$expr(this.model.config.label)},disabled:function(){return!!this.model.config.disabled&&this.$expr("="+this.model.config.disabled)},textColor:function(){return this.$expr(this.model.config.textColor)},command:function(){return this.$expr(this.model.config.textColor)}}},I,N,!1,null,null,null);D.options.__file="src\\components\\HbCommandActionButton.vue";var S=D.exports,_=o("5g/+"),L=o("lLAy"),q=o("UyNw"),E={name:"HbCarousel",props:["model"],components:{HbImage:_.a,HbChartImage:L.a,HbContainer:q.default},computed:{}},O=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-carousel",{staticClass:"hb-carousel full-width",class:{"highlight-and-fade":this.model.highlight},attrs:{arrows:e.model.config.arrows,infinite:e.model.config.infinite,autoplay:e.model.config.autoplay,"quick-nav":e.model.config.quickNav,"no-swipe":e.model.config.noSwipe,color:e.model.config.color}},e._l(e.model.slots.slides,function(t,i){return e.model.slots.slides?o("q-carousel-slide",{key:"slide-"+i},[o(t.component,{tag:"component",attrs:{model:t}})],1):e._e()}))},z=[];O._withStripped=!0;var H=!1;var R=function(e){H||o("f6Zw")},Q=Object(c.a)(E,O,z,!1,R,null,null);Q.options.__file="src\\components\\HbCarousel.vue";var U=Q.exports,Y=o("bGai"),B={name:"HbCard",components:a()({HbSingleItemValue:m,HbAnalyzeActionButton:k,HbCommandActionButton:S,HbCarousel:U},Y.a),props:["model","menu"],data:function(){return{}},methods:{addCardToDeck:function(){var e=this,t=Object(h._32)({},this.model);return t.ephemeral=this.model.ephemeral=!1,t.slots||(t.slots={}),new n.a(function(o,i){e.$store.dispatch("cards/create",t).then(function(t){e.$q.notify({type:"positive",message:"Added to card deck"}),o(t)}).catch(function(e){i(e)})})},addCardToDeckAndBookmark:function(){var e=this;return this.addCardToDeck().then(function(t){return e.$store.dispatch("cards/bookmark",t).then(function(){e.$q.notify({type:"info",message:"Added to bookmarks"})})})},bookmarkCard:function(){var e=this;this.$store.dispatch("cards/bookmark",this.model).then(function(){e.$q.notify({type:"info",message:"Added to bookmarks"}),e.model.bookmarked=!0})},unbookmarkCard:function(){var e=this;this.$store.dispatch("cards/unbookmark",this.model).then(function(){e.$q.notify({type:"info",message:"Removed from bookmarks"}),e.model.bookmarked=!1})},editCard:function(){this.model.uid&&this.$router.push("/designer/"+this.model.uid)},deleteCard:function(){var e=this;this.$q.dialog({title:"Delete card",message:"Are you sure you want to delete "+this.model.title+"?",ok:!0,cancel:!0}).then(function(){e.$store.dispatch("cards/remove",e.model).then(function(t){e.$q.notify({type:"warning",message:"Card deleted",actions:[{label:"Undo",handler:function(){e.$store.dispatch("cards/create",t)}}]})})})},forgetCard:function(){var e=this,t=this.model.uid;(window&&window.location&&"home.myopenhab.org"===window.location.host?this.$http.post("/rest/habot/compat/cards/"+t+"/delete",null,{headers:{"Content-Type":"text/plain"}}):this.$http.delete("/rest/habot/cards/"+t)).then(function(){e.$q.notify({type:"positive",message:"Card forgotten"}),e.$emit("forgotten",t)}).catch(function(t){e.$q.notify("Cannot forget card: "+t)})},forceRedraw:function(){this.$forceUpdate()}},asyncComputed:{title:function(){return this.$expr(this.model.title)},subtitle:function(){return this.$expr(this.model.subtitle)},color:function(){return this.$expr(this.model.config.color)},textColor:function(){return this.$expr(this.model.config.textColor)}}},$=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.model?o("q-card",{staticClass:"hb-card",class:{bigger:e.model.config&&e.model.config.bigger,"highlight-and-fade":this.model.highlight},attrs:{inline:"",color:e.color,"text-color":e.textColor}},[e.model.slots&&e.model.slots.media?o("q-card-media",e._l(e.model.slots.media,function(e,t){return o(e.component,{key:"card-media-"+t,tag:"component",attrs:{model:e}})})):e._e(),e._v(" "),o("q-card-title",[o("span",[e._v(e._s(e.title))]),e._v(" "),e.model.subtitle?o("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v(e._s(e.subtitle))]):e._e(),e._v(" "),o("div",{attrs:{slot:"right"},slot:"right"},[e.model.slots&&e.model.slots.right?o("div",{staticClass:"inline-block"},e._l(e.model.slots.right,function(e,t){return o(e.component,{key:"card-right-"+t,tag:"component",attrs:{model:e}})})):e._e(),e._v(" "),o("q-btn",{attrs:{slot:"right",round:"",flat:"",icon:"more_vert"},slot:"right"},[o("q-popover",{attrs:{anchor:"bottom right",self:"top right"}},[o("q-list",{staticClass:"no-border",attrs:{link:""}},["chat"!==this.menu&&"recent"!==this.menu||!this.model.ephemeral||this.model.addToDeckDenied?e._e():o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.addCardToDeck()}}},[o("q-item-main",{attrs:{label:"Add to Card deck"}})],1),e._v(" "),"chat"!==this.menu&&"recent"!==this.menu||!this.model.ephemeral||this.model.addToDeckDenied?e._e():o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.addCardToDeckAndBookmark()}}},[o("q-item-main",{attrs:{label:"Add & bookmark"}})],1),e._v(" "),"chat"!==this.menu&&"recent"!==this.menu||this.model.ephemeral?e._e():o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.editCard()}}},[o("q-item-main",{attrs:{label:"Edit"}})],1),e._v(" "),"chat"!==this.menu&&"recent"!==this.menu||this.model.ephemeral||this.model.bookmarked?e._e():o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.bookmarkCard()}}},[o("q-item-main",{attrs:{label:"Bookmark"}})],1),e._v(" "),"chat"!==this.menu&&"recent"!==this.menu||this.model.ephemeral||!this.model.bookmarked?e._e():o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.unbookmarkCard()}}},[o("q-item-main",{attrs:{label:"Remove bookmark"}})],1),e._v(" "),"recent"===this.menu&&this.model.ephemeral?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.forgetCard()}}},[o("q-item-main",{attrs:{label:"Forget"}})],1):e._e(),e._v(" "),"deck"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.editCard()}}},[o("q-item-main",{attrs:{label:"Edit"}})],1):e._e(),e._v(" "),"deck"!==this.menu||this.model.bookmarked?e._e():o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.bookmarkCard()}}},[o("q-item-main",{attrs:{label:"Bookmark"}})],1),e._v(" "),"deck"===this.menu&&this.model.bookmarked?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.unbookmarkCard()}}},[o("q-item-main",{attrs:{label:"Remove bookmark"}})],1):e._e(),e._v(" "),"deck"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.deleteCard()}}},[o("q-item-main",{attrs:{label:"Delete"}})],1):e._e(),e._v(" "),"bookmark"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.unbookmarkCard()}}},[o("q-item-main",{attrs:{label:"Remove bookmark"}})],1):e._e(),e._v(" "),"designer"===this.menu?o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.forceRedraw()}}},[o("q-item-main",{attrs:{label:"Force redraw"}})],1):e._e()],1)],1),e._v(" "),this.model.bookmarked?o("q-icon",{staticClass:"corner-bookmark",attrs:{name:"bookmark"}}):e._e()],1)],1)]),e._v(" "),e.model.slots&&e.model.slots.main?o("q-card-main",e._l(e.model.slots.main,function(e,t){return o(e.component,{key:"card-main-"+t,tag:"component",attrs:{model:e,name:"card-main-"+t}})})):e._e(),e._v(" "),e.model.slots&&e.model.slots.list&&e.model.slots.list[0]&&"HbList"===e.model.slots.list[0].component?o("hb-list",{attrs:{model:e.model.slots.list[0]}}):e._e(),e._v(" "),e.model.slots&&e.model.slots.tabs&&e.model.slots.tabs[0]&&"HbTabs"===e.model.slots.tabs[0].component?o("hb-tabs",{attrs:{model:e.model.slots.tabs[0]}}):e._e(),e._v(" "),e.model.slots&&e.model.slots.actions?o("q-card-actions",e._l(e.model.slots.actions,function(e,t){return o(e.component,{key:"card-action-"+t,tag:"component",attrs:{model:e,name:"card-action-"+t}})})):e._e()],1):e._e()},P=[];$._withStripped=!0;var F=!1;var W=function(e){F||o("iiyS")},G=Object(c.a)(B,$,P,!1,W,null,null);G.options.__file="src\\components\\HbCard.vue";t.a=G.exports},W7pu:function(e,t){},YH6U:function(e,t){},awQb:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this.$createElement;return(this._self._c||e)("q-list-header",{class:{"highlight-and-fade":this.model.highlight},attrs:{inset:this.model.config.inset}},[this._v(this._s(this.label))])},n=[];i._withStripped=!0;var s=o("XyMi"),a=Object(s.a)({name:"HbListHeader",props:["model"],asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}}}},i,n,!1,null,null,null);a.options.__file="src\\components\\HbListHeader.vue";t.default=a.exports},bGai:function(e,t,o){"use strict";var i=o("/5sW"),n=o("pA7L"),s={name:"HbBtnGroup",props:["model"],components:{HbBtn:n.a}},a=function(){var e=this.$createElement,t=this._self._c||e;return t("q-btn-group",{class:{"highlight-and-fade":this.model.config.highlight},attrs:{flat:this.model.config.flat,rounded:this.model.config.rounded,outline:this.model.config.outline,push:this.model.config.push}},this._l(this.model.slots.buttons,function(e,o){return t("hb-btn",{key:"btngroup-"+o,attrs:{model:e}})}))},r=[];a._withStripped=!0;var l=o("XyMi"),c=Object(l.a)(s,a,r,!1,null,null,null);c.options.__file="src\\components\\HbBtnGroup.vue";var d=c.exports,u=o("UyNw"),p={name:"HbList",props:["model"],data:function(){return{link:this.model.link}},beforeCreate:function(){this.$options.components.HbCollapsible=o("xTPg").default,this.$options.components.HbListItem=o("kYJ6").default,this.$options.components.HbListHeader=o("awQb").default,this.$options.components.HbListSeparator=o("emCr").default}},m=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.model.slots?o("q-list",{class:{"highlight-and-fade":this.model.highlight},attrs:{link:e.model.config.link,separator:!this.model.config.noseparator,striped:this.model.config.striped}},e._l(e.model.slots.items,function(t,i){return o(t.component,{key:"list-item-"+i,tag:"component",attrs:{model:t,link:e.model.config.link}})})):e._e()},h=[];m._withStripped=!0;var g=Object(l.a)(p,m,h,!1,null,null,null);g.options.__file="src\\components\\HbList.vue";var f=g.exports,b={name:"HbTabs",props:["model"],data:function(){return{config:this.model.config}},beforeCreate:function(){this.$options.components.HbTabPane=o("rhCU").default},created:function(){}},v=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.model.slots&&e.model.slots.tabs&&e.model.slots.tabpanes?o("q-tabs",{class:{"highlight-and-fade":this.model.highlight},attrs:{inverted:e.model.config.inverted,align:e.model.config.align,color:e.model.config.color,glossy:e.model.config.glossy,"no-pane-border":e.model.config.noborder,position:e.model.config.position}},[e._l(e.model.slots.tabs,function(e,t){return o("q-tab",{key:"tab-"+t,class:{"highlight-and-fade":e.highlight},attrs:{slot:"title",name:e.config.name,label:e.config.label,default:0===t},slot:"title"})}),e._v(" "),e._l(e.model.slots.tabpanes,function(e,t){return o("hb-tab-pane",{key:"tabpane-"+t,attrs:{model:e}})})],2):e._e()},y=[];v._withStripped=!0;var M=!1;var x=function(e){M||o("4CU5")},j=Object(l.a)(b,v,y,!1,x,"data-v-e6da08b0",null);j.options.__file="src\\components\\HbTabs.vue";var A=j.exports,w=o("xTPg"),T=o("q8t1"),C={props:["model"],data:function(){var e=this.$store.getters["items/name"](this.model.config.item),t=void 0;!t&&e&&e.tags.find(function(e){return 0===e.indexOf("habot:knob:min:")})&&(t=parseFloat(e.tags.find(function(e){return 0===e.indexOf("habot:knob:min:")}).split(":")[3])),!t&&e&&e.stateDescription&&e.stateDescription.minimum&&(t=e.stateDescription.minimum),t||(t=0);var o=void 0;!o&&e&&e.tags.find(function(e){return 0===e.indexOf("habot:knob:max:")})&&(o=parseFloat(e.tags.find(function(e){return 0===e.indexOf("habot:knob:max:")}).split(":")[3])),!o&&e&&e.stateDescription&&e.stateDescription.maximum&&(o=e.stateDescription.minimum),o||(o=100);var i=void 0;return!i&&e&&e.tags.find(function(e){return 0===e.indexOf("habot:knob:step:")})&&(i=parseFloat(e.tags.find(function(e){return 0===e.indexOf("habot:knob:step:")}).split(":")[3])),!i&&e&&e.stateDescription&&e.stateDescription.step&&(i=e.stateDescription.step),i||(i=1),{wait:!1,item:e,defaultMin:t,defaultMax:o,defaultStep:i,size:this.model.config.size?parseInt(this.model.config.size):void 0}},computed:{itemState:{get:function(){return this.wait?this.next:parseFloat(this.$store.getters["items/itemState"](this.model.config.item,!0))||0},set:function(e){var t=this;this.next=e,this.wait||(this.wait=!0,this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:e}),setTimeout(function(){t.wait=!1,setTimeout(function(){t.$store.dispatch("items/sendCmd",{itemName:t.model.config.item,command:t.next})})},500))}}},asyncComputed:{state:{get:function(){if(this.model.config.state)return this.$expr(this.model.config.state)}},label:function(){return this.model.config.label?this.$expr(this.model.config.label,{state:this.$refs.knob?this.$refs.knob.model:this.itemState}):this.$refs.knob?this.$refs.knob.model:this.itemState},iconLeft:function(){return!this.model.config.iconLeft&&this.item&&this.item.tags&&this.item.tags.find(function(e){return 0===e.indexOf("habot:knob:iconLeft:")})?this.item.tags.find(function(e){return 0===e.indexOf("habot:knob:iconLeft:")}).split(":")[3]:this.$expr(this.model.config.iconLeft)},iconRight:function(){return!this.model.config.iconRight&&this.item&&this.item.tags&&this.item.tags.find(function(e){return 0===e.indexOf("habot:knob:iconRight:")})?this.item.tags.find(function(e){return 0===e.indexOf("habot:knob:iconRight:")}).split(":")[3]:this.$expr(this.model.config.iconRight)},color:function(){return!this.model.config.color&&this.item&&this.item.tags&&this.item.tags.find(function(e){return 0===e.indexOf("habot:knob:color:")})?this.item.tags.find(function(e){return 0===e.indexOf("habot:knob:color:")}).split(":")[3]:this.$expr(this.model.config.color)},trackColor:function(){return!this.model.config.trackColor&&this.item&&this.item.tags&&this.item.tags.find(function(e){return 0===e.indexOf("habot:knob:trackColor:")})?this.item.tags.find(function(e){return 0===e.indexOf("habot:knob:trackColor:")}).split(":")[3]:this.$expr(this.model.config.trackColor)}}},k=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-knob",{ref:"knob",class:{"highlight-and-fade":this.model.highlight},style:{"font-size":this.model.config.textSize},attrs:{color:e.color||void 0,trackColor:e.trackColor||void 0,size:e.model.config.size||void 0,min:parseFloat(e.model.config.min)||e.defaultMin,max:parseFloat(e.model.config.max)||e.defaultMax,step:parseFloat(e.model.config.step)||e.defaultStep,lineWidth:e.model.config.lineWidth?parseInt(e.model.config.lineWidth):void 0},model:{value:e.itemState,callback:function(t){e.itemState=t},expression:"itemState"}},[e.label||e.iconLeft||e.iconRight?o("span",[e.iconLeft?o("q-icon",{attrs:{name:e.iconLeft}}):e._e(),e._v(" "),e.label?o("span",[e._v(e._s(e.label))]):e._e(),e._v(" "),e.iconRight?o("q-icon",{attrs:{name:e.iconRight}}):e._e()],1):e._e()])},I=[];k._withStripped=!0;var N=!1;var D=function(e){N||o("dL3d")},S=Object(l.a)(C,k,I,!1,D,null,null);S.options.__file="src\\components\\HbKnob.vue";var _=S.exports,L=function(){var e=this.$createElement;return(this._self._c||e)("q-select",{attrs:{value:this.item.state,options:this.options,radio:this.model.config.radio,filter:this.model.config.filter,separator:this.model.config.separator,dark:this.model.config.dark,stackLabel:this.model.config.stackLabel,color:this.color,inverted:this.model.config.inverted,"hide-underline":this.model.config.hideUnderline,align:this.model.config.align,disable:this.disable},on:{change:this.sendCmd}})},q=[];L._withStripped=!0;var E=Object(l.a)({name:"HbSelect",props:["model"],methods:{sendCmd:function(e){this.item&&e&&this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:e})}},computed:{item:function(){return this.$store.getters["items/name"](this.model.config.item)},options:function(){return this.model.slots&&this.model.slots.options?this.model.slots.options.map(function(e){return e.config}):this.item&&this.item.stateDescription&&this.item.stateDescription.options?this.item.stateDescription.options.map(function(e){return{label:e.label,value:e.value}}):[]}},asyncComputed:{color:function(){return this.$expr(this.model.config.color)},disable:function(){return!!this.model.config.disable&&this.$expr("="+this.model.config.disable)}}},L,q,!1,null,null,null);E.options.__file="src\\components\\HbSelect.vue";var O=E.exports,z=o("GbAQ"),H=o("7109"),R=H._29.rgbToHsv,Q=H._29.hsvToRgb,U=H._29.rgbToHex,Y={props:["model"],data:function(){return{wait:!1,next:null,prev:null,nextCmd:null,showModal:!1}},methods:{sendCmd:function(){this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:this.nextCmd,updateState:!0})},itemStateToHsv:function(e){return{h:parseFloat(e.split(",")[0]),s:parseFloat(e.split(",")[1]),v:parseFloat(e.split(",")[2])}}},watch:{itemState:function(e){3===e.split(",").length&&(this.prev=e)}},computed:{itemState:function(){return this.$store.getters["items/itemState"](this.model.config.item)},rgb:{get:function(){if(this.wait)return this.next;var e=this.itemState;if(1===e.split(",").length){var t=parseFloat(e);if(this.prev){var o=this.itemStateToHsv(this.prev);return o.v=t,Q(o)}return{r:t,g:t,b:t}}return Q({h:parseFloat(e.split(",")[0]),s:parseFloat(e.split(",")[1]),v:parseFloat(e.split(",")[2])})},set:function(e){var t=this,o=R(e);if(!(isNaN(o.h)||isNaN(o.h)||isNaN(o.v))){var i=[o.h,o.s,o.v].join(",");this.next=e,this.nextCmd=i,this.wait||(this.wait=!0,this.sendCmd(),setTimeout(function(){t.wait=!1,setTimeout(function(){t.sendCmd()})},500))}}},colorHex:function(){return this.model.config.item?U(this.rgb):null}}},B=function(){var e=this,t=e.$createElement,o=e._self._c||t;return this.model.config.inline?this.model.config.inline&&!this.model.config.brightness?o("q-color-picker",{model:{value:e.rgb,callback:function(t){e.rgb=t},expression:"rgb"}}):o("q-list",{attrs:{"no-border":""}},[o("q-item",{attrs:{dense:""}},[o("q-color-picker",{staticClass:"hb-color-picker",model:{value:e.rgb,callback:function(t){e.rgb=t},expression:"rgb"}})],1),e._v(" "),o("q-item",{attrs:{dense:""}},[o("q-item-side",{attrs:{icon:"brightness_low"}}),e._v(" "),o("hb-slider",{attrs:{model:e.model}}),e._v(" "),o("q-item-side",{attrs:{right:"",icon:"brightness_high"}})],1)],1):o("div",{staticClass:"q-color-swatch q-mr-md q-ml-md overflow-hidden hb-color-swatch shadow-4",class:{"highlight-and-fade":this.model.highlight},on:{click:function(t){e.showModal=!0}}},[e.colorHex?o("div",{staticClass:"fit",style:{"background-color":e.colorHex}}):e._e(),e._v(" "),o("q-modal",{attrs:{minimized:""},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[o("q-color-picker",{staticClass:"hb-color-modal",model:{value:e.rgb,callback:function(t){e.rgb=t},expression:"rgb"}})],1)],1)},$=[];B._withStripped=!0;var P=!1;var F=function(e){P||o("QZMz")},W=Object(l.a)(Y,B,$,!1,F,null,null);W.options.__file="src\\components\\HbColorPicker.vue";var G=W.exports,X={name:"HbPlayer",props:["model"],components:{HbBtnGroup:d},computed:{itemState:function(){return this.$store.getters["items/itemState"](this.model.config.item,!0)},btnGroupModel:function(){return{component:"HbBtnGroup",config:{rounded:!0},slots:{buttons:[{component:"HbBtn",config:{icon:"skip_previous",size:this.model.config.size||"md",item:this.model.config.item,command:"PREVIOUS",rounded:!0}},{component:"HbBtn",config:{icon:"PLAY"===this.itemState?"pause":"play_arrow",size:this.model.config.size||"md",item:this.model.config.item,command:"PLAY"===this.itemState?"PAUSE":"PLAY",rounded:!0,color:"primary",glossy:!0}},{component:"HbBtn",config:{icon:"skip_next",size:this.model.config.size||"md",item:this.model.config.item,command:"NEXT",rounded:!0}}]}}}}},J=function(){var e=this.$createElement;return(this._self._c||e)("hb-btn-group",{class:{"highlight-and-fade":this.model.highlight},attrs:{model:this.btnGroupModel}})},V=[];J._withStripped=!0;var K=Object(l.a)(X,J,V,!1,null,null,null);K.options.__file="src\\components\\HbPlayer.vue";var Z=K.exports,ee=o("lLAy"),te={name:"HbTimeline",props:["model"],components:de},oe=function(){var e=this.$createElement,t=this._self._c||e;return t("q-timeline",this._l(this.model.slots.main,function(e,o){return t("q-timeline-entry",{key:"timeline-"+o,attrs:{title:e.config.title,subtitle:e.config.subtitle}})}))},ie=[];oe._withStripped=!0;var ne=!1;var se=function(e){ne||o("RI+7")},ae=Object(l.a)(te,oe,ie,!1,se,"data-v-4568e9eb",null);ae.options.__file="src\\components\\HbTimeline.vue";var re=ae.exports,le=o("U6Jp"),ce=o("5g/+");i.a.component("HbBtn",n.a),i.a.component("HbBtnGroup",d),i.a.component("HbContainer",u.default),i.a.component("HbCollapsible",w.default),i.a.component("HbKnob",_),i.a.component("HbList",f),i.a.component("HbTabs",A),i.a.component("HbSelect",O),i.a.component("HbSlider",T.a),i.a.component("HbSwitch",z.a),i.a.component("HbColorPicker",G),i.a.component("HbPlayer",Z),i.a.component("HbTimeline",re),i.a.component("HbShutterControl",le.a),i.a.component("HbImage",ce.a);var de=t.a={HbBtn:n.a,HbBtnGroup:d,HbContainer:u.default,HbList:f,HbTabs:A,HbCollapsible:w.default,HbSlider:T.a,HbKnob:_,HbSwitch:z.a,HbSelect:O,HbColorPicker:G,HbPlayer:Z,HbChartImage:ee.a,HbTimeline:re,HbShutterControl:le.a,HbImage:ce.a}},d3O5:function(e,t){},dL3d:function(e,t){},davb:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNjYuNyAxNjguOSIgd2lkdGg9IjE2Ni43IiBoZWlnaHQ9IjE2OC45IiBpc29sYXRpb249Imlzb2xhdGUiPjxkZWZzPjxjbGlwUGF0aD48cmVjdCB3aWR0aD0iMTY2LjciIGhlaWdodD0iMTY4LjkiLz48L2NsaXBQYXRoPjwvZGVmcz48ZyBjbGlwLXBhdGg9InVybCgjX2NsaXBQYXRoX1BQUGlFY09SaFJTWXdvcEVFTm5hUkZ6emVZU1htd3R0KSI+PHBhdGggZD0iTTY1LjYgMTM1LjJDNjUuNiAxMzcuMSA2NC4xIDEzOC42IDYyLjIgMTM4LjYgNjAuNCAxMzguNiA1OC45IDEzNy4xIDU4LjkgMTM1LjIgNTguOSAxMzAuNyA2MS45IDEyNi43IDY2LjggMTI0IDcxLjEgMTIxLjYgNzcgMTIwLjEgODMuMyAxMjAuMSA4OS43IDEyMC4xIDk1LjYgMTIxLjYgOTkuOSAxMjQgMTA0LjcgMTI2LjcgMTA3LjggMTMwLjcgMTA3LjggMTM1LjIgMTA3LjggMTM3LjEgMTA2LjMgMTM4LjYgMTA0LjQgMTM4LjYgMTAyLjYgMTM4LjYgMTAxLjEgMTM3LjEgMTAxLjEgMTM1LjIgMTAxLjEgMTMzLjMgOTkuNCAxMzEuMyA5Ni42IDEyOS44IDkzLjMgMTI3LjkgODguNiAxMjYuOCA4My4zIDEyNi44IDc4LjEgMTI2LjggNzMuNCAxMjcuOSA3MCAxMjkuOCA2Ny4zIDEzMS4zIDY1LjYgMTMzLjMgNjUuNiAxMzUuMlpNMTQ5LjIgMTUzLjNDMTQ5LjIgMTU3LjYgMTQ3LjUgMTYxLjUgMTQ0LjYgMTY0LjQgMTQxLjggMTY3LjIgMTM3LjkgMTY4LjkgMTMzLjYgMTY4LjkgMTI5LjMgMTY4LjkgMTI1LjQgMTY3LjIgMTIyLjYgMTY0LjQgMTIwLjkgMTYyLjggMTE5LjcgMTYwLjkgMTE4LjkgMTU4LjcgMTE0LjEgMTYxIDEwOSAxNjIuOCAxMDMuNyAxNjQuMSA5Ny4yIDE2NS44IDkwLjQgMTY2LjYgODMuMyAxNjYuNiA2MC4zIDE2Ni42IDM5LjUgMTU3LjMgMjQuNCAxNDIuMiA5LjMgMTI3LjEgMCAxMDYuMyAwIDgzLjMgMCA2MC4zIDkuMyAzOS41IDI0LjQgMjQuNCAzOS41IDkuMyA2MC4zIDAgODMuMyAwIDEwNi40IDAgMTI3LjIgOS4zIDE0Mi4zIDI0LjQgMTU3LjMgMzkuNSAxNjYuNyA2MC4zIDE2Ni43IDgzLjMgMTY2LjcgOTQuNSAxNjQuNSAxMDUuMSAxNjAuNSAxMTQuOSAxNTYuNiAxMjQuMiAxNTEuMSAxMzIuNyAxNDQuNCAxNDAgMTQ3IDE0NS4xIDE0OS4yIDE1MC4yIDE0OS4yIDE1My4zWk0xMzAuNyAxMjYuM0MxMzEuMSAxMjUuNSAxMzEuOCAxMjUgMTMyLjUgMTI0LjhMMTMyLjYgMTI0LjcgMTMyLjYgMTI0LjcgMTMyLjcgMTI0LjcgMTMyLjcgMTI0LjcgMTMyLjggMTI0LjcgMTMyLjkgMTI0LjYgMTMyLjkgMTI0LjYgMTMyLjkgMTI0LjYgMTMzIDEyNC42IDEzMyAxMjQuNkMxMzMgMTI0LjYgMTMzLjEgMTI0LjYgMTMzLjEgMTI0LjZMMTMzLjEgMTI0LjYgMTMzLjIgMTI0LjYgMTMzLjIgMTI0LjZDMTMzLjkgMTI0LjUgMTM0LjYgMTI0LjYgMTM1LjIgMTI1IDEzNS44IDEyNS4zIDEzNi4zIDEyNS44IDEzNi42IDEyNi40TDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi40IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi42IDEyNi41IDEzNi43IDEyNi41QzEzNyAxMjcuMiAxMzcuNyAxMjguMyAxMzguNCAxMjkuNkwxMzguNCAxMjkuNiAxMzguNSAxMjkuNyAxMzguNSAxMjkuNyAxMzguNiAxMjkuOCAxMzguNiAxMjkuOSAxMzguNiAxMjkuOSAxMzguNyAxMzAgMTM4LjcgMTMwLjEgMTM4LjcgMTMwLjEgMTM4LjcgMTMwLjEgMTM4LjggMTMwLjIgMTM4LjggMTMwLjIgMTM4LjggMTMwLjMgMTM4LjkgMTMwLjMgMTM4LjkgMTMwLjQgMTM4LjkgMTMwLjQgMTM4LjkgMTMwLjQgMTM5IDEzMC41IDEzOSAxMzAuNSAxMzkgMTMwLjYgMTM5LjEgMTMwLjcgMTM5LjEgMTMwLjcgMTM5LjEgMTMwLjcgMTM5LjIgMTMwLjggMTM5LjIgMTMwLjggMTM5LjIgMTMwLjlDMTM5LjggMTMxLjggMTQwLjQgMTMyLjkgMTQxIDEzMy45IDE0Ni41IDEyNy42IDE1MS4xIDEyMC4zIDE1NC4zIDExMi40IDE1OCAxMDMuNCAxNjAgOTMuNiAxNjAgODMuMyAxNjAgNjIuMSAxNTEuNCA0MyAxMzcuNiAyOS4xIDEyMy43IDE1LjIgMTA0LjUgNi43IDgzLjMgNi43IDYyLjIgNi43IDQzIDE1LjIgMjkuMSAyOS4xIDE1LjIgNDMgNi43IDYyLjEgNi43IDgzLjMgNi43IDEwNC41IDE1LjIgMTIzLjYgMjkuMSAxMzcuNSA0MyAxNTEuNCA2Mi4yIDE2MCA4My4zIDE2MCA4OS44IDE2MCA5Ni4xIDE1OS4yIDEwMi4xIDE1Ny43IDEwNy44IDE1Ni4yIDExMy4xIDE1NC4yIDExOC4xIDE1MS43TDExOC4xIDE1MS42IDExOC4yIDE1MS42IDExOC4yIDE1MS4zIDExOC4yIDE1MS4zIDExOC4zIDE1MSAxMTguMyAxNTEgMTE4LjQgMTUwLjcgMTE4LjQgMTUwLjYgMTE4LjUgMTUwLjQgMTE4LjUgMTUwLjMgMTE4LjUgMTUwIDExOC42IDE0OS45IDExOC42IDE0OS43IDExOC43IDE0OS42IDExOC44IDE0OS4zQzExOC45IDE0OC45IDExOSAxNDguNSAxMTkuMSAxNDguMkwxMTkuMiAxNDguMSAxMTkuMyAxNDcuOCAxMTkuMyAxNDcuNyAxMTkuNCAxNDcuNCAxMTkuNCAxNDcuNEMxMTkuNSAxNDcuMSAxMTkuNiAxNDYuOSAxMTkuNyAxNDYuN0wxMTkuNyAxNDYuNiAxMTkuOCAxNDYuMyAxMTkuOSAxNDYuMiAxMjAgMTQ1LjkgMTIwLjEgMTQ1LjlDMTIwLjIgMTQ1LjYgMTIwLjMgMTQ1LjMgMTIwLjQgMTQ1LjFMMTIwLjQgMTQ1LjEgMTIwLjYgMTQ0LjcgMTIwLjYgMTQ0LjYgMTIwLjcgMTQ0LjMgMTIwLjggMTQ0LjIgMTIwLjkgMTQzLjkgMTIwLjkgMTQzLjggMTIxIDE0My44IDEyMS4xIDE0My41IDEyMS4xIDE0My40IDEyMS4yIDE0My4yIDEyMS4zIDE0MyAxMjEuNCAxNDNDMTIxLjYgMTQyLjYgMTIxLjcgMTQyLjIgMTIyIDE0MS44TDEyMiAxNDEuNyAxMjIuMiAxNDEuNCAxMjIuMiAxNDEuMyAxMjIuNCAxNDAuOSAxMjIuNCAxNDAuOSAxMjIuNiAxNDAuNSAxMjIuNiAxNDAuNSAxMjIuOCAxNDAuMSAxMjMgMTM5LjggMTIzIDEzOS43IDEyMyAxMzkuNyAxMjMuNCAxMzguOSAxMjMuNSAxMzguOSAxMjMuNiAxMzguNiAxMjMuNyAxMzguNCAxMjMuOCAxMzguMyAxMjMuOSAxMzggMTI0IDEzNy45IDEyNC4yIDEzNy42IDEyNC4yIDEzNy41IDEyNC40IDEzNy4yIDEyNC40IDEzNy4yIDEyNC42IDEzNi44IDEyNC42IDEzNi44IDEyNC44IDEzNi40IDEyNC44IDEzNi40IDEyNSAxMzYuMSAxMjUuMSAxMzYgMTI1LjIgMTM1LjcgMTI1LjMgMTM1LjYgMTI1LjQgMTM1LjMgMTI1LjUgMTM1LjIgMTI1LjYgMTM1IDEyNS43IDEzNC44IDEyNS44IDEzNC42IDEyNS45IDEzNC40IDEyNi4yIDEzNCAxMjYuMiAxMzMuOSAxMjYuNCAxMzMuNiAxMjYuNCAxMzMuNiAxMjYuNiAxMzMuMyAxMjYuNiAxMzMuMiAxMjYuOCAxMzIuOSAxMjYuOCAxMzIuOSAxMjcgMTMyLjUgMTI3IDEzMi41IDEyNy4zIDEzMi4yIDEyNy40IDEzMS45IDEyNy40IDEzMS44IDEyNy42IDEzMS42IDEyNy43IDEzMS41IDEyNy44IDEzMS4zIDEyNy45IDEzMS4xIDEyOCAxMzEgMTI4LjEgMTMwLjggMTI4LjEgMTMwLjYgMTI4LjMgMTMwLjQgMTI4LjMgMTMwLjQgMTI4LjUgMTMwLjEgMTI4LjUgMTMwLjEgMTI4LjcgMTI5LjggMTI4LjcgMTI5LjggMTI4LjggMTI5LjUgMTI4LjggMTI5LjUgMTI4LjkgMTI5LjQgMTI4LjkgMTI5LjMgMTI5IDEyOS4zIDEyOSAxMjkuMiAxMjkgMTI5LjEgMTI5IDEyOS4xIDEyOS4xIDEyOSAxMjkuMSAxMjkgMTI5LjIgMTI4LjkgMTI5LjIgMTI4LjkgMTI5LjIgMTI4LjggMTI5LjIgMTI4LjggMTI5LjMgMTI4LjggMTI5LjMgMTI4LjggMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjMgMTI4LjcgMTI5LjQgMTI4LjYgMTI5LjQgMTI4LjYgMTI5LjQgMTI4LjUgMTI5LjQgMTI4LjUgMTI5LjQgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjQgMTI5LjUgMTI4LjMgMTI5LjUgMTI4LjMgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjIgMTI5LjYgMTI4LjEgMTI5LjYgMTI4LjEgMTI5LjcgMTI4LjEgMTI5LjcgMTI4LjEgMTI5LjcgMTI4IDEyOS43IDEyOCAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOSAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOCAxMjcuOCAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNyAxMjkuOSAxMjcuNiAxMjkuOSAxMjcuNiAxMzAgMTI3LjYgMTMwIDEyNy42IDEzMCAxMjcuNSAxMzAgMTI3LjUgMTMwIDEyNy40IDEzMCAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuNCAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMSAxMjcuMyAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMiAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMiAxMjcuMSAxMzAuMyAxMjcgMTMwLjMgMTI3IDEzMC4zIDEyNyAxMzAuMyAxMjcgMTMwLjMgMTI3IDEzMC4zIDEyNyAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOSAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNCAxMjYuOCAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNyAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNSAxMjYuNiAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNSAxMzAuNiAxMjYuNCAxMzAuNiAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuNCAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuMyAxMzAuNyAxMjYuM1pNMTQwIDE1OS42QzE0MS41IDE1OC4xIDE0Mi42IDE1NS44IDE0Mi42IDE1My4zIDE0Mi42IDE1MSAxNDAuMSAxNDYgMTM3LjQgMTQxLjFMMTM3LjQgMTQxLjEgMTM3LjQgMTQxLjEgMTM3LjQgMTQxLjFDMTM3IDE0MC40IDEzNi43IDEzOS44IDEzNi4zIDEzOS4xTDEzNi4yIDEzOSAxMzYuMiAxMzguOSAxMzYuMSAxMzguOSAxMzYuMSAxMzguOCAxMzYgMTM4LjUgMTM1LjkgMTM4LjVDMTM1LjIgMTM3LjIgMTM0LjUgMTM2LjEgMTMzLjkgMTM1TDEzMy44IDEzNC45IDEzMy44IDEzNC44IDEzMy44IDEzNC44IDEzMy43IDEzNC43IDEzMy42IDEzNC42IDEzMy42IDEzNC41IDEzMy40IDEzNC44IDEzMy4zIDEzNS4xIDEzMy4zIDEzNS4xIDEzMy4xIDEzNS40IDEzMy4xIDEzNS40IDEzMi45IDEzNS43IDEzMi43IDEzNiAxMzIuNyAxMzYgMTMyLjUgMTM2LjMgMTMyLjUgMTM2LjMgMTMyLjQgMTM2LjYgMTMyLjIgMTM2LjkgMTMyLjIgMTM2LjkgMTMyIDEzNy4yIDEzMS44IDEzNy41IDEzMS44IDEzNy41IDEzMS42IDEzNy45IDEzMS42IDEzNy45IDEzMS40IDEzOC4yIDEzMS40IDEzOC4yIDEzMS4yIDEzOC41IDEzMSAxMzguOSAxMzEgMTM4LjkgMTMwLjggMTM5LjIgMTMwLjggMTM5LjIgMTMwLjcgMTM5LjUgMTMwLjcgMTM5LjUgMTMwLjUgMTM5LjkgMTMwLjUgMTM5LjkgMTMwLjMgMTQwLjIgMTMwLjEgMTQwLjUgMTMwLjEgMTQwLjUgMTI5LjkgMTQwLjkgMTI5LjkgMTQwLjkgMTI5LjcgMTQxLjIgMTI5LjcgMTQxLjIgMTI5LjYgMTQxLjUgMTI5LjQgMTQxLjkgMTI5LjIgMTQyLjIgMTI5LjIgMTQyLjIgMTI5IDE0Mi42IDEyOSAxNDIuNiAxMjguOCAxNDIuOSAxMjguNiAxNDMuMiAxMjguNiAxNDMuMiAxMjguNSAxNDMuNiAxMjguMyAxNDMuOSAxMjguMyAxNDMuOSAxMjguMSAxNDQuMyAxMjguMSAxNDQuMyAxMjcuOSAxNDQuNiAxMjcuOSAxNDQuNiAxMjcuOCAxNDQuOSAxMjcuNiAxNDUuMiAxMjcuNCAxNDUuNiAxMjcuMyAxNDUuOSAxMjcuMyAxNDUuOSAxMjcuMSAxNDYuMiAxMjcgMTQ2LjUgMTI3IDE0Ni41IDEyNi44IDE0Ni44IDEyNi44IDE0Ni44IDEyNi43IDE0Ny4yIDEyNi43IDE0Ny4yIDEyNi41IDE0Ny41IDEyNi41IDE0Ny41IDEyNi40IDE0Ny44IDEyNi40IDE0Ny44IDEyNi4zIDE0OC4xIDEyNi4xIDE0OC40IDEyNiAxNDguNiAxMjYgMTQ4LjYgMTI1LjkgMTQ5IDEyNS45IDE0OSAxMjUuNyAxNDkuMyAxMjUuNyAxNDkuNSAxMjUuNyAxNDkuNSAxMjUuNiAxNDkuOCAxMjUuNiAxNDkuOCAxMjUuNCAxNTAgMTI1LjQgMTUwIDEyNS4zIDE1MC4zIDEyNS4zIDE1MC4zIDEyNS4zIDE1MC42IDEyNS4zIDE1MC42IDEyNS4yIDE1MC44IDEyNS4yIDE1MC44IDEyNS4xIDE1MS4xIDEyNS4xIDE1MS4xIDEyNSAxNTEuMyAxMjUgMTUxLjMgMTI1IDE1MS42IDEyNSAxNTEuNiAxMjQuOSAxNTEuOCAxMjQuOSAxNTEuOCAxMjQuOCAxNTIgMTI0LjggMTUyIDEyNC44IDE1Mi4yIDEyNC44IDE1Mi4yIDEyNC44IDE1Mi40IDEyNC44IDE1Mi40QzEyNC43IDE1Mi41IDEyNC43IDE1Mi41IDEyNC43IDE1Mi42TDEyNC43IDE1Mi42IDEyNC43IDE1Mi44IDEyNC43IDE1Mi44QzEyNC43IDE1Mi45IDEyNC43IDE1Mi45IDEyNC43IDE1M0wxMjQuNyAxNTMgMTI0LjYgMTUzLjIgMTI0LjYgMTUzLjIgMTI0LjYgMTUzLjMgMTI0LjYgMTUzLjRDMTI0LjcgMTU1LjkgMTI1LjcgMTU4LjEgMTI3LjMgMTU5LjcgMTI4LjkgMTYxLjMgMTMxLjEgMTYyLjMgMTMzLjYgMTYyLjMgMTM2LjEgMTYyLjMgMTM4LjMgMTYxLjMgMTQwIDE1OS42Wk0xMzUuMyA3Mi43QzEzNi4yIDc0LjMgMTM1LjYgNzYuMyAxMzMuOSA3Ny4yIDEzMi4zIDc4IDEzMC4zIDc3LjQgMTI5LjQgNzUuOCAxMjguNyA3NC4zIDEyNy42IDcyLjkgMTI2LjMgNzEuOSAxMjUgNzAuOCAxMjMuNCA3MC4xIDEyMS44IDY5LjZMMTIxLjggNjkuNkMxMjAuOCA2OS40IDExOS44IDY5LjIgMTE4LjkgNjkuMiAxMTcuOCA2OS4yIDExNi44IDY5LjMgMTE1LjggNjkuNSAxMTQgNjkuOSAxMTIuMyA2OC44IDExMS44IDY3IDExMS41IDY1LjIgMTEyLjYgNjMuNSAxMTQuNCA2MyAxMTUuOCA2Mi43IDExNy40IDYyLjYgMTE4LjkgNjIuNiAxMjAuNSA2Mi42IDEyMiA2Mi44IDEyMy40IDYzLjJMMTIzLjYgNjMuMkMxMjYuMSA2My45IDEyOC40IDY1LjEgMTMwLjQgNjYuNyAxMzIuNSA2OC4zIDEzNC4xIDcwLjQgMTM1LjMgNzIuN1pNMzcuMiA3NS44QzM2LjQgNzcuNCAzNC40IDc4IDMyLjcgNzcuMiAzMS4xIDc2LjMgMzAuNSA3NC4zIDMxLjMgNzIuNyAzMi41IDcwLjQgMzQuMiA2OC4zIDM2LjIgNjYuNyAzOC4yIDY1LjEgNDAuNiA2My45IDQzLjEgNjMuMkw0My4yIDYzLjJDNDQuNyA2Mi44IDQ2LjIgNjIuNiA0Ny43IDYyLjYgNDkuMyA2Mi42IDUwLjggNjIuNyA1Mi4zIDYzIDU0LjEgNjMuNSA1NS4yIDY1LjIgNTQuOCA2NyA1NC40IDY4LjggNTIuNiA2OS45IDUwLjkgNjkuNSA0OS45IDY5LjMgNDguOCA2OS4yIDQ3LjggNjkuMiA0Ni44IDY5LjIgNDUuOCA2OS40IDQ0LjkgNjkuNkw0NC45IDY5LjZDNDMuMiA3MC4xIDQxLjcgNzAuOCA0MC40IDcxLjkgMzkuMSA3Mi45IDM4IDc0LjMgMzcuMiA3NS44Wk0xMjUuMiA5Mi43QzEyNS4yIDkwLjcgMTI0LjUgODguOSAxMjMuMyA4Ny42IDEyMi4yIDg2LjUgMTIwLjYgODUuNyAxMTkgODUuNyAxMTcuMyA4NS43IDExNS44IDg2LjUgMTE0LjcgODcuNiAxMTMuNSA4OC45IDExMi44IDkwLjcgMTEyLjggOTIuNyAxMTIuOCA5NC42IDExMy41IDk2LjQgMTE0LjcgOTcuNyAxMTUuOCA5OC45IDExNy4zIDk5LjYgMTE5IDk5LjYgMTIwLjYgOTkuNiAxMjIuMiA5OC45IDEyMy4zIDk3LjcgMTI0LjUgOTYuNCAxMjUuMiA5NC42IDEyNS4yIDkyLjdaTTEyOC4yIDgzLjJDMTMwLjQgODUuNiAxMzEuOCA4OSAxMzEuOCA5Mi43IDEzMS44IDk2LjQgMTMwLjQgOTkuNyAxMjguMiAxMDIuMiAxMjUuOCAxMDQuNyAxMjIuNiAxMDYuMyAxMTkgMTA2LjMgMTE1LjQgMTA2LjMgMTEyLjEgMTA0LjcgMTA5LjggMTAyLjIgMTA3LjUgOTkuNyAxMDYuMSA5Ni40IDEwNi4xIDkyLjcgMTA2LjEgODkgMTA3LjUgODUuNiAxMDkuOCA4My4yIDExMi4xIDgwLjYgMTE1LjQgNzkuMSAxMTkgNzkuMSAxMjIuNiA3OS4xIDEyNS44IDgwLjYgMTI4LjIgODMuMlpNNTMuOSA5Mi43QzUzLjkgOTAuNyA1My4yIDg4LjkgNTIgODcuNiA1MC45IDg2LjUgNDkuNCA4NS43IDQ3LjcgODUuNyA0NiA4NS43IDQ0LjUgODYuNSA0My40IDg3LjYgNDIuMiA4OC45IDQxLjUgOTAuNyA0MS41IDkyLjcgNDEuNSA5NC42IDQyLjIgOTYuNCA0My40IDk3LjcgNDQuNSA5OC45IDQ2IDk5LjYgNDcuNyA5OS42IDQ5LjQgOTkuNiA1MC45IDk4LjkgNTIgOTcuNyA1My4yIDk2LjQgNTMuOSA5NC42IDUzLjkgOTIuN1pNNTYuOSA4My4yQzU5LjIgODUuNiA2MC41IDg5IDYwLjUgOTIuNyA2MC41IDk2LjQgNTkuMiA5OS43IDU2LjkgMTAyLjIgNTQuNSAxMDQuNyA1MS4zIDEwNi4zIDQ3LjcgMTA2LjMgNDQuMSAxMDYuMyA0MC45IDEwNC43IDM4LjUgMTAyLjIgMzYuMiA5OS43IDM0LjggOTYuNCAzNC44IDkyLjcgMzQuOCA4OSAzNi4yIDg1LjYgMzguNSA4My4yIDQwLjkgODAuNiA0NC4xIDc5LjEgNDcuNyA3OS4xIDUxLjMgNzkuMSA1NC41IDgwLjYgNTYuOSA4My4yWiIgZmlsbD0icmdiKDEsMjIsMzkpIiBmaWxsLW9wYWNpdHk9IjAuMiIvPjwvZz48L3N2Zz4K"},e8cx:function(e,t){e.exports={HbCard:{description:"The HbCard is the root component of all HABot cards",availableByDefault:!1,configDescriptions:{bigger:{type:"boolean",description:"Make the card a little bigger (except on phones where it will always span the entire screen width)"},color:{type:"color",description:"The background color of the card (expressions accepted)"},textColor:{type:"color",description:"The color of the text in the card (expressions accepted)"}},slotDescriptions:{main:{description:"The main area of the card",deniedComponents:["HbCard","HbList","HbListItem","HbListHeader","HbTab","HbTabPane"]},list:{description:"A slot for hosting a list component (HbList)",allowedComponents:["HbList"]},tabs:{description:"A slot for hosting a tabs component (HbTabs)",allowedComponents:["HbTabs"]},right:{description:"The area on the right of the card title along the context menu",allowedComponents:["HbSingleItemValue","HbSwitch","HbColorPicker"]},media:{description:"An optional area above the card's title where images, charts and carousels may be displayed",allowedComponents:["HbChartImage","HbImage","HbCarousel"]},actions:{description:"The area on the bottom of the card where action buttons may be added",allowedComponents:["HbCommandActionButton","HbAnalyzeActionButton"]}}},HbCommandActionButton:{description:"An action button sending a command to an item",availableByDefault:!1,configDescriptions:{label:{type:"text",description:"The label of the button (expressions accepted)"},icon:{type:"icon",description:"The icon to display alongside the label"},textColor:{type:"text",description:"The color of the button (expressions accepted)"},disabled:{type:"expr",targetType:"boolean",description:"The button will be disabled when this expression evaluates to true"},item:{type:"item",description:"The item to send the command to"},command:{type:"text",description:"The command to send (expressions accepted)"}}},HbAnalyzeActionButton:{description:"An action button opening the analyze window for a set of items",availableByDefault:!1,configDescriptions:{items:{type:"item",multiple:!0,description:"The initial list of items to analyze"},period:{type:"optiongroup",description:"The initial period to analyze",options:[{value:"h",label:"h"},{value:"4h",label:"4h"},{value:"8h",label:"8h"},{value:"12h",label:"12h"},{value:"D",label:"D"},{value:"2D",label:"2D"},{value:"3D",label:"3D"},{value:"W",label:"W"},{value:"2W",label:"2W"},{value:"M",label:"M"},{value:"2M",label:"2M"},{value:"4M",label:"4M"},{value:"Y",label:"Y"}]}}},HbContainer:{description:"A generic, flexible container",configDescriptions:{classes:{type:"array",description:"CSS classes to apply to the container; see http://quasar-framework.org/components/"},classesExpr:{type:"expr",targetType:"array",description:'Optional expression which should evaluate to an array with additional CSS classes to apply; for example: ["bg-" + (items.Temperature.state > 16 ? "positive" : "negative"]'},visible:{type:"expr",targetType:"boolean",description:"Optional boolean expression to control the visibility of the container (hidden if false); for example: items.Temperature.state <= 16"},text:{type:"text",description:"A text to display in the container (expressions accepted)"}},slotDescriptions:{main:{description:"The contents of the container"}}},HbList:{description:"Container for a list of HbListItems",configDescriptions:{link:{type:"boolean",description:"Display the list items in gray when hovering on desktops"},noseparator:{type:"boolean",description:"Don't display a separator between items automatically - you can still add HbListSeparators yourself"},striped:{type:"boolean",description:"Apply highlight to items intermittently"}},slotDescriptions:{items:{description:"Contains the list items",allowedComponents:["HbListItem","HbCollapsible","HbListHeader","HbListSeparator"]}}},HbListHeader:{description:"A header between list items",availableByDefault:!1,configDescriptions:{label:{type:"text",description:"Label"},inset:{type:"boolean",description:"Place an inset header - leave a margin on the left"}}},HbListSeparator:{description:"A separator between list items",availableByDefault:!1,configDescriptions:{inset:{type:"boolean",description:"Place an inset separator - leave a margin on the left"}}},HbListItem:{description:"A list item",availableByDefault:!1,configDescriptions:{label:{type:"text",description:"The label of the list item; accepts expressions"},sublabel:{type:"text",description:"The subtitle below; accepts expressions - will contain the name of the item if specified by default; accepts expressions"},item:{type:"item",description:"The item controlled by this list item"},state:{type:"text",description:"The state to display on the right if no item is specified; accepts expressions"},leftIcon:{type:"icon",description:"The icon to display on left"},leftLetter:{type:"text",description:"The letter to display on left"},leftAvatar:{type:"text",description:"The avatar (image) to display on left"},leftColor:{type:"color",description:"The color for the icon or letter on the left"},leftInverted:{type:"boolean",description:"Invert the colors of the icon or letter on the left"}}},HbCollapsible:{description:"A collapsible, useable both in a HbList and standalone",configDescriptions:{label:{type:"text",description:"The label in the header"},sublabel:{type:"text",description:"The sublabel in the header"},group:{type:"text",description:"Use the same group identifier on several HbCollapsibles to make a group act as an accordion"},indent:{type:"boolean",description:"Indent the collapsible's contents (for example to build a hierarchy)"}},slotDescriptions:{main:{description:"The main area of the collapsible"}}},HbTabs:{description:"A set of tabs",configDescriptions:{align:{type:"optiongroup",description:"Alignment of the tabs in the bar",options:[{value:"left",label:"Left"},{value:"center",label:"Center"},{value:"right",label:"Right"},{value:"justify",label:"Justify"}]},inverted:{type:"boolean",description:"Invert the background of the tab"},position:{type:"optiongroup",description:"Position the tab above or below the tab panes",options:[{value:"top",label:"Top"},{value:"bottom",label:"Bottom"}]},color:{type:"color",description:"Color of the tab header's background"},glossy:{type:"boolean",description:"Apply a glossy effect to the tab header"},noborder:{type:"boolean",description:"Don't draw a border around the tab panes"}},slotDescriptions:{tabs:{description:"The collection of tabs",allowedComponents:["HbTab"]},tabpanes:{description:"The collection of tab panes which must match the tabs",allowedComponents:["HbTabPane"]}}},HbTab:{description:"A tab - use in HbTabs and be sure to add a HbTabPane with the same name in the tabpanes slot",availableByDefault:!1,configDescriptions:{name:{type:"text",description:"Name of the tab - should match the name of the corresponding HbTabPane in the tabpanes slot"},label:{type:"text",description:"Label of the tab"}}},HbTabPane:{description:"A tab pane - use in HbTabs's tabpanes slot and be sure to match the name with a HbTab",availableByDefault:!1,configDescriptions:{name:{type:"text",description:"Name of the tab pane - should match the name of the corresponding HbTab in the tabs slot"}},slotDescriptions:{main:{description:"The main area of the tab pane"}}},HbSlider:{description:"A slider operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this list item"},min:{type:"number",description:"The minimum value, 0 by default"},max:{type:"number",description:"The maximum value, 100 by default"},step:{type:"number",description:"The step between values"},color:{type:"color",description:"One color of the bar (accepts expressions)"},label:{type:"boolean",description:"Display a label when dragging the slider"},labelAlways:{type:"boolean",description:"Display the label even when not dragging the slider"},labelValue:{type:"text",description:"Override the default label value (expressions accepted, with pre-defined 'state' variable)"},square:{type:"boolean",description:"Displays a squared slider button instead of round"},snap:{type:"boolean",description:"Snap the handler on step values"},markers:{type:"boolean",description:"Display markers representing step values"},fillHandleAlways:{type:"boolean",description:"Fill the handle with color even if it's at the minimum value"}}},HbKnob:{description:"A knob operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this list item"},size:{type:"text",description:"The size of the knob, e.g. '100px' or '15rem'"},min:{type:"number",description:"The minimum value, 0 by default"},max:{type:"number",description:"The maximum value, 100 by default"},step:{type:"number",description:"The step between values"},color:{type:"color",description:"One color of the bar (accepts expressions)"},trackColor:{type:"color",description:"One color of the track (accepts expressions)"},lineWidth:{type:"number",description:"The thickness of the track, 5 by default"},textSize:{type:"text",description:"Size of the text (examples: 24px, 36pt, 5rem...)"},label:{type:"text",description:"Override the default label (accepts expressions with pre-defined 'state' variable)"},iconLeft:{type:"icon",description:"Optional icon to display left of the label"},iconRight:{type:"icon",description:"Optional icon to display right of the label"}}},HbSwitch:{description:"A switch operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this switch"}}},HbColorPicker:{description:"A color picker operating an item",configDescriptions:{item:{type:"item",description:"The item controlled by this color picker"},inline:{type:"boolean",description:"Displays the color picker itself inline in the parent component, instead of the swatch"},brightnessSlider:{type:"boolean",description:"Display a slider for brightness underneath and center (inline mode only)"}}},HbPlayer:{description:"A set of three buttons controlling a Player item",configDescriptions:{item:{type:"item",description:"The item controlled by this player control"},size:{type:"optiongroup",description:"Size of the button",options:[{value:"",label:"Default"},{value:"xs",label:"xs"},{value:"sm",label:"sm"},{value:"md",label:"md"},{value:"lg",label:"lg"},{value:"xl",label:"xl"}]}}},HbSingleItemValue:{description:"Displays the formatted state of an item. Designed to be placed in the right slot of a HbCard",configDescriptions:{item:{type:"item",description:"The item whose state should be displayed this component"},state:{type:"text",description:"A textual value to display instead of the state of the state of the configyured item"}}},HbImage:{description:"Displays an item as an image. Requires a sitemap and a 'habot:image:sitemap:<sitemapname>' tag on the item",availableByDefault:!1,configDescriptions:{item:{type:"item",description:"The item to display; either an Image item or a String item with an associated sitemap referenced in a 'habot:image:sitemap:<sitemapname> tag"},aspectRatio:{type:"optiongroup",description:"The aspect ratio of the image",options:[{value:null,label:"4:3 (default)"},{value:"1:1",label:"1:1"},{value:"2:1",label:"2:1"},{value:"3:2",label:"3:2"},{value:"16:9",label:"16:9"}]}}},HbChartImage:{description:"Displays a chart generated by the openHAB servlet",availableByDefault:!1,configDescriptions:{items:{type:"item",multiple:!0,description:"The item(s) to chart"},period:{type:"optiongroup",description:"The period to chart",options:[{value:"h",label:"h"},{value:"4h",label:"4h"},{value:"8h",label:"8h"},{value:"12h",label:"12h"},{value:"D",label:"D"},{value:"2D",label:"2D"},{value:"3D",label:"3D"},{value:"W",label:"W"},{value:"2W",label:"2W"},{value:"M",label:"M"},{value:"2M",label:"2M"},{value:"4M",label:"4M"},{value:"Y",label:"Y"}]}}},HbCarousel:{description:"A carousel able to display several images, charts or containers in a slideshow",availableByDefault:!1,configDescriptions:{color:{type:"color",description:"Color of the controls"},arrows:{type:"boolean",description:"Display navigation arrows on the sides"},infinite:{type:"boolean",description:"Infinite scrolling - allows scrolling last to first or first or last"},autoplay:{type:"boolean",description:"Scrolls automatically between slides at regular intervals"},quickNav:{type:"boolean",description:"Show navigation dots at the bottom"},nowipe:{type:"boolean",description:"Disable swipe gesture to switch slides - enable arrows or quick-nav in this case"}},slotDescriptions:{slides:{description:"The carousel's slides",allowedComponents:["HbImage","HbChartImage","HbContainer"]}}},HbBtn:{description:"Displays a button which may be used to send commands, open a modal or an action sheet",configDescriptions:{label:{type:"text",description:"Label of the button (expressions allowed)"},item:{type:"item",description:"Item to send the command to (optional if slots defined)"},command:{type:"text",description:"Command to send (optional if slots defined, expressions accepted)"},size:{type:"optiongroup",description:"Size of the button",options:[{value:"",label:"Default"},{value:"xs",label:"xs"},{value:"sm",label:"sm"},{value:"md",label:"md"},{value:"lg",label:"lg"},{value:"xl",label:"xl"}]},icon:{type:"icon",description:"Primary icon"},iconRight:{type:"icon",description:"Icon to the right"},disabled:{type:"expr",targetType:"boolean",description:"The button is disabled when this expression is true"},color:{type:"color",description:"Color of the button (expressions allowed)"},textColor:{type:"color",description:"Text color of the button (expressions allowed)"},flat:{type:"boolean",description:"Button has a flat look"},outline:{type:"boolean",description:"Button has an outlined look"},rounded:{type:"boolean",description:"Button has a rounded look"},round:{type:"boolean",description:"Button is round (displays only the icon)"},dense:{type:"boolean",description:"Button has a dense look"},push:{type:"boolean",description:"Button has a push effect"},glossy:{type:"boolean",description:"Button has a glossy look"},noCaps:{type:"boolean",description:"Don't put the label in all caps"},noRipple:{type:"boolean",description:"Disable the ripple effect"}},slotDescriptions:{modal:{description:"Accepts a HbModal which will be displayed when clicking on the button",allowedComponents:["HbModal"]},popover:{description:"Accepts a HbPopover which will be displayed when clicking on the button"}}},HbPopover:{description:"Container for a popover - use for menus and other elements displayed as a popup",availableByDefault:!1,configDescriptions:{fit:{type:"boolean",description:"Fit the popover width to the parent component"},anchor:{type:"text",description:"Where to place the anchor"},self:{type:"text",description:"Where to place the popover itself"}},slotDescriptions:{main:{description:"The contents of the popover",allowedComponents:["HbContainer","HbList"]}}},HbBtnGroup:{description:"A group of several HbBtn components",configDescriptions:{flat:{type:"boolean",description:"Button has a flat look"},outline:{type:"boolean",description:"Button has an outlined look"},rounded:{type:"boolean",description:"Button has a rounded look"},push:{type:"boolean",description:"Button has a push effect"}},slotDescriptions:{buttons:{description:"The buttons in the button group",allowedComponents:["HbBtn"]}}},HbSelect:{description:"A selection control to switch an item's state",configDescriptions:{item:{type:"item",description:"The item to control - server-provided options will be used if available and if the options slot is absent or empty"},stackLabel:{type:"text",description:"Label to display above the control"},color:{type:"color",description:"Color of the control's content (accepts expressions)"},inverted:{type:"boolean",description:"Invert the background"},hideUnderline:{type:"boolean",description:"Hide the line under the control"},dark:{type:"boolean",description:"Select to optimize the display if the control is on a dark background"},separator:{type:"boolean",description:"Draw separators between options"},filter:{type:"boolean",description:"Offers a filter field for long lists of options"},radio:{type:"boolean",description:"Displays radio buttons alongside options"},disable:{type:"expr",targetType:"boolean",description:"The control will be disabled if this expression evaluates to true"}},slotDescriptions:{options:{description:"The collection of options for the HbSelect control; replaces the server-provided options",allowedComponents:["HbSelectOption"]}}},HbSelectOption:{description:"A selection option for the HbSelect component",availableByDefault:!1,configDescriptions:{value:{type:"text",description:"The value to send as a command to the item configured for the parent HbSelect"},label:{type:"text",description:"The display label of option"},sublabel:{type:"text",description:"The sublabel of the option"},leftColor:{type:"color",description:"The color of the icon or letter on the left"},icon:{type:"icon",description:"The icon of the left"},letter:{type:"text",description:"The letter on the left"},leftInverted:{type:"boolean",description:"Invert the color of the background of the icon/letter on the left"},leftTextColor:{type:"text",description:"Override the white color of the text or icon (for inverted icons or letter)"},labelLines:{type:"text",description:"Number of lines the label can expand to"},sublabelLines:{type:"text",description:"Number of lines the sublabel can expand to"},inset:{type:"boolean",description:"Inset the label if no left-side icon or letter is specified"},rightColor:{type:"color",description:"The color of the icon or letter on the right"},rightIcon:{type:"icon",description:"The icon of the right"},rightLetter:{type:"text",description:"The letter on the right"},rightInverted:{type:"boolean",description:"Invert the color of the background of the icon/letter on the right"},rightTextColor:{type:"text",description:"Override the white color of the text or icon (for inverted icons or letter on the right)"},stamp:{type:"text",description:"Short text to use as a 'stamp' on the right side"}}},HbShutterControl:{description:"A group of three buttons to control a rollershutter item",configDescriptions:{item:{type:"item",description:"The Rollershutter item to control"},flat:{type:"boolean",description:"Buttons have a flat look"},outline:{type:"boolean",description:"Buttons have an outlined look"},rounded:{type:"boolean",description:"Buttons have a rounded look"},dense:{type:"boolean",description:"Button has a dense look"},push:{type:"boolean",description:"Buttons have a push effect"},glossy:{type:"boolean",description:"Button has a glossy look"},noRipple:{type:"boolean",description:"Disable the ripple effect"},upDownIcons:{type:"optiongroup",description:"The Material icons for the up/down buttons",options:[{value:"keyboard_arrow",label:"keyboard_arrow_down / keyboard_arrow_up"},{value:"arrow",label:"arrow_downward / arrow_upward"},{value:"arrow_drop",label:"arrow_dropup / arrow_dropdown"}]},stopIcon:{type:"optiongroup",description:"The Material icons for the stop button",options:[{value:"stop",label:"stop"},{value:"report",label:"report"},{value:"cancel",label:"cancel"},{value:"close",label:"close"}]},size:{type:"optiongroup",description:"Size of the buttons",options:[{value:"",label:"Default"},{value:"xs",label:"xs"},{value:"sm",label:"sm"},{value:"md",label:"md"},{value:"lg",label:"lg"},{value:"xl",label:"xl"}]}},slotDescriptions:{buttons:{description:"The buttons in the button group",allowedComponents:["HbBtn"]}}},HbModal:{description:"Container for a modal - use for displaying more information in a separate screen",availableByDefault:!1,configDescriptions:{minimized:{type:"boolean",description:"Modal is never fullscreen, even on small screens, and has no toolbar"},maximized:{type:"boolean",description:"Modal is always fullscreen, even on big screens"},position:{type:"optiongroup",description:"Where to position the modal, if not maximized",options:[{value:"",label:"Default"},{value:"left",label:"Left"},{value:"top",label:"Top"},{value:"right",label:"Right"},{value:"bottom",label:"Bottom"}]},contentClasses:{type:"array",description:"CSS Classes to apply to the content area; see http://quasar-framework.org/components/"},toolbarTitle:{type:"text",description:"Title of the toolbar"},toolbarSubtitle:{type:"text",description:"Subtitle of the toolbar"},toolbarColor:{type:"color",description:"Background color of the toolbar"},toolbarTextColor:{type:"color",description:"Text color of the toolbar"},toolbarInverted:{type:"boolean",description:"Toolbar is inverted"},toolbarGlossy:{type:"boolean",description:"Toolbar is glossy"}},slotDescriptions:{main:{description:"The contents of the popover",allowedComponents:["HbContainer","HbList"]}}}}},emCr:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this.$createElement;return(this._self._c||e)("q-item-separator",{class:{"highlight-and-fade":this.model.highlight},attrs:{inset:this.model.config.inset}})},n=[];i._withStripped=!0;var s=o("XyMi"),a=Object(s.a)({name:"HbListSeparator",props:["model"]},i,n,!1,null,null,null);a.options.__file="src\\components\\HbListSeparator.vue";t.default=a.exports},f04o:function(e,t){},f6Zw:function(e,t){},g8Yl:function(e,t){},hv1w:function(e,t){},iFYu:function(e,t){},iiyS:function(e,t){},jqRO:function(e,t){},kYJ6:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("//Fk"),n=o.n(i),s=o("GbAQ"),a=o("q8t1"),r=o("U6Jp"),l={props:["model","link"],components:{HbSwitch:s.a,HbSlider:a.a,HbShutterControl:r.a},data:function(){return{config:this.model.config}},created:function(){},computed:{tag:{get:function(){return this.link&&this.item&&"Switch"===this.item.type?"label":"div"}},item:{get:function(){if(this.model.config.item)return this.$store.getters["items/name"](this.model.config.item)}}},asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}},sublabel:{get:function(){return this.model.config.sublabel?this.$expr(this.model.config.sublabel):this.model.config.item?this.model.config.item:void 0}},state:{get:function(){return this.model.config.item?n.a.resolve(this.$store.getters["items/itemState"](this.model.config.item)):this.model.config.state?this.$expr(this.model.config.state):void 0}},leftIcon:function(){return this.$expr(this.model.config.leftIcon)},leftLetter:function(){return this.$expr(this.model.config.leftLetter)},leftColor:function(){return this.$expr(this.model.config.leftColor)}}},c=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-item",{class:{"highlight-and-fade":this.model.highlight},attrs:{tag:e.tag}},[e.model.config.leftIcon||e.model.config.leftLetter||e.model.config.leftAvatar?o("q-item-side",{attrs:{icon:e.leftIcon,letter:e.leftLetter,avatar:this.model.config.leftAvatar,color:e.leftColor,inverted:this.model.config.leftInverted}}):e._e(),e._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.label))]),e._v(" "),e.sublabel?o("q-item-tile",{staticClass:"q-card-subtitle item-subtitle",attrs:{sublabel:""}},[e._v(e._s(e.sublabel))]):e._e(),e._v(" "),!e.item||"Dimmer"!==e.item.type&&"Color"!==e.item.type?e._e():o("hb-slider",{attrs:{model:{config:{item:e.item.name}}}})],1),e._v(" "),o("q-item-side",{attrs:{right:""}},[e.item&&"Color"===e.item.type?o("hb-color-picker",{attrs:{model:{config:{item:e.item.name}}}}):e._e(),e._v(" "),e.item&&("Switch"===e.item.type||"Dimmer"===e.item.type&&e.item.tags.indexOf("habot:switchable")>=0||"Color"===e.item.type)?o("hb-switch",{attrs:{model:{config:{item:e.item.name}}}}):e.item&&"Rollershutter"===e.item.type?o("hb-shutter-control",{staticClass:"text-black",staticStyle:{"margin-top":"-2px","margin-bottom":"-2px"},attrs:{model:{config:{item:e.item.name,rounded:!0,dense:!0,push:!0,size:"lg",stopIcon:"close",glossy:!0}}}}):o("big",{staticClass:"big-value"},[e._v(e._s(e.state))])],1)],1)},d=[];c._withStripped=!0;var u=o("XyMi"),p=!1;var m=function(e){p||o("g8Yl")},h=Object(u.a)(l,c,d,!1,m,"data-v-74c76e7b",null);h.options.__file="src\\components\\HbListItem.vue";t.default=h.exports},lLAy:function(e,t,o){"use strict";var i=o("//Fk"),n=o.n(i),s={component:"HbChartImage",props:["model"],data:function(){return{working:!1}},asyncComputed:{imageUrl:{get:function(){var e=this;this.working=!0;var t=this.model.config.items||[],o=this.model.config.period||"D";return new n.a(function(i,n){e.$http.get("/chart?items="+t.join(",")+"&period="+o,{responseType:"blob"}).then(function(t){var o=new FileReader;o.readAsDataURL(t.data),o.onload=function(){return e.working=!1,i(o.result)}})})}}}},a=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{class:{"highlight-and-fade":this.model.highlight},staticStyle:{width:"100%","padding-bottom":"50%"}},[t("img",{staticStyle:{position:"absolute",top:"0",width:"100%"},attrs:{src:this.imageUrl}}),this._v(" "),t("q-inner-loading",{attrs:{visible:this.working,color:"primary"}})],1)},r=[];a._withStripped=!0;var l=o("XyMi"),c=Object(l.a)(s,a,r,!1,null,null,null);c.options.__file="src\\components\\HbChartImage.vue";t.a=c.exports},mG18:function(e,t){},mzvw:function(e,t){},nplA:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i={};o.d(i,"objectSet",function(){return lt}),o.d(i,"locationSet",function(){return ct}),o.d(i,"allStates",function(){return dt}),o.d(i,"itemState",function(){return ut}),o.d(i,"name",function(){return pt});var n={};o.d(n,"updateAll",function(){return mt}),o.d(n,"updateOne",function(){return ht}),o.d(n,"setReady",function(){return gt});var s={};o.d(s,"initialLoad",function(){return kt}),o.d(s,"watchEvents",function(){return It}),o.d(s,"sendCmd",function(){return Nt});var a={};o.d(a,"objectSet",function(){return _t}),o.d(a,"locationSet",function(){return Lt}),o.d(a,"tag",function(){return qt}),o.d(a,"tags",function(){return Et}),o.d(a,"all",function(){return Ot}),o.d(a,"bookmarked",function(){return zt}),o.d(a,"single",function(){return Ht}),o.d(a,"suggestioncandidates",function(){return Rt}),o.d(a,"copy",function(){return Qt});var r={};o.d(r,"updateAll",function(){return Ut}),o.d(r,"createCard",function(){return Yt}),o.d(r,"updateCard",function(){return Bt}),o.d(r,"bookmarkCard",function(){return $t}),o.d(r,"unbookmarkCard",function(){return Pt}),o.d(r,"updateCardTimestamp",function(){return Ft}),o.d(r,"removeCard",function(){return Wt}),o.d(r,"setReady",function(){return Gt});var l={};o.d(l,"initialLoad",function(){return Xt}),o.d(l,"create",function(){return Jt}),o.d(l,"update",function(){return Vt}),o.d(l,"bookmark",function(){return Kt}),o.d(l,"unbookmark",function(){return Zt}),o.d(l,"remove",function(){return eo}),o.d(l,"updateTimestamp",function(){return to}),o.d(l,"computeSuggestions",function(){return oo});var c={};o.d(c,"initialLoad",function(){return no});var d={};o.d(d,"setReady",function(){return so}),o.d(d,"setUsingStoredCredentials",function(){return ao}),o.d(d,"setBaseURL",function(){return ro}),o.d(d,"setLang",function(){return lo});var u=o("Dd8w"),p=o.n(u),m=o("/5sW"),h=o("7109");m.a.use(h._31,{components:{QLayout:h.N,QLayoutHeader:h.Q,QLayoutFooter:h.P,QLayoutDrawer:h.O,QPageContainer:h.X,QPage:h.W,QPageSticky:h.Y,QAlert:h.g,QFab:h.B,QTooltip:h._24,QFabAction:h.C,QToolbar:h._22,QToolbarTitle:h._23,QModal:h.T,QModalLayout:h.U,QDialog:h.A,QBtnGroup:h.k,QBtn:h.i,QBtnDropdown:h.j,QSpinnerRadio:h._9,QSpinnerAudio:h._7,QSpinnerDots:h._8,QIcon:h.E,QList:h.R,QListHeader:h.S,QItem:h.H,QItemMain:h.I,QItemSeparator:h.J,QItemSide:h.K,QItemTile:h.L,QCollapsible:h.x,QTabs:h._17,QTab:h._13,QTabPane:h._14,QField:h.D,QSelect:h._5,QInput:h.G,QSearch:h._4,QChipsInput:h.w,QAutocomplete:h.h,QOptionGroup:h.V,QChatMessage:h.t,QResizeObservable:h._2,QWindowResizeObservable:h._26,QPullToRefresh:h._0,QInnerLoading:h.F,QPopover:h.Z,QCard:h.l,QCardTitle:h.p,QCardActions:h.m,QCardMain:h.n,QCardMedia:h.o,QCheckbox:h.u,QRadio:h._1,QToggle:h._21,QKnob:h.M,QSlider:h._6,QTree:h._25,QTable:h._15,QTableColumns:h._16,QTd:h._18,QChip:h.v,QTimeline:h._19,QTimelineEntry:h._20,QColorPicker:h.y,QDatetime:h.z,QCarousel:h.q,QCarouselSlide:h.s,QCarouselControl:h.r,QStepper:h._11,QStep:h._10,QStepperNavigation:h._12,QScrollArea:h._3},directives:{Ripple:h._27,CloseOverlay:h.a},plugins:{Notify:h.e,Dialog:h.b,Loading:h.c,LocalStorage:h.d,SessionStorage:h._28}});o("L4dm"),o("hAPP"),o("59Iv"),o("ufqb"),o("YH6U"),o("3Puz"),o("N12Q");var g={name:"HABot",data:function(){return{dismissReconnectNotify:null,reconnectIntervalId:null}},watch:{"$store.state.items.connectionBroken":function(e){var t=this;e?(this.$q.loading.show({message:"Connection broken, reconnecting...",delay:400}),console.log("Trying to reconnect every 5 seconds"),this.reconnectIntervalId=setInterval(function(){t.$store.state.items.connectionBroken&&t.reconnect()},5e3)):(clearInterval(this.reconnectIntervalId),this.reconnectIntervalId=null,console.log("%cConnection restored!","color: green"),this.$q.loading.hide())}},methods:{reconnect:function(){var e=this;this.$store.dispatch("items/initialLoad").then(function(){e.$store.dispatch("items/watchEvents")})}}},f=function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"q-app"}},[t("transition",{attrs:{"enter-active-class":"animated fadeIn","leave-active-class":"animated fadeOut",mode:"out-in",duration:100}},[t("router-view")],1)],1)},b=[];f._withStripped=!0;var v=o("XyMi"),y=!1;var M=function(e){y||o("/daW")},x=Object(v.a)(g,f,b,!1,M,null,null);x.options.__file="src\\App.vue";var j=x.exports,A=o("/ocq"),w={name:"LayoutDefault",data:function(){return{leftDrawerOpen:!0}},methods:{openURL:h._33}},T=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("q-layout",{attrs:{view:"lHh Lpr lFf"}},[i("q-layout-header",[i("q-toolbar",{attrs:{color:"primary"}},[i("q-btn",{attrs:{flat:"",dense:"",round:""},on:{click:function(t){e.leftDrawerOpen=!e.leftDrawerOpen}}},[i("q-icon",{attrs:{name:"menu"}})],1),e._v(" "),i("q-toolbar-title",[e._v("\n        "+e._s(e.$route.meta.title)+"\n      ")])],1)],1),e._v(" "),i("q-layout-drawer",{attrs:{"content-class":"bg-grey-2"},model:{value:e.leftDrawerOpen,callback:function(t){e.leftDrawerOpen=t},expression:"leftDrawerOpen"}},[i("div",{staticClass:"logo"},[i("img",{attrs:{src:o("7Otq"),alt:"HABot"}})]),e._v(" "),i("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[i("q-item",{attrs:{ripple:"",to:"/chat"}},[i("q-item-side",{attrs:{icon:"chat"}}),e._v(" "),i("q-item-main",{attrs:{label:"Chat with HABot"}})],1),e._v(" "),i("q-item-separator"),e._v(" "),i("q-list-header",[e._v("My Cards")]),e._v(" "),i("q-item",{attrs:{to:"/cards/bookmarks"}},[i("q-item-side",{attrs:{icon:"bookmark"}}),e._v(" "),i("q-item-main",{attrs:{label:"Bookmarks"}})],1),e._v(" "),i("q-item",{attrs:{to:"/cards/suggestions"}},[i("q-item-side",{attrs:{icon:"star"}}),e._v(" "),i("q-item-main",{attrs:{label:"Suggestions"}})],1),e._v(" "),i("q-item",{attrs:{to:"/cards/recent"}},[i("q-item-side",{attrs:{icon:"history"}}),e._v(" "),i("q-item-main",{attrs:{label:"Recent"}})],1),e._v(" "),i("q-item",{attrs:{to:"/cards/deck"}},[i("q-item-side",{attrs:{icon:"dashboard"}}),e._v(" "),i("q-item-main",{attrs:{label:"Card deck"}})],1),e._v(" "),i("q-item-separator"),e._v(" "),i("q-item",{attrs:{to:"/settings"}},[i("q-item-side",{attrs:{icon:"settings"}}),e._v(" "),i("q-item-main",{attrs:{label:"Settings"}})],1),e._v(" "),i("q-item",{attrs:{to:"/help"}},[i("q-item-side",{attrs:{icon:"help"}}),e._v(" "),i("q-item-main",{attrs:{label:"Help"}})],1)],1)],1),e._v(" "),i("q-page-container",[i("router-view")],1)],1)},C=[];T._withStripped=!0;var k=!1;var I=function(e){k||o("FlLN")},N=Object(v.a)(w,T,C,!1,I,null,null);N.options.__file="src\\layouts\\default.vue";var D=N.exports,S=o("VRCQ"),_=o("BO1k"),L=o.n(_),q={data:function(){var e=new Date;return e.setHours(e.getHours()+1,0,0,0),{step:!0,trigger:"time",triggerTime:e,triggerRecurrence:"once",triggerDays:[],triggerItems:[],triggerItemEvent:"change",triggerStateFrom:null,triggerStateTo:null,triggerCommand:null,triggerItemRepeat:"forever",actionItems:[],actionCommand:null,actionNotify:[],actionNotifyMessage:null,actionNotifyTags:[],busy:!1,ruleCreated:!1,rule:{},items:this.$store.state.items.items.map(function(e){return{value:e.name,label:e.name,sublabel:e.label,stamp:e.type}}),tags:this.$store.getters["cards/objectSet"].concat(this.$store.getters["cards/locationSet"]).map(function(e){return{value:e,label:e.split(":")[1],stamp:e.split(":")[0]}})}},methods:{createRule:function(){var e=this;this.rule.uid="habot:"+Object(h._34)(),this.rule.name="HABot: When "+this.whenSubtitle+", Then "+this.thenSubtitle,this.rule.description="Rule created by HABot on "+(new Date).toString();var t=1;switch(this.rule.triggers=[],this.rule.actions=[],this.rule.conditions=[],this.busy=!0,this.trigger){case"time":var o=h._30.formatDate(this.triggerTime,"HH:mm");if(this.rule.triggers.push({id:t++,type:"timer.TimeOfDayTrigger",label:"At "+o,configuration:{time:o}}),"everyday"!==this.triggerRecurrence&&"once"!==this.triggerRecurrence){var i={id:t++,type:"timer.DayOfWeekCondition"};switch(this.triggerRecurrence){case"weekdays":i.label="On weekdays",i.configuration={days:["MON","TUE","WED","THU","FRI"]};break;case"weekends":i.label="On weekends",i.configuration={days:["SAT","SUN"]};break;case"custom":i.label="On "+this.triggerDays.join(", "),i.configuration={days:this.triggerDays}}this.rule.conditions.push(i)}break;case"item":var n=!0,s=!1,a=void 0;try{for(var r,l=L()(this.triggerItems);!(n=(r=l.next()).done);n=!0){var c=r.value,d={id:t++,configuration:{}};switch(this.triggerItemEvent){case"change":d.type="core.ItemStateChangeTrigger",d.label=c+" changes",d.configuration.itemName=c,this.triggerStateFrom&&(d.configuration.previousState=this.triggerStateFrom),d.configuration.state=this.triggerStateTo;break;case"update":d.type="core.ItemStateUpdateTrigger",d.label=c+" is updated",d.configuration.itemName=c,d.configuration.state=this.triggerStateTo;break;case"command":d.type="core.ItemCommandTrigger",d.label=c+" receives a command",d.configuration.itemName=c,d.configuration.command=this.triggerCommand}this.rule.triggers.push(d)}}catch(e){s=!0,a=e}finally{try{!n&&l.return&&l.return()}finally{if(s)throw a}}}var u=!0,p=!1,m=void 0;try{for(var g,f=L()(this.actionItems);!(u=(g=f.next()).done);u=!0){var b=g.value,v={id:t++,type:"core.ItemCommandAction",label:"Send a command to "+b,configuration:{itemName:b,command:this.actionCommand}};this.rule.actions.push(v)}}catch(e){p=!0,m=e}finally{try{!u&&f.return&&f.return()}finally{if(p)throw m}}this.actionNotify.indexOf("webpush")>=0&&this.actionNotifyMessage&&this.rule.actions.push({id:t++,type:"habot.WebPushNotificationAction",label:"Send a push notification",configuration:{body:this.actionNotifyMessage,tags:this.actionNotifyTags}}),this.actionNotify.indexOf("say")>=0&&this.actionNotifyMessage&&this.rule.actions.push({id:t++,type:"media.SayAction",label:"Speak through the default audio sink",configuration:{text:this.actionNotifyMessage}}),("time"===this.trigger&&"once"===this.triggerRecurrence||"item"===this.trigger&&"once"===this.triggerItemRepeat)&&this.rule.actions.push({id:t++,type:"core.RuleEnablementAction",label:"Disable this rule after it has run",configuration:{enable:!1,ruleUIDs:[this.rule.uid]}}),this.$http.post("/rest/rules",this.rule).then(function(t){e.ruleCreated=!0,e.busy=!1,e.$refs.stepper.goToStep("finish")}).catch(function(t){e.busy=!1,e.$q.notify("Error while creating rule: "+t)})},openRuleInPaperUI:function(){window.open("/paperui/index.html#/rules/configure/"+this.rule.uid,"_blank")}},computed:{whenSubtitle:function(){var e="";if("time"===this.trigger){if(!this.triggerTime)return"";switch(e="At "+h._30.formatDate(this.triggerTime,"HH:mm"),this.triggerRecurrence){case"once":break;case"weekdays":e+=" on weekdays";break;case"weekends":e+=" on weekends";break;case"everyday":e+=" every day";break;case"custom":if(0===this.triggerDays.length)return"";e+=" on "+this.triggerDays.join(", ")}return e}if(!this.triggerItems.length)return"";switch(e+=this.triggerItems.length>1?"one of "+this.triggerItems.length+" items":this.triggerItems[0],this.triggerItemEvent){case"change":if(e+=" changed",this.triggerStateFrom&&(e+=" from "+this.triggerStateFrom),!this.triggerStateTo)return"";e+=" to "+this.triggerStateTo;break;case"update":e+=" updated",this.triggerStateTo&&(e+=" to "+this.triggerStateTo);break;case"command":if(!this.triggerCommand)return"";e+=" received "+this.triggerCommand}return e+="once"===this.triggerItemRepeat?" (next time only)":""},thenSubtitle:function(){return this.actionItems.length&&this.actionCommand?"Send "+this.actionCommand+" to "+(this.actionItems.length>1?this.actionItems.length+" items":this.actionItems[0]):""}}},E=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-stepper",{ref:"stepper",staticClass:"create-rule-card hb-card",attrs:{order:1,color:e.ruleCreated?"positive":"black",vertical:""},model:{value:e.step,callback:function(t){e.step=t},expression:"step"}},[o("q-step",{attrs:{default:"",name:"when",title:"When",subtitle:e.whenSubtitle,disable:e.ruleCreated}},[o("div",{staticClass:"row"},[o("q-radio",{staticClass:"col",staticStyle:{"padding-bottom":"8px"},attrs:{val:"time",label:"When the time is"},model:{value:e.trigger,callback:function(t){e.trigger=t},expression:"trigger"}}),e._v(" "),o("q-datetime",{staticClass:"col",attrs:{type:"time",format24h:"",disable:"time"!==e.trigger,disabled:"time"!==e.trigger},model:{value:e.triggerTime,callback:function(t){e.triggerTime=t},expression:"triggerTime"}})],1),e._v(" "),o("q-radio",{staticStyle:{"padding-bottom":"8px"},attrs:{val:"item",label:"When something happens"},model:{value:e.trigger,callback:function(t){e.trigger=t},expression:"trigger"}}),e._v(" "),"time"===e.trigger?o("q-field",{attrs:{label:"Recurrence",icon:"update",orientation:"horizontal"}},[o("q-option-group",{attrs:{color:"primary",options:[{label:"Once",value:"once"},{label:"Every day",value:"everyday"},{label:"On weekdays",value:"weekdays"},{label:"On weekends",value:"weekends"},{label:"Custom",value:"custom"}]},model:{value:e.triggerRecurrence,callback:function(t){e.triggerRecurrence=t},expression:"triggerRecurrence"}})],1):e._e(),e._v(" "),"time"===e.trigger&&"custom"===e.triggerRecurrence?o("q-field",{attrs:{label:"Days",icon:"date_range"}},[o("q-select",{attrs:{multiple:"",toggle:"",options:[{label:"Mondays",value:"MON"},{label:"Tuesdays",value:"TUE"},{label:"Wednesdays",value:"WED"},{label:"Thursdays",value:"THU"},{label:"Fridays",value:"FRI"},{label:"Saturdays",value:"SAT"},{label:"Sundays",value:"SUN"}]},model:{value:e.triggerDays,callback:function(t){e.triggerDays=t},expression:"triggerDays"}})],1):e._e(),e._v(" "),"item"===e.trigger?o("q-field",{attrs:{icon:"device_hub",orientation:"vertical"}},[o("q-select",{attrs:{multiple:"",filter:"",placeholder:"Item(s)",color:"primary",options:e.items},model:{value:e.triggerItems,callback:function(t){e.triggerItems=t},expression:"triggerItems"}})],1):e._e(),e._v(" "),"item"===e.trigger?o("div",{staticClass:"row",staticStyle:{"padding-bottom":"8px"}},[o("q-select",{staticClass:"col",attrs:{options:[{label:1!==e.triggerItems.length?"change":"changes",value:"change"},{label:1!==e.triggerItems.length?"are updated":"is updated",value:"update"},{label:1!==e.triggerItems.length?"receive":"receives",value:"command"}]},model:{value:e.triggerItemEvent,callback:function(t){e.triggerItemEvent=t},expression:"triggerItemEvent"}}),e._v(" "),"change"===e.triggerItemEvent?o("q-input",{staticClass:"col",attrs:{prefix:"from&nbsp;"},model:{value:e.triggerStateFrom,callback:function(t){e.triggerStateFrom=t},expression:"triggerStateFrom"}}):e._e(),e._v(" "),"change"===e.triggerItemEvent?o("q-input",{staticClass:"col",attrs:{prefix:"to&nbsp;"},model:{value:e.triggerStateTo,callback:function(t){e.triggerStateTo=t},expression:"triggerStateTo"}}):e._e(),e._v(" "),"update"===e.triggerItemEvent?o("q-input",{staticClass:"col",attrs:{prefix:"to&nbsp;"},model:{value:e.triggerStateTo,callback:function(t){e.triggerStateTo=t},expression:"triggerStateTo"}}):e._e(),e._v(" "),"command"===e.triggerItemEvent?o("q-input",{staticClass:"col",attrs:{placeholder:"command"},model:{value:e.triggerCommand,callback:function(t){e.triggerCommand=t},expression:"triggerCommand"}}):e._e()],1):e._e(),e._v(" "),"item"===e.trigger?o("q-field",{attrs:{label:"Repeat",icon:"repeat",orientation:"horizontal"}},[o("q-option-group",{attrs:{color:"primary",options:[{label:"forever",value:"forever"},{label:"next time only",value:"once"}]},model:{value:e.triggerItemRepeat,callback:function(t){e.triggerItemRepeat=t},expression:"triggerItemRepeat"}})],1):e._e(),e._v(" "),e.globalNavigation?e._e():o("q-stepper-navigation",[o("q-btn",{attrs:{color:"primary",flat:"",disabled:""===e.whenSubtitle},on:{click:function(t){e.$refs.stepper.next()}}},[e._v("Continue")])],1)],1),e._v(" "),o("q-step",{attrs:{order:2,name:"then",title:"Then",subtitle:e.thenSubtitle,disable:e.ruleCreated}},[o("q-input",{attrs:{prefix:"Send&nbsp;&nbsp;",suffix:"to"},model:{value:e.actionCommand,callback:function(t){e.actionCommand=t},expression:"actionCommand"}}),e._v(" "),o("q-field",{staticStyle:{"padding-bottom":"8px"},attrs:{icon:"device_hub",orientation:"vertical"}},[o("q-select",{attrs:{multiple:"",filter:"",placeholder:"Item(s)",color:"primary",options:e.items},model:{value:e.actionItems,callback:function(t){e.actionItems=t},expression:"actionItems"}})],1),e._v(" "),o("q-field",{attrs:{icon:"announcement",label:"and notify me via (optional)",orientation:"vertical"}},[o("q-option-group",{attrs:{type:"toggle",options:[{label:"Push notification",value:"webpush"},{label:"Speak (default audio sink)",value:"say"}]},model:{value:e.actionNotify,callback:function(t){e.actionNotify=t},expression:"actionNotify"}})],1),e._v(" "),e.actionNotify.length>0?o("q-field",{attrs:{icon:"message",label:"Message",orientation:"vertical"}},[o("q-input",{model:{value:e.actionNotifyMessage,callback:function(t){e.actionNotifyMessage=t},expression:"actionNotifyMessage"}})],1):e._e(),e._v(" "),e.actionNotify.indexOf("webpush")>=0?o("q-field",{attrs:{icon:"label_outline",label:"Tags",orientation:"vertical",helper:"Optional. The first card matching these tags will be shown when clicking the notification."}},[o("q-select",{attrs:{multiple:"",chips:"",secondary:"",color:"secondary",options:e.tags},model:{value:e.actionNotifyTags,callback:function(t){e.actionNotifyTags=t},expression:"actionNotifyTags"}})],1):e._e(),e._v(" "),e.globalNavigation?e._e():o("q-stepper-navigation",[o("q-btn",{attrs:{color:"primary",disabled:""===e.thenSubtitle},on:{click:function(t){e.createRule()}}},[e._v("Create")]),e._v(" "),o("q-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.$refs.stepper.previous()}}},[e._v("Back")])],1)],1),e._v(" "),e.ruleCreated?o("q-step",{attrs:{order:3,name:"finish","active-icon":"check",title:"Finished"}},[o("q-btn",{staticClass:"q-ml-md q-mt-lg",staticStyle:{float:"right"},attrs:{color:"primary",flat:""},on:{click:function(t){e.openRuleInPaperUI()}}},[e._v("Review in Paper UI")]),e._v("\n    Rule created!\n  ")],1):e._e(),e._v(" "),o("q-inner-loading",{attrs:{visible:e.busy}})],1)},O=[];E._withStripped=!0;var z=!1;var H=function(e){z||o("GZra")},R=Object(v.a)(q,E,O,!1,H,null,null);R.options.__file="src\\components\\rules\\HbCreateRuleCard.vue";var Q=R.exports,U=o("mvHQ"),Y=o.n(U),B=o("woOf"),$=o.n(B),P=o("Zrlr"),F=o.n(P),W=o("wxAW"),G=o.n(W),X=o("QvDY"),J=o.n(X),V=function(){function e(t,o){var i=this;F()(this,e),this.config={bufferLen:4096,numChannels:2,mimeType:"audio/wav"},this.recording=!1,this.callbacks={getBuffer:[],exportWAV:[]},$()(this.config,o),this.context=t.context;var n=this.context.createScriptProcessor||this.context.createJavaScriptNode,s=[this.context,this.config.bufferLen,this.config.numChannels,this.config.numChannels];this.node=n.call.apply(n,s),this.node.onaudioprocess=function(e){if(i.recording){for(var t=[],o=0;o<i.config.numChannels;o+=1)t.push(e.inputBuffer.getChannelData(o));i.worker.postMessage({command:"record",buffer:t})}},t.connect(this.node),this.node.connect(this.context.destination);var self=this;this.worker=new J.a(function(){var e=0,t=[],o=void 0,i=void 0,n=void 0;function s(){for(var e=0;e<n;e+=1)t[e]=[]}function a(e,t){for(var o=new Float32Array(t),i=0,n=0;n<e.length;n+=1)o.set(e[n],i),i+=e[n].length;return o}function r(e,t,o){for(var i=0;i<o.length;i+=1)e.setUint8(t+i,o.charCodeAt(i))}function l(e){var t=new ArrayBuffer(44+2*e.length),o=new DataView(t);return r(o,0,"RIFF"),o.setUint32(4,36+2*e.length,!0),r(o,8,"WAVE"),r(o,12,"fmt "),o.setUint32(16,16,!0),o.setUint16(20,1,!0),o.setUint16(22,n,!0),o.setUint32(24,i,!0),o.setUint32(28,2*i,!0),o.setUint16(32,2*n,!0),o.setUint16(34,16,!0),r(o,36,"data"),o.setUint32(40,2*e.length,!0),function(e,t,o){for(var i=0;i<o.length;i+=1,t+=2){var n=Math.max(-1,Math.min(1,o[i]));e.setInt16(t,n<0?32768*n:32767*n,!0)}}(o,44,e),o}function c(s){for(var r=[],c=0;c<n;c+=1)r.push(a(t[c],e));var d=void 0;d=2===n?function(e,t){for(var o=e.length+t.length,i=new Float32Array(o),n=0,s=0;n<o;)i[n+=1]=e[s],i[n+=1]=t[s],s+=1;return i}(r[0],r[1]):r[0],downsampled=function(e,t){if(t==o)return e;if(t>o)throw"downsampling rate show be smaller than original sample rate";for(var i=o/t,n=Math.round(e.length/i),s=new Float32Array(n),a=0,r=0;a<s.length;){for(var l=Math.round((a+1)*i),c=0,d=0,u=r;u<l&&u<e.length;u++)c+=e[u],d++;s[a]=c/d,a++,r=l}return s}(d,i);var u=l(downsampled),p=new Blob([u],{type:s});self.postMessage({command:"exportWAV",data:p})}self.onmessage=function(r){switch(r.data.command){case"init":l=r.data.config,o=l.actualSampleRate,i=l.desiredSampleRate,n=l.numChannels,s();break;case"record":!function(o){for(var i=0;i<n;i+=1)t[i].push(o[i]);e+=o[0].length}(r.data.buffer);break;case"exportWAV":c(r.data.type);break;case"getBuffer":!function(){for(var o=[],i=0;i<n;i+=1)o.push(a(t[i],e));self.postMessage({command:"getBuffer",data:o})}();break;case"clear":e=0,t=[],s()}var l}},{}),this.worker.postMessage({command:"init",config:{actualSampleRate:this.context.sampleRate,desiredSampleRate:this.config.sampleRate,numChannels:this.config.numChannels}}),this.worker.onmessage=function(e){var t=i.callbacks[e.data.command].pop();"function"==typeof t&&t(e.data.data)}}return G()(e,[{key:"record",value:function(){this.recording=!0}},{key:"stop",value:function(){this.recording=!1}},{key:"clear",value:function(){this.worker.postMessage({command:"clear"})}},{key:"getBuffer",value:function(e){if(!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.getBuffer.push(e),this.worker.postMessage({command:"getBuffer"})}},{key:"exportWAV",value:function(e,t){if(t=t||this.config.mimeType,!(e=e||this.config.callback))throw new Error("Callback not set");this.callbacks.exportWAV.push(e),this.worker.postMessage({command:"exportWAV",type:t})}}],[{key:"forceDownload",value:function(e,t){var o=(window.URL||window.webkitURL).createObjectURL(e),i=window.document.createElement("a");i.href=o,i.download=t||"output.wav";var n=document.createEvent("Event");n.initEvent("click",!0,!0),i.dispatchEvent(n)}}]),e}(),K={name:"SpeechButton",data:function(){return{speechSupported:!1,speaking:!1,processing:!1,speechApi:null,audioContext:null,recorder:null,audio:null,googleSpeechData:{audio:{content:null},config:{encoding:"LINEAR16",languageCode:null}},googleApiKey:null,bingApiKey:null,webkitSpeechRecognition:null,interimResult:""}},created:function(){this.speechApi=this.$q.localStorage.get.item("habot.speechApi"),this.speechSupported=("https:"===window.location.protocol||"localhost"===window.location.hostname)&&(this.speechApi||"webkitSpeechRecognition"in window)},methods:{startSpeaking:function(){var e=this;if((!e.speechApi&&e.$q.platform.is.chrome||"webkitSpeechRecognition"===e.speechApi)&&"webkitSpeechRecognition"in window)e.webkitSpeechRecognition=new window.webkitSpeechRecognition,e.webkitSpeechRecognition.onstart=e.webkitSpeechRecognitionStart,e.webkitSpeechRecognition.onerror=e.webkitSpeechRecognitionError,e.webkitSpeechRecognition.onend=e.webkitSpeechRecognitionEnd,e.webkitSpeechRecognition.onresult=e.webkitSpeechRecognitionResult,e.webkitSpeechRecognition.continuous=!1,e.webkitSpeechRecognition.interimResults=!0,e.webkitSpeechRecognition.maxAlternatives=1,e.webkitSpeechRecognition.lang=e.$store.state.lang,e.webkitSpeechRecognition.start();else try{switch("AudioContext"in window?e.audioContext=new AudioContext:"webkitAudioContext"in window&&(e.audioContext=new window.webkitAudioContext),console.log("Audio context set up"),e.speechApi){case"google":if(e.googleApiKey=e.$q.localStorage.get.item("habot.googleApiKey"),!e.googleApiKey)return void e.$q.notify({message:"The Google API Key is not set.",icon:"mic off"});break;case"bing":if(e.bingApiKey=e.$q.localStorage.get.item("habot.bingApiKey"),!e.bingApiKey)return void e.$q.notify({message:"The Bing API Key is not set.",icon:"mic off"});break;default:return void e.$q.notify({message:"Invalid Speech API",icon:"mic off"})}navigator.mediaDevices.getUserMedia({audio:!0}).then(function(t){var o=e.audioContext.createMediaStreamSource(t);e.stream=t,e.recorder=new V(o,{sampleRate:16e3,numChannels:1}),e.speaking=!0,e.recorder&&e.recorder.record(),setTimeout(function(){e.stopSpeaking()},1e4)}).catch(function(t){e.$q.notify({message:"No live audio input: "+t,icon:"mic off"})})}catch(t){throw e.$q.notify({message:"This browser has no support for web audio",icon:"mic off"}),t}},stopSpeaking:function(e){this.webkitSpeechRecognition?(this.webkitSpeechRecognition.stop(),this.speaking=!1,this.$emit("end")):(this.recorder.stop(),this.stream.getTracks().forEach(function(e){return e.stop()}),this.processRecording(),this.recorder.clear())},processRecording:function(){var e=this;e.processing=!0,e.recorder.exportWAV(function(t){var o=new window.FileReader;"google"===e.speechApi?o.readAsDataURL(t):o.readAsArrayBuffer(t),o.onloadend=function(){var t=o.result,i=null;switch(e.speechApi){case"google":var n=t.replace("data:audio/wav;base64,","");e.googleSpeechData.audio.content=n,e.googleSpeechData.config.languageCode=e.$store.state.lang,i=e.$http.post("https://speech.googleapis.com/v1/speech:recognize?key="+e.googleApiKey,e.googleSpeechData);break;case"bing":var s=e.$store.state.lang;"en"===s?(s=navigator.languages.find(function(e){return e.indexOf("-")>=0&&0===e.indexOf(s)}))||(s="en-US"):s=s+"-"+s.toUpperCase(),i=e.$http.post("https://speech.platform.bing.com/speech/recognition/interactive/cognitiveservices/v1?language="+s+"&format=detailed",t,{headers:{Authorization:null,"Ocp-Apim-Subscription-Key":e.bingApiKey,"Content-type":"audio/wav; codec=audio/pcm; samplerate=16000"}})}i.then(function(t){if(t.data.results){var o=t.data.results[0].alternatives[0];e.$emit("result",o.transcript)}t.data.RecognitionStatus&&"Success"===t.data.RecognitionStatus&&e.$emit("result",t.data.NBest[0].Lexical),e.processing=!1,e.speaking=!1,e.$emit("end")}).catch(function(t){e.processing=!1,e.speaking=!1,e.$q.notify({message:Y()(t),icon:"mic off"}),e.$emit("error",t)})}})},webkitSpeechRecognitionStart:function(e){console.info("webkitSpeechRecognition started"),this.speaking=!0,this.interimResult="",this.$emit("start")},webkitSpeechRecognitionError:function(e){this.speaking=!1,this.$q.notify(e.error),this.$emit("error")},webkitSpeechRecognitionEnd:function(e){console.info("webkitSpeechRecognition ended"),this.speaking=!1,this.$q.platform.is.android&&this.interimResult&&this.$emit("result",this.interimResult)},webkitSpeechRecognitionResult:function(e){if(void 0===e.results)return this.speaking=!1,void this.webkitSpeechRecognition.stop();if(console.log(e.results),this.interimResult="",this.$q.platform.is.android){console.log(e.results);var t=0,o=!0,i=!1,n=void 0;try{for(var s,a=L()(e.results);!(o=(s=a.next()).done);o=!0){var r=s.value,l=!0,c=!1,d=void 0;try{for(var u,p=L()(r);!(l=(u=p.next()).done);l=!0){var m=u.value;m.confidence>t&&(t=m.confidence,this.interimResult=m.transcript)}}catch(e){c=!0,d=e}finally{try{!l&&p.return&&p.return()}finally{if(c)throw d}}}}catch(e){i=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw n}}this.$emit("interimresult",this.interimResult)}else{var h=!0,g=!1,f=void 0;try{for(var b,v=L()(e.results);!(h=(b=v.next()).done);h=!0){var y=b.value;if(y.isFinal)return this.$emit("result",y[0].transcript),this.speaking=!1,void this.webkitSpeechRecognition.stop();this.interimResult+=y[0].transcript}}catch(e){g=!0,f=e}finally{try{!h&&v.return&&v.return()}finally{if(g)throw f}}this.$emit("interimresult",this.interimResult)}}}},Z=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.speechSupported?o("q-page-sticky",{staticClass:"speech-sticky",attrs:{position:"bottom-right",offset:[18,84]}},[o("q-btn",{directives:[{name:"show",rawName:"v-show",value:!e.speaking,expression:"!speaking"}],attrs:{size:"lg",round:"",color:"primary",icon:"mic"},on:{click:e.startSpeaking}}),e._v(" "),o("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.speaking,expression:"speaking"}],attrs:{loading:e.processing,size:"lg",round:"",loader:"",color:"red",icon:"mic off"},on:{click:e.stopSpeaking}},[o("q-spinner-audio",{attrs:{slot:"loading"},slot:"loading"})],1)],1):e._e()},ee=[];Z._withStripped=!0;var te=Object(v.a)(K,Z,ee,!1,null,null,null);te.options.__file="src\\components\\speech\\SpeechButton.vue";var oe=te.exports,ie={components:{HbCard:S.a,HbCreateRuleCard:Q,SpeechButton:oe},data:function(){return{busy:!1,thinking:!1,text:"",chats:[{messages:[],card:!1,finished:!1}],inputAfter:[{icon:"arrow_send",content:!0,handler:this.send}],showPWAPrompt:!1,inputPlaceholder:"Ask me about your home",stickToBottom:!1,suggestionsCount:0,bookmarksCount:0}},created:function(){var e=this,t=this;if(this.$route.redirectedFrom&&0===this.$route.redirectedFrom.indexOf("/notification#")){var o=this.$route.redirectedFrom.replace("/notification#",""),i=decodeURIComponent(atob(o));this.pushNotificationReceived({data:i})}else this.busy=!0,this.thinking=!1,setTimeout(function(){e.busy&&(e.thinking=!0)},500),this.$http.get("/rest/habot/greet").then(function(e){t.$store.commit("setLang",e.data.language),t.language||(t.language="en"),t.busy=!1,t.chats[0].messages.push({id:new Date,name:"",text:[e.data.answer],avatar:"statics/icons/icon-192x192.png",stamp:h._30.formatDate(new Date,"HH:mm")}),t.chats[0].greetingSuggestions=!0}).catch(function(e){t.busy=!1;var o=e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message?e.response.data.error.message:e.response&&e.response.statusText?e.response.statusText:e.message;t.chats[0].messages.push({id:new Date,name:"",text:[o],avatar:"statics/icons/icon-192x192.png",bgColor:"red",textColor:"white",stamp:h._30.formatDate(new Date,"HH:mm")})}),this.$q.platform.is.chrome&&this.$q.platform.is.android&&!this.$q.platform.is.cordova&&window.matchMedia&&!window.matchMedia("(display-mode: standalone)").matches&&(this.showPWAPrompt=!0),this.$store.dispatch("cards/computeSuggestions").then(function(t){e.suggestionsCount=t.length}),this.bookmarksCount=this.$store.getters["cards/bookmarked"].length},mounted:function(){navigator.serviceWorker&&navigator.serviceWorker.addEventListener("message",this.pushNotificationReceived)},methods:{pushNotificationReceived:function(e){var t=this.chats[this.chats.length-1];t.finished&&(this.chats.push({messages:[],card:null,finished:!1}),t=this.chats[this.chats.length-1]);var o=JSON.parse(e.data),i=o.timestamp?new Date(o.timestamp):new Date,n={id:i,name:"Notification",text:[o.body],avatar:"statics/icons/icon-192x192.png",stamp:h._30.formatDate(i,"HH:mm")};if(o.data&&o.data.cardUID){var s=this.$store.getters["cards/single"](o.data.cardUID);t.finished=!0,t.card=s}else if(o.data&&o.data.tags){var a=o.data.tags.filter(function(e){return 0===e.indexOf("object:")}),r=o.data.tags.filter(function(e){return 0===e.indexOf("location:")}),l=this.$store.getters["cards/tags"](a,r).filter(function(e){return e.tags.every(function(e){return o.data.tags.indexOf(e)>=0})});l.length>0&&(t.finished=!0,t.card=l[0])}t.greetingSuggestions&&delete t.greetingSuggestions,t.messages.push(n),t.finished&&this.chats.push({messages:[],card:null,finished:!1})},send:function(){var e=this,t=this.chats[this.chats.length-1];t.greetingSuggestions&&delete t.greetingSuggestions,t.messages.push({id:new Date,name:"",text:[this.text],avatar:"statics/avatar.png",sent:!0,stamp:h._30.formatDate(new Date,"HH:mm")}),this.busy=!0,this.thinking=!1,setTimeout(function(){e.busy&&(e.thinking=!0)},500),setTimeout(function(){e.scrollToBottom(!0)}),this.$http.post("/rest/habot/chat",this.text,{headers:{"Content-Type":"text/plain","Accept-Language":this.language}}).then(function(o){o.data.answer&&t.messages.push({id:new Date,name:"",text:o.data.hint?[o.data.answer,o.data.hint]:[o.data.answer],avatar:"statics/icons/icon-192x192.png",stamp:h._30.formatDate(new Date,"HH:mm")}),o.data.card&&(t.card=o.data.card),t.finished=!0,e.chats.push({messages:[],card:null,finished:!1}),e.busy=!1,e.thinking=!1,e.$q.platform.is.mobile?setTimeout(e.$refs.input.blur):setTimeout(function(){e.stickToBottom=!1},500),t.intent=o.data.intent}).catch(function(e){var o=this,i=e.response&&e.response.data&&e.response.data.error&&e.response.data.error.message?e.response.data.error.message:e.response&&e.response.statusText?e.response.statusText:e.message;t.messages.push({id:new Date,name:"",text:[i],avatar:"statics/icons/icon-192x192.png",bgColor:"negative",textColor:"white",stamp:h._30.formatDate(new Date,"HH:mm")}),this.$q.platform.is.mobile?setTimeout(this.$refs.input.blur):setTimeout(function(){o.stickToBottom=!1})}),this.text=""},keyUp:function(e){13===e.keyCode&&this.send()},onChatAreaResized:function(e){this.scrollToBottom()},scrollToBottom:function(e){if(e&&(this.stickToBottom=!0),this.stickToBottom){var t=document.getElementById("q-app");t.scrollTop=t.scrollHeight,document.body.scrollTop=document.body.scrollHeight}},startSpeech:function(){this.inputPlaceholder="Speak now..."},endSpeech:function(){this.resetSpeech()},speechInterimResult:function(e){e&&(this.inputPlaceholder=e)},speechFinalResult:function(e){this.text=e,this.send(),this.resetSpeech()},resetSpeech:function(){this.inputPlaceholder="Ask me about your home"},openEnhancedFeaturesTutorial:function(){this.$router.push({path:"/help",query:{topic:"enhanced-features"}})}},beforeDestroyed:function(){this.$q.events.$off("chat-send",this.chatReceived),navigator.serviceWorker&&navigator.serviceWorker.removeEventListener("message",this.pushNotificationReceived)}},ne=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-page",{staticClass:"row justify-center",attrs:{padding:""}},[e.showPWAPrompt?o("q-page-sticky",{staticStyle:{"z-index":"2000"},attrs:{position:"top"}},[o("q-alert",{attrs:{icon:"info",color:"yellow","text-color":"grey-9",actions:[{label:"Learn how",handler:e.openEnhancedFeaturesTutorial},{label:"Dismiss",handler:function(){e.showPWAPrompt=!1}}]}},[e._v("\n      Using Chrome on Android? Use a secure origin like myopenhab.org and add HABot to the home screen for the best experience!\n    ")])],1):e._e(),e._v(" "),o("div",{style:{width:"100%","margin-top":e.showPWAPrompt?"150px":"100px"}},e._l(e.chats,function(t,i){return o("div",{key:i,ref:"chat",refInFor:!0,staticClass:"chat-area"},[o("q-resize-observable",{on:{resize:e.onChatAreaResized}}),e._v(" "),o("q-window-resize-observable",{on:{resize:function(t){e.scrollToBottom(!1)}}}),e._v(" "),e._l(t.messages,function(e,t){return o("q-chat-message",{key:t,attrs:{label:e.label,sent:e.sent,"text-color":e.textColor,"bg-color":e.bgColor,name:e.name,avatar:e.avatar,text:e.text,stamp:e.stamp}})}),e._v(" "),!t.finished&&e.busy&&e.thinking?o("q-chat-message",{attrs:{avatar:"statics/icons/icon-192x192.png"}},[o("q-spinner-dots",{attrs:{size:"2rem"}})],1):e._e(),e._v(" "),t.card&&"HbCard"===t.card.component?o("hb-card",{attrs:{model:t.card,menu:"chat"}}):t.card&&"HbCreateRuleCard"===t.card.component?o("hb-create-rule-card",{attrs:{model:t.card}}):t.card&&"HbDumpIntentCard"===t.card.component?o("q-card",[o("q-card-title",[e._v("\n          Intent: "+e._s(t.intent.name)+"\n          "),o("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("Sorry, this intent is currently unsupported :(")])]),e._v(" "),o("q-list",[o("q-list-header",[e._v("Entities")]),e._v(" "),e._l(t.intent.entities,function(t,i){return o("q-item",{key:t,attrs:{link:"",tag:"label"}},[o("q-item-main",{attrs:{label:i}}),e._v(" "),o("q-item-side",{attrs:{right:""}},[o("big",[e._v(e._s(t))])],1)],1)})],2)],1):e._e(),e._v(" "),t.greetingSuggestions?o("div",{staticClass:"suggestion-chips"},[e.bookmarksCount?o("q-btn",{attrs:{rounded:"",outline:"","no-caps":"",color:"secondary",icon:"bookmark"},on:{click:function(t){e.$router.push("/cards/bookmarks")}}},[e._v("Bookmarks")]):e._e(),e._v(" "),e.suggestionsCount?o("q-btn",{attrs:{rounded:"",outline:"","no-caps":"",color:"secondary",icon:"star"},on:{click:function(t){e.$router.push("/cards/suggestions")}}},[e._v("Suggestions\n          "),o("q-chip",{attrs:{floating:"",small:"",dense:"",color:"red"}},[e._v(e._s(e.suggestionsCount))])],1):e._e()],1):e._e()],2)})),e._v(" "),o("q-page-sticky",{staticClass:"chat-input-sticky",attrs:{position:"bottom"}},[o("q-toolbar",{staticClass:"chat-input-toolbar bg-grey-3 shadow-up-3"},[o("q-input",{ref:"input",staticClass:"full-width",attrs:{disabled:e.busy,placeholder:e.inputPlaceholder,autofocus:e.$q.platform.is.desktop,after:e.inputAfter},on:{keyup:e.keyUp,focus:function(t){e.scrollToBottom(!0)},blur:function(t){e.stickToBottom=!1}},model:{value:e.text,callback:function(t){e.text=t},expression:"text"}})],1)],1),e._v(" "),e.$q.platform.is.mobile&&e.busy?e._e():o("speech-button",{on:{start:e.startSpeech,end:e.endSpeech,result:e.speechFinalResult,interimresult:e.speechInterimResult,error:e.resetSpeech}})],1)},se=[];ne._withStripped=!0;var ae=!1;var re=function(e){ae||o("f04o")},le=Object(v.a)(ie,ne,se,!1,re,null,null);le.options.__file="src\\pages\\Chat.vue";var ce=le.exports,de={props:["model"],data:function(){return{columns:[{name:"name",field:"name",label:"Name",align:"left",sortable:!0,required:!0},{name:"type",field:"type",label:"Type",align:"center",sortable:!0},{name:"label",field:"label",label:"Label",align:"left",sortable:!0},{name:"groups",field:"groupNames",label:"Groups",align:"left",sortable:!0},{name:"tags",field:"tags",label:"Direct Tags",align:"left",sortable:!0,required:!0},{name:"inheritedTags",field:"inheritedTags",label:"Inherited Tags",align:"left",sortable:!0,required:!0}],items:[],filter:"",visibleColumns:["name","type","label","groups","tags"],selected:[]}},methods:{addInheritedTags:function(e,t,o){if(!o){var i=!0,n=!1,s=void 0;try{for(var a,r=L()(e.tags);!(i=(a=r.next()).done);i=!0){var l=a.value;(l.startsWith("object:")||l.startsWith("location:"))&&t.push(l)}}catch(e){n=!0,s=e}finally{try{!i&&r.return&&r.return()}finally{if(n)throw s}}}var c=!0,d=!1,u=void 0;try{for(var p,m=L()(e.groupNames);!(c=(p=m.next()).done);c=!0){var h=p.value,g=this.$store.state.items.map[h];g?this.addInheritedTags(g,t):console.warn("Cannot find "+e.name+" parent group: "+h+"!")}}catch(e){d=!0,u=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw u}}},processItems:function(){var e=this,t=Object(h._32)(!0,[],this.$store.state.items.items).map(function(t){var o={name:t.name,type:t.type,label:t.label,groupNames:t.groupNames,tags:t.tags},i=[];return e.addInheritedTags(t,i,!0),o.inheritedTags=i,o});this.items=t}},created:function(){}},ue=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-modal-layout",[o("q-toolbar",{attrs:{slot:"header"},slot:"header"},[o("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),e._v(" "),o("q-toolbar-title",[e._v("\n      Item tags review\n    ")])],1),e._v(" "),o("q-table",{attrs:{columns:e.columns,filter:e.filter,"visible-columns":e.visibleColumns,data:e.items,selected:e.selected,"row-key":"name"},on:{"update:selected":function(t){e.selected=t}},scopedSlots:e._u([{key:"top-left",fn:function(t){return[o("q-search",{staticClass:"col-6",attrs:{"hide-underline":"",color:"secondary"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}})]}},{key:"top-right",fn:function(t){return[o("q-table-columns",{staticClass:"q-mr-sm",attrs:{color:"secondary",columns:e.columns},model:{value:e.visibleColumns,callback:function(t){e.visibleColumns=t},expression:"visibleColumns"}}),e._v(" "),o("q-btn",{attrs:{flat:"",round:"",dense:"",icon:t.inFullscreen?"fullscreen_exit":"fullscreen"},on:{click:t.toggleFullscreen}})]}},{key:"body-cell-tags",fn:function(t){return o("q-td",{attrs:{props:t}},e._l(t.value,function(t){return o("q-chip",{key:t,staticClass:"q-mr-sm",attrs:{small:"",color:"secondary"}},[e._v(e._s(t))])}))}},{key:"body-cell-inheritedTags",fn:function(t){return o("q-td",{attrs:{props:t}},e._l(t.value,function(t){return o("q-chip",{key:t,staticClass:"q-mr-sm",staticStyle:{opacity:"0.7"},attrs:{small:"",color:"secondary"}},[e._v(e._s(t))])}))}},{key:"body-cell-groups",fn:function(t){return o("q-td",{attrs:{props:t}},e._l(t.value,function(t){return o("q-chip",{key:t,staticClass:"q-mr-sm",attrs:{small:"",color:"green"}},[e._v(e._s(t))])}))}}])})],1)},pe=[];ue._withStripped=!0;var me=!1;var he=function(e){me||o("W7pu")},ge=Object(v.a)(de,ue,pe,!1,he,"data-v-d4756c1e",null);ge.options.__file="src\\layouts\\itemtable\\ItemTable.vue";var fe={components:{ItemTable:ge.exports},data:function(){return{browserSpeechRecognitionAvailable:!1,speechApi:this.$q.localStorage.get.item("habot.speechApi")||"google",buildTimestamp:new Date(1552355190918).toString(),creds:{username:null,password:null},showCredentialsDialog:!1,showItemTagger:!1}},methods:{storeCredentials:function(){var e=this;navigator.credentials&&navigator.credentials.preventSilentAccess&&navigator.credentials.store(new PasswordCredential({id:this.creds.username,password:this.creds.password})).then(function(t){e.$q.notify({type:"positive",message:"The credentials were saved successfully!"})}).catch(function(t){e.$q.notify("Error while saving credentials: "+t)})},setGoogleApiKey:function(){var e=this;e.$q.dialog({title:"Set the Google Cloud API key",message:"You need to subscribe to the Google Cloud Platform to use this feature.60 min/month free after the trial period. See help for details. Paste the API key below:",prompt:{model:"",type:"text"},cancel:!0}).then(function(t){e.$q.localStorage.set("habot.googleApiKey",t),e.$q.notify({type:"info",message:"Google Cloud API Key set for this device"})}).catch(function(){})},setBingApiKey:function(){var e=this;e.$q.dialog({title:"Set the Bing Speech API key",message:"Trial keys expire after 30 days, sign up to Azure to get non-expiring keys. 5000 transactions free per month, 20 per minute allowed. See help for details. Paste one of the two API keys below:",prompt:{model:"",type:"text"},cancel:!0}).then(function(t){e.$q.localStorage.set("habot.bingApiKey",t),e.$q.notify({type:"info",message:"Bing Speech API Key set for this device"})}).catch(function(){})},enableNotifications:function(){var e=this,t=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));"serviceWorker"in navigator?"https:"===window.location.protocol||t?navigator.serviceWorker.getRegistration().then(function(t){return"showNotification"in ServiceWorkerRegistration.prototype?"denied"===Notification.permission?(e.$q.notify("Notifications are blocked - please check the browser's site settings"),void e.$q.loading.hide()):"PushManager"in window?void t.pushManager.getSubscription().then(function(o){var i=function(t){e.$q.loading.show({message:"Subscribing to notifications..."}),e.$http.post("/rest/habot/notifications/subscribe",Y()(t),{headers:{"Content-Type":"text/plain"}}).then(function(t){e.$q.notify({type:"positive",message:"Success! You should receive a test notification!"}),e.$q.loading.hide()}).catch(function(t){e.$q.notify("Error while sending the subscription to the openHAB server: "+t),e.$q.loading.hide()})};e.$q.loading.show({message:"Initializing, please wait..."}),o?i(o):e.$http.get("/rest/habot/notifications/vapid").then(function(o){var n=function(e){for(var t=(e+"=".repeat((4-e.length%4)%4)).replace(/-/g,"+").replace(/_/g,"/"),o=window.atob(t),i=new Uint8Array(o.length),n=0;n<o.length;++n)i[n]=o.charCodeAt(n);return i}(o.data);e.$q.loading.show({message:"Preparing the subscription... Please allow the notifications if prompted!",delay:1e3}),t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:n}).then(function(e){i(e)}).catch(function(t){"denied"===Notification.permission?e.$q.notify("Notifications are blocked - please check the browser's site settings"):e.$q.notify("Error while subscribing to push notifications: "+t),e.$q.loading.hide()})}).catch(function(t){e.$q.notify("Error while getting the public VAPID key from the server: "+t),e.$q.loading.hide()})}):(e.$q.notify("Push messaging isn't supported."),void e.$q.loading.hide()):(e.$q.notify("Notifications aren't supported."),void e.$q.loading.hide())}).catch(function(t){e.$q.notify("Error while registering the service worker: "+t)}):e.$q.notify("Sorry, HTTPS is required for the notifications to work"):e.$q.notify("Sorry, notifications are not supported on this browser")},refreshApp:function(){var e=this;this.$q.dialog({title:"Refresh app",message:"This will empty the cache and reload the newest version of the app from the server. You will need to enable push notifications again. Continue?",cancel:!0}).then(function(t){e.$q.loading.show({delay:0,message:"Refreshing the app..."}),setTimeout(function(){navigator.serviceWorker.getRegistrations().then(function(e){var t=!0,o=!1,i=void 0;try{for(var n,s=L()(e);!(t=(n=s.next()).done);t=!0){n.value.unregister()}}catch(e){o=!0,i=e}finally{try{!t&&s.return&&s.return()}finally{if(o)throw i}}location.reload()})},1e3)})}},watch:{speechApi:function(){console.log("Setting speechApi to "+this.speechApi),this.$q.localStorage.set("habot.speechApi",this.speechApi)}},created:function(){this.browserSpeechRecognitionAvailable=this.$q.platform.is.chrome&&"webkitSpeechRecognition"in window&&("https:"===window.location.protocol||"localhost"===window.location.hostname)}},be=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"layout-padding",staticStyle:{"max-width":"600px"}},[o("br"),e._v(" "),o("q-list",{attrs:{link:""}},[o("q-list-header",[e._v("Speech recognition API")]),e._v(" "),o("q-item",{attrs:{tag:"label"}},[o("q-item-side",[o("q-radio",{attrs:{val:"google"},model:{value:e.speechApi,callback:function(t){e.speechApi=t},expression:"speechApi"}})],1),e._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Google Cloud Speech")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Uses Google Cloud Platform, API key required.")])],1),e._v(" "),o("q-item-side",{attrs:{right:""}},[o("q-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.setGoogleApiKey()}}},[e._v("Setup")])],1)],1),e._v(" "),o("q-item",{attrs:{tag:"label"}},[o("q-item-side",[o("q-radio",{attrs:{val:"bing"},model:{value:e.speechApi,callback:function(t){e.speechApi=t},expression:"speechApi"}})],1),e._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Bing Speech")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Uses Microsoft Cognitive Services, API key required.")])],1),e._v(" "),o("q-item-side",{attrs:{right:""}},[o("q-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.setBingApiKey()}}},[e._v("Setup")])],1)],1),e._v(" "),e.browserSpeechRecognitionAvailable?o("q-item",{attrs:{tag:"label"}},[o("q-item-side",[o("q-radio",{attrs:{val:"webkitSpeechRecognition"},model:{value:e.speechApi,callback:function(t){e.speechApi=t},expression:"speechApi"}})],1),e._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Browser built-in recognition")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Uses the browser functionality if supported (Chrome only).")])],1)],1):e._e(),e._v(" "),o("q-item",{attrs:{tag:"label",disabled:""}},[o("q-item-side",[o("q-radio",{attrs:{val:"openhab",disable:""},model:{value:e.speechApi,callback:function(t){e.speechApi=t},expression:"speechApi"}})],1),e._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Send to openHAB speech-to-text")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Sends the audio to openHAB for local processing (not implemented).")])],1)],1),e._v(" "),o("q-list-header",[e._v("Item tagging")]),e._v(" "),o("q-item",{nativeOn:{click:function(t){e.showItemTagger=!0}}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("View item tags")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Review and set the tags used to identify items in conversations.")])],1)],1),e._v(" "),o("q-modal",{attrs:{"content-css":{minWidth:"80vw",minHeight:"80vh"}},on:{show:function(t){e.$refs.itemtable.processItems()}},model:{value:e.showItemTagger,callback:function(t){e.showItemTagger=t},expression:"showItemTagger"}},[o("item-table",{ref:"itemtable"})],1),e._v(" "),o("q-list-header",[e._v("Notifications")]),e._v(" "),o("q-item",{nativeOn:{click:function(t){e.enableNotifications()}}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Enable/test push notifications")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Subscribe to push notifications on this device, and check whether notifications are received.")])],1)],1),e._v(" "),e.$q.platform.is.chrome?o("q-list-header",[e._v("Credential management")]):e._e(),e._v(" "),e.$q.platform.is.chrome?o("q-item",{nativeOn:{click:function(t){e.showCredentialsDialog=!0}}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Store openHAB Cloud credentials")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Save your remote credentials securely in your Chrome browser to log in automatically in the future.")])],1)],1):e._e(),e._v(" "),o("q-dialog",{attrs:{"prevent-close":"",ok:!0,cancel:!0},on:{ok:e.storeCredentials,cancel:function(){}},model:{value:e.showCredentialsDialog,callback:function(t){e.showCredentialsDialog=t},expression:"showCredentialsDialog"}},[o("span",{attrs:{slot:"title"},slot:"title"},[e._v("Store credentials")]),e._v(" "),o("span",{attrs:{slot:"message"},slot:"message"},[e._v("Please enter your username and password for myopenhab.org below, click OK, then confirm when your browser offers to save the credentials.")]),e._v(" "),o("div",{attrs:{slot:"body"},slot:"body"},[o("q-field",{attrs:{icon:"account_circle",label:"User ID (your email)",required:""}},[o("q-input",{model:{value:e.creds.username,callback:function(t){e.$set(e.creds,"username",t)},expression:"creds.username"}})],1)],1),e._v(" "),o("div",{attrs:{slot:"body"},slot:"body"},[o("q-field",{attrs:{label:"Password",icon:"vpn_key",required:""}},[o("q-input",{attrs:{type:"password"},model:{value:e.creds.password,callback:function(t){e.$set(e.creds,"password",t)},expression:"creds.password"}})],1)],1)]),e._v(" "),o("q-list-header",[e._v("About")]),e._v(" "),o("q-item",{attrs:{disabled:""}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("About HABot")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Build date: "+e._s(e.buildTimestamp))])],1)],1),e._v(" "),o("q-item",{nativeOn:{click:function(t){e.refreshApp()}}},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v("Refresh the application")]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v("Empty and refresh the application cache to upgrade the app.")])],1)],1)],1)],1)},ve=[];be._withStripped=!0;var ye=Object(v.a)(fe,be,ve,!1,null,null,null);ye.options.__file="src\\pages\\Settings.vue";var Me=ye.exports,xe={components:{CardDesigner:o("pJtG").default,HbCard:S.a},data:function(){return{multiple:!1,objects:null,locations:null}},methods:{addCard:function(){this.$router.push({path:"/designer/"+Object(h._34)(),query:{tags:this.currentFilterTags.join(",")}})},addListCard:function(){this.$router.push({path:"/designer/"+Object(h._34)(),query:{type:"list",tags:this.currentFilterTags.join(",")}})},addTabbedCard:function(){this.$router.push({path:"/designer/"+Object(h._34)(),query:{type:"tabs",tags:this.currentFilterTags.join(",")}})}},watch:{multiple:function(e){e?(this.objects=this.objects?[this.objects]:[],this.locations=this.locations?[this.locations]:[]):(this.objects=this.objects.length?this.objects[0]:null,this.locations=this.locations.length?this.locations[0]:null)}},computed:{nofilters:function(){return this.multiple?!this.objects.length&&!this.locations.length:!this.objects&&!this.locations},objectSet:{get:function(){var e=this;return this.$store.getters["cards/objectSet"].map(function(t){return{value:t,label:t.replace("object:",""),stamp:"("+e.$store.getters["cards/tag"](t).length+")"}})}},locationSet:{get:function(){var e=this;return this.$store.getters["cards/locationSet"].map(function(t){return{value:t,label:t.replace("location:",""),stamp:"("+e.$store.getters["cards/tag"](t).length+")"}})}},cards:{get:function(){var e=this.multiple?this.objects:this.objects?[this.objects]:[],t=this.multiple?this.locations:this.locations?[this.locations]:[];return this.$store.getters["cards/tags"](e,t)}},currentFilterTags:function(){var e=[];return this.multiple?e=e.concat(this.objects).concat(this.locations):(this.objects&&e.push(this.objects),this.locations&&e.push(this.locations)),e}}},je=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"row bg-grey-2 shadow-2"},[o("q-checkbox",{staticClass:"multiple-toggle",attrs:{color:"secondary","unchecked-icon":"done","checked-icon":"done_all"},model:{value:e.multiple,callback:function(t){e.multiple=t},expression:"multiple"}}),e._v(" "),o("div",{class:["filters","row",e.multiple?"multiple":"single"]},[o("q-select",{staticClass:"col-sm-6",attrs:{multiple:e.multiple,filter:"",clearable:"",chips:"",color:"secondary",options:e.objectSet,"float-label":"Objects"},model:{value:e.objects,callback:function(t){e.objects=t},expression:"objects"}}),e._v(" "),o("q-select",{staticClass:"col-sm-6",attrs:{multiple:e.multiple,filter:"",clearable:"",chips:"",color:"secondary",options:e.locationSet,"float-label":"Locations"},model:{value:e.locations,callback:function(t){e.locations=t},expression:"locations"}})],1)],1),e._v(" "),o("div",{staticClass:"row"},[e.objectSet.length||e.locationSet.length?e.nofilters||e.cards.length?e.nofilters?o("div",{staticClass:"fit text-center q-pt-xl q-pl-lg q-pr-lg text-grey"},[o("h4",{staticClass:"q-display-1"},[e._v("Select tags to show cards")]),e._v(" "),o("p",[e._v("Use the filters above to display the corresponding cards, or create one.")]),e._v(" "),o("q-btn",{staticStyle:{"margin-top":"-1px"},attrs:{flat:"",icon:"bookmark",label:"Bookmarks"},on:{click:function(t){e.$router.push("/cards/bookmarks")}}}),e._v(" "),o("q-btn",{staticStyle:{"margin-top":"-1px"},attrs:{flat:"",icon:"star",label:"Suggestions"},on:{click:function(t){e.$router.push("/cards/suggestions")}}})],1):e._e():o("div",{staticClass:"fit text-center q-pt-xl q-pl-lg q-pr-lg text-grey"},[o("h4",{staticClass:"q-display-1"},[e._v("No cards found")]),e._v(" "),o("p",[e._v("Change the filters or use the button below to create one.")])]):o("div",{staticClass:"fit text-center q-pt-xl q-pl-lg q-pr-lg text-grey"},[o("h4",{staticClass:"q-display-1"},[e._v("Card deck empty")]),e._v(" "),o("p",[e._v("Add cards while chatting with HABot or use the button below to create one.")]),e._v(" "),o("q-btn",{staticStyle:{"margin-top":"-1px"},attrs:{flat:"",icon:"chat",label:"Chat with HABot"},on:{click:function(t){e.$router.push("/chat")}}})],1),e._v(" "),o("div",{staticClass:"hb-cards"},e._l(e.cards,function(e){return o("HbCard",{key:e.uid,tag:"component",attrs:{model:e,menu:"deck"}})}))]),e._v(" "),o("q-page-sticky",{attrs:{position:"bottom-right",offset:[18,18]}},[o("q-fab",{attrs:{color:"secondary",icon:"add",direction:"up"}},[o("q-fab-action",{attrs:{color:"secondary",icon:"aspect_ratio"},on:{click:e.addCard}},[o("q-tooltip",{attrs:{anchor:"center left",self:"center right",offset:[10,10]}},[e._v("Create simple card")])],1),e._v(" "),o("q-fab-action",{attrs:{color:"secondary",icon:"list"},on:{click:e.addListCard}},[o("q-tooltip",{attrs:{anchor:"center left",self:"center right",offset:[10,10]}},[e._v("Create list card")])],1),e._v(" "),o("q-fab-action",{attrs:{color:"secondary",icon:"tab"},on:{click:e.addTabbedCard}},[o("q-tooltip",{attrs:{anchor:"center left",self:"center right",offset:[10,10]}},[e._v("Create tabbed card")])],1)],1)],1)],1)},Ae=[];je._withStripped=!0;var we=!1;var Te=function(e){we||o("6ZIF")},Ce=Object(v.a)(xe,je,Ae,!1,Te,null,null);Ce.options.__file="src\\pages\\CardDeck.vue";var ke=Ce.exports,Ie={components:{HbCard:S.a},data:function(){return{cards:[]}},methods:{computeSuggestions:function(e){var t=this;this.cards=[],this.$store.dispatch("cards/computeSuggestions").then(function(o){t.cards=o,e&&e()})}},mounted:function(){this.computeSuggestions()}},Ne=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-pull-to-refresh",{attrs:{handler:e.computeSuggestions}},[o("div",{staticClass:"row"},[o("div",{staticClass:"hb-cards"},e._l(e.cards,function(e){return o("HbCard",{key:e.uid,tag:"component",attrs:{model:e,menu:"deck"}})})),e._v(" "),0===e.cards.length?o("div",{staticClass:"fit text-center q-pt-xl q-pl-lg q-pr-lg text-grey"},[o("h4",{staticClass:"q-display-1"},[e._v("No suggestions at this time")]),e._v(" "),o("p",[e._v("Edit cards from the\n      "),o("q-btn",{staticStyle:{"margin-top":"-1px"},attrs:{flat:"",icon:"dashboard",label:"Card deck"},on:{click:function(t){e.$router.push("/cards/deck")}}}),e._v("\n      and add criteria in the designer to make them appear here when relevant.")],1)]):e._e(),e._v(" "),o("div",{staticClass:"full-width q-ma-lg text-center"},[o("q-btn",{attrs:{outline:"",color:"secondary",icon:"refresh"},on:{click:function(t){e.computeSuggestions()}}},[e._v("Refresh suggestions")])],1)])])},De=[];Ne._withStripped=!0;var Se=!1;var _e=function(e){Se||o("hv1w")},Le=Object(v.a)(Ie,Ne,De,!1,_e,null,null);Le.options.__file="src\\pages\\CardSuggestions.vue";var qe=Le.exports,Ee={components:{HbCard:S.a},data:function(){return{cards:null,busy:!0}},methods:{getRecentCards:function(e){var t=this;this.$http.get("/rest/habot/cards/recent").then(function(e){t.busy=!1,e.data&&(t.cards=e.data)})},cardForgotten:function(e){var t=this.cards.find(function(t){return t.uid===e});this.cards.splice(this.cards.indexOf(t),1)},formatTimestamp:function(e){return new Date(e).toString()}},created:function(){this.getRecentCards(0)}},Oe=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.busy?o("div",{staticClass:"q-ma-xl full-width text-center"},[o("q-spinner-dots",{attrs:{width:"4rem",color:"primary"}})],1):e.cards.length?o("q-timeline",{staticClass:"recent-cards"},e._l(e.cards,function(t){return o("q-timeline-entry",{key:t.uid,staticClass:"recent-card",attrs:{subtitle:e._f("moment")(new Date(t.timestamp),"from")}},[o("hb-card",{attrs:{model:t,menu:"recent"},on:{forgotten:e.cardForgotten}})],1)})):o("div",{staticClass:"row"},[o("div",{staticStyle:{padding:"10px"}}),e._v(" "),o("div",{staticClass:"fit text-center q-pt-xl q-pl-lg q-pr-lg text-grey"},[o("h4",{staticClass:"q-display-1"},[e._v("No recent cards")]),e._v(" "),o("p",[e._v("The cards encountered while chatting or modified recently will appear here.")]),e._v(" "),o("q-btn",{staticStyle:{"margin-top":"-1px"},attrs:{flat:"",icon:"chat",label:"Chat with HABot"},on:{click:function(t){e.$router.push("/chat")}}})],1)])},ze=[];Oe._withStripped=!0;var He=!1;var Re=function(e){He||o("KqUz")},Qe=Object(v.a)(Ee,Oe,ze,!1,Re,null,null);Qe.options.__file="src\\pages\\CardRecent.vue";var Ue=Qe.exports,Ye={components:{HbCard:S.a},computed:{cards:{get:function(){return this.$store.getters["cards/bookmarked"]}}}},Be=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"row"},[o("div",{staticClass:"hb-cards"},e._l(e.cards,function(e){return o("HbCard",{key:e.uid,tag:"component",attrs:{model:e,menu:"deck"}})})),e._v(" "),0===e.cards.length?o("div",{staticClass:"fit text-center q-pt-xl q-pl-lg q-pr-lg text-grey"},[o("h4",{staticClass:"q-display-1"},[e._v("No bookmarked cards")]),e._v(" "),o("p",[e._v("Bookmark cards using their context menu in the\n    "),o("q-btn",{staticStyle:{"margin-top":"-1px"},attrs:{flat:"",icon:"dashboard",label:"Card deck"},on:{click:function(t){e.$router.push("/cards/deck")}}}),e._v("\n    or while chatting with HABot.")],1)]):e._e()])},$e=[];Be._withStripped=!0;var Pe=!1;var Fe=function(e){Pe||o("mzvw")},We=Object(v.a)(Ye,Be,$e,!1,Fe,null,null);We.options.__file="src\\pages\\CardBookmarks.vue";var Ge=We.exports,Xe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"fixed-center text-center"},[i("p",[e.initialLogin?i("img",{staticStyle:{width:"30vw","max-width":"152px"},attrs:{src:"statics/icons/apple-icon-152x152.png"}}):i("img",{staticStyle:{width:"30vw","max-width":"152px"},attrs:{src:o("davb")}})]),e._v(" "),i("p",{staticClass:"text-faded"},[e._v(e._s(this.message))]),e._v(" "),e.$q.platform.is.cordova?i("div",{staticClass:"text-left"},[i("q-input",{attrs:{"float-label":"openHAB URL"},model:{value:e.baseURL,callback:function(t){e.baseURL=t},expression:"baseURL"}}),e._v(" "),i("q-input",{attrs:{"float-label":"User Id (optional)"},model:{value:e.userId,callback:function(t){e.userId=t},expression:"userId"}}),e._v(" "),i("q-input",{attrs:{type:"password","float-label":"Password (optional)"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),e._v(" "),i("br")],1):e._e(),e._v(" "),i("q-btn",{staticStyle:{width:"200px"},attrs:{color:"secondary"},on:{click:e.login}},[e._v(e._s(e.initialLogin?"Login":"offline"===e.$route.meta.reason?"Try again":"Go back"))])],1)},Je=[];Xe._withStripped=!0;var Ve=Object(v.a)({data:function(){return{initialLogin:!1,message:null,baseURL:"",userId:"",password:""}},created:function(){"offline"===this.$route.meta.reason?this.$q.platform.is.cordova&&!this.$q.localStorage.has("habot.baseURL")?(this.initialLogin=!0,this.message="Login to openHAB"):this.message="openHAB is unreachable":this.message="Sorry, nothing here..."},methods:{login:function(){if(this.$q.platform.is.cordova){if(!this.baseURL)return;this.$q.localStorage.set("habot.baseURL",this.baseURL),this.userId&&this.password&&(this.$q.localStorage.set("habot.credentialUserId",this.userId),this.$q.localStorage.set("habot.credentialPassword",this.password))}this.$router.push("/")}}},Xe,Je,!1,null,null,null);Ve.options.__file="src\\pages\\Error.vue";var Ke,Ze=Ve.exports,et=[{path:"/",component:D,children:[{path:"/",redirect:"/chat"},{path:"/chat",component:ce,meta:{title:"Chat with HABot"}},{path:"/settings",component:Me,meta:{title:"Settings"}},{path:"/cards/bookmarks",component:Ge,meta:{title:"Card bookmarks"}},{path:"/cards/suggestions",component:qe,meta:{title:"Card suggestions"}},{path:"/cards/recent",component:Ue,meta:{title:"Recent cards"}},{path:"/cards/deck",component:ke,meta:{title:"Card deck"}},{path:"/help",component:function(){return o.e(1).then(o.bind(null,"v6xc"))},meta:{title:"Help"}},{path:"/notification",redirect:function(e){return{path:"/chat",hash:"",query:"",params:{action:e.hash}}}}]},{path:"/designer/:uid",component:function(){return new Promise(function(e){e()}).then(o.bind(null,"pJtG"))},props:!0},{path:"/offline",component:Ze,meta:{reason:"offline"}},{path:"*",component:Ze}],tt=o("NYxO"),ot=o("lHA8"),it=o.n(ot),nt=o("Gu7T"),st=o.n(nt),at=o("0XFg"),rt=function(e){return[].concat(st()(new it.a(e)))},lt=function(e){if(!e.items.length)return[];var t=e.items.map(function(e){return e.tags||[]}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return 0===e.indexOf("object:")});return rt(t)},ct=function(e){if(!e.items.length)return[];var t=e.items.map(function(e){return e.tags||[]}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return 0===e.indexOf("location:")});return rt(t)},dt=function(e){var t={},o=!0,i=!1,n=void 0;try{for(var s,a=L()(e.items);!(o=(s=a.next()).done);o=!0){var r=s.value;t[r.name]=e.map[r.name]}}catch(e){i=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw n}}return t},ut=function(e){return function(t,o){if(!e.items.length)return null;var i=e.items.find(function(e){return e.name===t});return i&&i.state?o?i.state:i.transformedState?i.transformedState:i.stateDescription&&i.stateDescription.pattern?Object(at.sprintf)(i.stateDescription.pattern,i.state):i.state:null}},pt=function(e){return function(t){return e.items.find(function(e){return e.name===t})}},mt=function(e,t){console.log("Loaded "+t.length+" items"),e.items=t;var o=!0,i=!1,n=void 0;try{for(var s,a=L()(t);!(o=(s=a.next()).done);o=!0){var r=s.value;e.map[r.name]=r}}catch(e){i=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(i)throw n}}},ht=function(e,t){console.log("Updating "+t.itemName+" state to "+t.newState+(t.newTransformedState?" ("+t.newTransformedState+")":""));var o=e.items.find(function(e){return e.name===t.itemName});o.state=t.newState,t.newTransformedState&&(o.transformedState=t.newTransformedState),e.map=Object(h._32)({},e.map),e.map[t.itemName]=o},gt=function(e){e.ready=!0},ft=o("Xxa5"),bt=o.n(ft),vt=o("exGp"),yt=o.n(vt),Mt=o("//Fk"),xt=o.n(Mt),jt=o("mtWM"),At=o.n(jt),wt=(o("zFrg"),this),Tt=void 0,Ct=void 0,kt=function(e){return Tt&&Tt.readyState<2&&Tt.close(),console.log("Fetching initial state of all items..."),new xt.a(function(t,o){At.a.get("/rest/items").then(function(o){e.commit("updateAll",o.data),e.commit("setReady"),t()}).catch(function(e){o(e)})})},It=(Ke=yt()(bt.a.mark(function e(t,o){var i;return bt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:i="",h.f.is.cordova&&(i=h.d.get.item("habot.baseURL")),o||Ct?(Ct||(Ct="Basic "+btoa(o.id+":"+o.password)),Tt=new EventSourcePolyfill(i+"/rest/events",{headers:{Authorization:Ct}})):Tt=h.f.is.cordova?new EventSourcePolyfill(i+"/rest/events"):new EventSource(i+"/rest/events"),Tt.onopen=function(e){t.state.connectionBroken=!1},Tt.onmessage=function(e){var o=JSON.parse(e.data);if(o.type.indexOf("ItemStateChangedEvent")>=0){var i=JSON.parse(o.payload),n=o.topic.split("/")[2];t.getters.name(n).transformedState?At.a.get("/rest/items/"+n).then(function(e){t.commit("updateOne",{itemName:n,newState:i.value,newTransformedState:e.data.transformedState})}):t.commit("updateOne",{itemName:n,newState:i.value})}(o.type.indexOf("ItemAddedEvent")>=0||o.type.indexOf("ItemUpdatedEvent")>=0||o.type.indexOf("ItemRemovedEvent")>=0)&&(console.log("Items have changed, refreshing store"),Tt.close(),h.e.create({type:"info",message:"Items have changed, refreshing"}),setTimeout(function(){t.dispatch("initialLoad").then(function(){t.dispatch("watchEvents")})},500))},Tt.onerror=function(){2===Tt.readyState&&(t.state.connectionBroken=!0,Tt.close(),console.log("%c=!= Event source connection broken...","background-color: red; color: white"))};case 6:case"end":return e.stop()}},e,wt)})),function(e,t){return Ke.apply(this,arguments)}),Nt=function(e,t){if(t.updateState){var o=e.getters.itemState(t.itemName,!0);if(o&&o===t.command)return;e.commit("updateOne",{itemName:t.itemName,newState:t.command.toString()})}console.log("%cSending command to "+t.itemName+": "+t.command,"font-weight: bold"),At.a.post("/rest/items/"+t.itemName,t.command,{headers:{"Content-Type":"text/plain"}})},Dt={namespaced:!0,state:{ready:!1,items:[],map:{},connectionBroken:!1},getters:i,mutations:n,actions:s},St=function(e){return[].concat(st()(new it.a(e)))},_t=function(e){if(!e.cards.length)return[];var t=e.cards.map(function(e){return e.tags||[]}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return 0===e.indexOf("object:")});return St(t)},Lt=function(e){if(!e.cards.length)return[];var t=e.cards.map(function(e){return e.tags||[]}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return 0===e.indexOf("location:")});return St(t)},qt=function(e){return function(t){return e.cards.length?e.cards.filter(function(e){return e.tags&&e.tags.indexOf(t)>=0}):[]}},Et=function(e){return function(t,o){if(!t.length&&!o.length)return[];if(!e.cards.length)return[];var i=e.cards.slice();return t.length&&(i=i.filter(function(e){return e.tags&&t.some(function(t){return e.tags.indexOf(t)>=0})})),o.length&&(i=i.filter(function(e){return e.tags&&o.some(function(t){return e.tags.indexOf(t)>=0})})),i}},Ot=function(e){return e.cards},zt=function(e){return e.cards?e.cards.filter(function(e){return e.bookmarked}):[]},Ht=function(e){return function(t){return e.cards?e.cards.find(function(e){return e.uid===t}):null}},Rt=function(e){return e.cards?e.cards.filter(function(e){return e.config&&e.config.suggestcriteria}):[]},Qt=function(e){return function(t){if(!e.cards)return[];var o=e.cards.find(function(e){return e.uid===t});return o&&o?Object(h._32)(!0,{},o):null}},Ut=function(e,t){console.log("Loaded "+t.length+" cards"),e.cards=t},Yt=function(e,t){e.cards.push(t)},Bt=function(e,t){var o=e.cards.findIndex(function(e){return e.uid===t.uid});o<0||e.cards.splice(o,1,Object(h._32)(!0,{},t))},$t=function(e,t){var o=e.cards.findIndex(function(e){return e.uid===t.uid});o<0||(e.cards[o].bookmarked=!0)},Pt=function(e,t){var o=e.cards.findIndex(function(e){return e.uid===t.uid});o<0||(e.cards[o].bookmarked=!1)},Ft=function(e,t){var o=e.cards.findIndex(function(e){return e.uid===t.uid});o<0||(e.cards[o].timestamp=Date.now())},Wt=function(e,t){var o=e.cards.findIndex(function(e){return e.uid===t.uid});o<0||e.cards.splice(o,1)},Gt=function(e){e.ready=!0},Xt=function(e){return e.state.cards.length?xt.a.resolve():(console.log("Fetching all cards..."),new xt.a(function(t,o){At.a.get("/rest/habot/cards").then(function(o){e.commit("updateAll",o.data),e.commit("setReady"),t()}).catch(function(e){o(e)})}))},Jt=function(e,t){return(window&&window.location&&"home.myopenhab.org"===window.location.host?At.a.post("/rest/habot/compat/cards",Y()(t),{headers:{"Content-Type":"text/plain"}}):At.a.post("/rest/habot/cards",t)).then(function(o){return e.commit("createCard",t),xt.a.resolve(t)}).catch(function(e){return xt.a.reject(e)})},Vt=function(e,t){return(window&&window.location&&"home.myopenhab.org"===window.location.host?At.a.post("/rest/habot/compat/cards/"+t.uid,Y()(t),{headers:{"Content-Type":"text/plain"}}):At.a.put("/rest/habot/cards/"+t.uid,t)).then(function(o){return e.commit("updateCard",t),xt.a.resolve(t)}).catch(function(e){return xt.a.reject(e)})},Kt=function(e,t){return At.a.put("/rest/habot/cards/"+t.uid+"/bookmark",null,{headers:{"Content-Type":"text/plain"}}).then(function(o){return e.commit("bookmarkCard",t),xt.a.resolve(t)}).catch(function(e){return xt.a.reject(e)})},Zt=function(e,t){return(window&&window.location&&"home.myopenhab.org"===window.location.host?At.a.post("/rest/habot/compat/cards/"+t.uid+"/unbookmark",null,{headers:{"Content-Type":"text/plain"}}):At.a.delete("/rest/habot/cards/"+t.uid+"/bookmark")).then(function(o){return e.commit("unbookmarkCard",t),xt.a.resolve(t)}).catch(function(e){return xt.a.reject(e)})},eo=function(e,t){return(window&&window.location&&"home.myopenhab.org"===window.location.host?At.a.post("/rest/habot/compat/cards/"+t.uid+"/delete",null,{headers:{"Content-Type":"text/plain"}}):At.a.delete("/rest/habot/cards/"+t.uid)).then(function(o){return e.commit("removeCard",t),xt.a.resolve(t)}).catch(function(e){return xt.a.reject(e)})},to=function(e,t){return At.a.put("/rest/habot/cards/"+t.uid+"/timestamp",null,{headers:{"Content-Type":"text/plain"}}).then(function(o){return e.commit("updateCardTimestamp",t),xt.a.resolve(t)}).catch(function(e){return xt.a.reject(e)})},oo=function(e){var t=[],o=e.state.cards.filter(function(e){return e.config&&e.config.suggestcriteria}),i=[],n=function(e){i.push(m.a.prototype.$expr("="+e.config.suggestcriteria).then(function(o){!0===o&&t.push(e)}))},s=!0,a=!1,r=void 0;try{for(var l,c=L()(o);!(s=(l=c.next()).done);s=!0){n(l.value)}}catch(e){a=!0,r=e}finally{try{!s&&c.return&&c.return()}finally{if(a)throw r}}return xt.a.all(i).then(function(){return t})},io={namespaced:!0,state:{cards:[]},getters:a,mutations:r,actions:l},no=function(e,t){var o=function(){return e.dispatch("items/initialLoad").then(function(){return e.dispatch("cards/initialLoad").then(function(){return e.dispatch("items/watchEvents",t),e.commit("setReady")})})};if(h.f.is.cordova){var i=h.d.get.item("habot.baseURL");if(!i)return xt.a.reject(new Error("Base URL not configured"));At.a.defaults.baseURL=i,e.commit("setBaseURL",i);var n=h.d.get.item("habot.credentialUserId"),s=h.d.get.item("habot.credentialPassword");n&&s&&(t={id:n,password:s})}return t?(At.a.defaults.headers.common.Authorization="Basic "+btoa(t.id+":"+t.password),e.commit("setUsingStoredCredentials"),o()):o()},so=function(e){e.ready=!0},ao=function(e){e.usingStoredCredentials=!0},ro=function(e,t){e.baseURL=t},lo=function(e,t){e.lang=t};m.a.use(tt.a);var co=new tt.a.Store({modules:{items:Dt,cards:io},state:{ready:!1,lang:"en",usingStoredCredentials:!1,baseURL:""},actions:c,mutations:d});m.a.use(A.a);var uo=new A.a({mode:"hash",base:"/",scrollBehavior:function(){return{y:0}},routes:et});uo.beforeEach(function(e,t,o){return co.state.ready?o():0===e.path.indexOf("/offline")?o():void(navigator.credentials&&navigator.credentials.preventSilentAccess?navigator.credentials.get({password:!0}).then(function(e){console.log("Using stored credentials to sign in"),co.dispatch("initialLoad",e).then(function(){return o()}).catch(function(){return o("/offline")})}).catch(function(){co.dispatch("initialLoad").then(function(){return o()}).catch(function(){return o("/offline")})}):co.dispatch("initialLoad").then(function(){return o()}).catch(function(){return o("/offline")}))});var po=uo,mo=o("fH43"),ho=o.n(mo),go=o("PlbA"),fo=o.n(go),bo=o("mjDs"),vo=o.n(bo);m.a.config.productionTip=!1;var yo=p()({el:"#q-app",router:po,store:co},j),Mo=[];Mo.push(function(e){e.Vue.prototype.$http=At.a}),Mo.push(function(e){e.app,e.router;var t=e.store,o=e.Vue;o.use(fo.a),o.prototype.$jexl=ho.a,ho.a.addTransform("number",function(e){return parseFloat(e)}),o.prototype.$expr=function(e,o){if(!e)return null;if(o||(o={items:t.getters["items/allStates"]}),!e.startsWith("="))return e;try{return ho.a.eval(e.substring(1),o).then(function(e){return e}).catch(function(e){return"Error: "+e.message})}catch(e){return e}}}),Mo.push(function(e){e.app,e.router;e.Vue.use(vo.a)}),Mo.forEach(function(e){return e({app:yo,router:po,store:co,Vue:m.a})}),document.addEventListener("deviceready",function(){m.a.prototype.$q.cordova=window.cordova,new m.a(yo)},!1)},pA7L:function(e,t,o){"use strict";var i={name:"HbBtn",props:["model"],data:function(){return{showModal:!1,showPopover:!1}},beforeCreate:function(){this.$options.components.HbContainer=o("UyNw").default},methods:{click:function(){this.hasPopover?this.showPopover=!0:this.hasModal?this.showModal=!0:this.model.config.item&&this.sendCmd()},sendCmd:function(){this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:this.command})}},computed:{hasPopover:function(){return this.model.slots&&this.model.slots.popover},hasModal:function(){return this.model.slots&&this.model.slots.modal&&"HbModal"===this.model.slots.modal[0].component&&this.model.slots.modal[0].slots.main[0].component&&this.model.slots.modal[0].slots.main[0]}},asyncComputed:{label:function(){return this.$expr(this.model.config.label)},command:function(){return this.$expr(this.model.config.command)},disabled:function(){return!!this.model.config.disabled&&this.$expr("="+this.model.config.disabled)},color:function(){return this.$expr(this.model.config.color)},textColor:function(){return this.$expr(this.model.config.textColor)},icon:function(){return this.$expr(this.model.config.icon)},iconRight:function(){return this.$expr(this.model.config.iconRight)}}},n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return e.hasPopover?e.hasPopover?o("q-btn-dropdown",{attrs:{icon:this.model.config.icon,"icon-right":this.model.config.iconRight,disabled:e.disabled,label:e.label,size:this.model.config.size?this.model.config.size:void 0,color:e.color,"text-color":e.textColor,dense:this.model.config.dense,round:this.model.config.round,outline:this.model.config.outline,flat:this.model.config.flat,glossy:this.model.config.glossy,push:this.model.config.push,rounded:this.model.config.rounded,"no-caps":this.model.config.noCaps,"no-ripple":this.model.config.noRipple}},e._l(this.model.slots.popover,function(e,t){return o(e.component,{key:"popover-"+t,tag:"component",attrs:{model:e}})})):e._e():o("q-btn",{class:{"highlight-and-fade":this.model.highlight},attrs:{icon:e.icon,"icon-right":e.iconRight,disabled:e.disabled,label:e.label,size:this.model.config.size?this.model.config.size:void 0,color:e.color,"text-color":e.textColor,dense:this.model.config.dense,round:this.model.config.round,outline:this.model.config.outline,flat:this.model.config.flat,glossy:this.model.config.glossy,push:this.model.config.push,rounded:this.model.config.rounded,"no-caps":this.model.config.noCaps,"no-ripple":this.model.config.noRipple},on:{click:e.click}},[e.hasModal?o("q-modal",{attrs:{"content-css":this.model.slots.modal[0].config.minimized?null:{minWidth:"80vw",minHeight:"80vh"},"content-classes":this.model.slots.modal[0].config.minimized?this.model.slots.modal[0].config.contentClasses:null,maximized:this.model.slots.modal[0].config.maximized,minimized:this.model.slots.modal[0].config.minimized,position:this.model.slots.modal[0].config.position},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[this.model.slots.modal[0].config.minimized?e._l(this.model.slots.modal[0].slots.main,function(e,t){return o(e.component,{key:"modal-"+t,tag:"component",attrs:{model:e}})}):o("q-modal-layout",{attrs:{"content-class":this.model.slots.modal[0].config.contentClasses}},[this.model.slots.modal[0].config.minimized?e._e():o("q-toolbar",{attrs:{slot:"header",glossy:this.model.slots.modal[0].config.toolbarGlossy,inverted:this.model.slots.modal[0].config.toolbarInverted,color:this.model.slots.modal[0].config.toolbarColor,textColor:this.model.slots.modal[0].config.toolbarTextColor},slot:"header"},[o("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),e._v(" "),o("q-toolbar-title",[e._v("\n          "+e._s(this.model.slots.modal[0].config.toolbarTitle)+"\n          "),this.model.slots.modal[0].config.toolbarSubtitle?o("span",{attrs:{slot:"subtitle"},slot:"subtitle"},[e._v("\n            "+e._s(this.model.slots.modal[0].config.toolbarSubtitle)+"\n          ")]):e._e()])],1),e._v(" "),e._l(this.model.slots.modal[0].slots.main,function(e,t){return o(e.component,{key:"modal-"+t,tag:"component",attrs:{model:e}})})],2)],2):e._e()],1)},s=[];n._withStripped=!0;var a=o("XyMi"),r=Object(a.a)(i,n,s,!1,null,null,null);r.options.__file="src\\components\\HbBtn.vue";t.a=r.exports},pJtG:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("fZjL"),n=o.n(i),s=o("mvHQ"),a=o.n(s),r=o("BO1k"),l=o.n(r),c=o("VRCQ"),d=function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-input",{attrs:{value:e.value,color:"secondary"},on:{input:function(t){e.$emit("input",t)}}})},u=[];d._withStripped=!0;var p=o("XyMi"),m=Object(p.a)({name:"ConfigText",props:["value"]},d,u,!1,null,null,null);m.options.__file="src\\components\\designer\\ConfigText.vue";var h=m.exports,g=function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-checkbox",{attrs:{value:e.value,color:"secondary"},on:{input:function(t){e.$emit("input",t)}}})},f=[];g._withStripped=!0;var b=Object(p.a)({name:"ConfigBool",props:["value"]},g,f,!1,null,null,null);b.options.__file="src\\components\\designer\\ConfigBool.vue";var v=b.exports,y=function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-option-group",{attrs:{value:e.value,color:"secondary",options:e.options},on:{input:function(t){e.$emit("input",t)}}})},M=[];y._withStripped=!0;var x=Object(p.a)({name:"ConfigOptionGroup",props:["value","options"]},y,M,!1,null,null,null);x.options.__file="src\\components\\designer\\ConfigOptionGroup.vue";var j=x.exports,A=function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-select",{attrs:{value:e.val,color:"secondary",options:e.items,multiple:e.multiple,filter:"",clearable:""},on:{input:function(t){e.$emit("input",t)}}})},w=[];A._withStripped=!0;var T=Object(p.a)({name:"ConfigItem",props:["value","multiple"],data:function(){return{items:this.$store.state.items.items.map(function(e){return{value:e.name,label:e.name,sublabel:e.label,stamp:e.type}})}},computed:{val:{get:function(){return!this.value&&this.multiple?[]:this.value},set:function(e){this.value=e}}}},A,w,!1,null,null,null);T.options.__file="src\\components\\designer\\ConfigItem.vue";var C=T.exports,k={name:"ConfigExpr",props:["value","targetType"],computed:{isError:function(){return!!this.value&&(!(!this.exprResult||0!==this.exprResult.toString().indexOf("Error"))||("array"===this.targetType&&!Array.isArray(this.exprResult)||"boolean"===this.targetType&&!0!==this.exprResult&&!1!==this.exprResult))},exprError:function(){return this.value?void 0===this.exprResult||null===this.exprResult?"Result indetermined":this.exprResult&&0===this.exprResult.toString().indexOf("Error:")?this.exprResult.toString():"boolean"===this.targetType&&!0!==this.exprResult&&!1!==this.exprResult?"Result not boolean: "+this.exprResult.toString():"array"!==this.targetType||Array.isArray(this.exprResult)?"boolean"===this.targetType?"OK - result is "+this.exprResult.toString():"OK":"Result is not an array":""}},asyncComputed:{exprResult:function(){return this.value?this.$expr("="+this.value):""}}},I=function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-input",{attrs:{value:e.value,color:"secondary",error:e.isError,"float-label":e.exprError,prefix:"="},on:{input:function(t){e.$emit("input",t)}}})},N=[];I._withStripped=!0;var D=Object(p.a)(k,I,N,!1,null,null,null);D.options.__file="src\\components\\designer\\ConfigExpr.vue";var S=D.exports,_=function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-chips-input",{attrs:{value:e.val,color:"secondary"},on:{input:function(t){e.$emit("input",t)}}})},L=[];_._withStripped=!0;var q=Object(p.a)({name:"ConfigTextArray",props:["value","multiple"],computed:{val:{get:function(){return this.value?this.value:[]},set:function(e){this.value=e}}}},_,L,!1,null,null,null);q.options.__file="src\\components\\designer\\ConfigArray.vue";var E=q.exports,O=o("e8cx"),z=o.n(O),H={props:["value","slotName","component"],data:function(){return{json:null,showValidationReport:!1,errors:[]}},created:function(){this.json=a()(this.value,null,2)},methods:{addError:function(e,t){this.errors.push("At "+(e||"(root)")+": "+t)},validateComponent:function(e,t,o,i){if(e.component)if(z.a[e.component]){var n=(o?o+".":"")+e.component+"["+i+"]";if(t.allowedComponents&&-1===t.allowedComponents.indexOf(e.component)||t.deniedComponents&&-1!==t.deniedComponents.indexOf(e.component))this.addError(n,"This component is not allowed in this slot");else if(e.config)if(e.config instanceof Object&&e.config.constructor===Object){for(var s in e.config)if(!z.a[e.component].configDescriptions[s])return void this.addError(n,'Unknown config attribute "'+s+'"');if(e.slots){if(!z.a[e.component].slotDescriptions)return void this.addError(n,"Cannot define slots for this component");if(!(e.slots instanceof Object&&e.slots.constructor===Object))return void this.addError(n,"slots property is not an object");for(var a in e.slots){if(!z.a[e.component].slotDescriptions[a])return void this.addError(n,'Component does not have a "'+a+'" slot');this.validateSlot(e.slots[a],n+"."+a,e.component,a)}}}else this.addError(n,"config property is not an object");else this.addError(n,"No component config")}else this.addError(o+"["+i+"]","Unknown component: "+e.component);else this.addError(o+"["+i+"]","No component name")},validateSlot:function(e,t,o,i){if(Array.isArray(e)){var n=0,s=z.a[o].slotDescriptions[i],a=!0,r=!1,c=void 0;try{for(var d,u=l()(e);!(a=(d=u.next()).done);a=!0){var p=d.value;this.validateComponent(p,s,t,n++)}}catch(e){r=!0,c=e}finally{try{!a&&u.return&&u.return()}finally{if(r)throw c}}}else this.addError(t,"Slot is not an array")},validate:function(e){this.errors=[];var t=void 0;try{t=JSON.parse(this.json)}catch(e){this.errors.push("JSON parse error: "+e)}t&&this.validateSlot(t,"",this.component.component,this.slotName),!this.errors.length&&e||(this.showValidationReport=!0)},update:function(){this.validate(!0),this.errors.length||this.$emit("update",JSON.parse(this.json))},format:function(){try{var e=JSON.parse(this.json);this.json=a()(e,null,2)}catch(e){this.$q.notify("JSON parse error:"+e)}}}},R=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-modal-layout",[o("q-toolbar",{attrs:{slot:"header"},slot:"header"},[o("q-btn",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{flat:"",round:"",dense:"",icon:"arrow_back"}}),e._v(" "),o("q-toolbar-title",[e._v("\n      "+e._s(e.component.component)+" "),o("q-icon",{attrs:{name:"chevron_right"}}),e._v(" "+e._s(e.slotName)+"\n    ")],1),e._v(" "),o("q-btn",{attrs:{flat:"",round:"",icon:"format_indent_increase"},on:{click:e.format}},[o("q-tooltip",{attrs:{disable:e.$q.platform.has.touch}},[e._v("Format")])],1),e._v(" "),o("q-btn",{attrs:{flat:"",round:"",icon:"done"},on:{click:function(t){e.validate(!1)}}},[o("q-tooltip",{attrs:{disable:e.$q.platform.has.touch}},[e._v("Validate")])],1),e._v(" "),o("q-btn",{attrs:{flat:"",round:"",icon:"system_update_alt"},on:{click:e.update}},[o("q-tooltip",{attrs:{disable:e.$q.platform.has.touch}},[e._v("Update")])],1)],1),e._v(" "),o("q-scroll-area",{staticClass:"fit q-pt-md q-px-sm"},[o("q-input",{staticClass:"json-editor",attrs:{"hide-underline":"",type:"textarea"},model:{value:e.json,callback:function(t){e.json=t},expression:"json"}})],1),e._v(" "),o("q-modal",{attrs:{position:"top","content-css":{padding:"20px"}},model:{value:e.showValidationReport,callback:function(t){e.showValidationReport=t},expression:"showValidationReport"}},[o("div",{staticClass:"q-display-1 q-mb-md"},[e._v("Validation Report")]),e._v(" "),o("p",[e.errors.length>0?o("span",[e._v(e._s(e.errors.length)+" validation error(s) found.")]):o("span",[e._v("No validation errors found.")])]),e._v(" "),e._l(e.errors,function(t){return e.errors.length>0?o("ul",{key:t},[o("li",{staticClass:"text-negative"},[e._v(e._s(t))])]):e._e()}),e._v(" "),o("q-btn",{attrs:{color:"secondary",label:"Close"},on:{click:function(t){e.showValidationReport=!1}}})],2)],1)},Q=[];R._withStripped=!0;var U=!1;var Y=function(e){U||o("Agd1")},B=Object(p.a)(H,R,Q,!1,Y,"data-v-5a9687bd",null);B.options.__file="src\\layouts\\designer\\JsonEditor.vue";var $=B.exports,P=o("/5sW"),F=o("7109");var W={name:"CardDesigner",props:["uid"],components:{HbCard:c.a,ConfigText:h,ConfigBool:v,ConfigOptionGroup:j,ConfigItem:C,ConfigExpr:S,ConfigArray:E,JsonEditor:$},data:function(){return{components:z.a,layout:{treepane:!0,toolpane:!0,treeViewWidth:null},cardModel:null,treeModel:null,selectedNodeId:"card",newCard:!1,searchTag:null,showJsonEditor:!1,tagSuggestions:{field:"label",list:[]}}},methods:{goBack:function(){this.$router.back()},save:function(){var e=this;this.hasValidTags?(this.card.uid=this.uid,(this.newCard?this.$store.dispatch("cards/create",this.card):this.$store.dispatch("cards/update",this.card)).then(function(){e.originalCard=a()(e.card),e.newCard?(e.$q.notify({type:"positive",message:"Card created"}),e.newCard=!1):e.$q.notify({type:"positive",message:"Card saved"})}).catch(function(t){e.$q.notify(t.message)})):this.$q.dialog({title:"Tags missing",message:"The card must have at least one object or one location tag"})},redrawCard:function(){this.$refs.card.$forceUpdate()},buildTree:function(){var e=this;this.flattenedComponents={},this.treeModel=null,this.cardModel=null,P.a.nextTick(function(){e.cardModel=e.card,e.treeModel=[function e(t,o){var i={id:o,type:"component",component:t,icon:"widgets",label:t.component};if(t.title&&(i.title=t.title),t.subtitle&&(i.subtitle=t.subtitle),t.config||(t.config={}),i.config=t.config,t.slots)for(var n in i.children=[],t.slots){var s=o+"-"+n,a={id:s,label:n,component:t,type:"slot",icon:"view_compact",tickable:!1,children:[],parentNode:i},r=0,c=!0,d=!1,u=void 0;try{for(var p,m=l()(t.slots[n]);!(c=(p=m.next()).done);c=!0){var h=e(p.value,s+"-"+r++);h.parentNode=a,h.parentSlotName=n,h.parentSlot=t.slots[n],a.children.push(h)}}catch(e){d=!0,u=e}finally{try{!c&&m.return&&m.return()}finally{if(d)throw u}}i.children.push(a)}return i}(e.card,"card")]})},addSlot:function(e){var t=this.selectedNode.component;t.slots||(t.slots={}),t.slots[e]=[],this.buildTree(),this.selectedNodeId=this.selectedNodeId+"-"+e},addComponent:function(e,t){var o=this.selectedNode.component,i={component:t,config:{}};o.slots[e]||(o.slots[e]=[]),this.components[t].slotDescriptions&&(i.slots={}),o.slots[e].push(i),this.buildTree()},cloneComponent:function(){var e=this.selectedNode.component,t=Object(F._32)(!0,{},e),o=this.selectedNode.parentSlot.indexOf(e);this.selectedNode.parentSlot.splice(o,0,t),this.buildTree()},deleteComponent:function(){if(this.selectedNode&&"component"!==!this.selectedNode.type){var e=this.selectedNode.parentNode,t=this.selectedNode.parentSlot,o=this.selectedNode.parentSlotName,i=t.indexOf(this.selectedNode.component);i<0||(1===t.length&&0===i?delete e.component.slots[o]:t.splice(i,1),this.buildTree())}},moveComponent:function(e){var t=this.selectedNode.parentSlot,o=this.selectedNode.component,i=this.selectedNode.parentNode.id,n=t.indexOf(o),s=n+e;if(!(s<0||s===t.length)){var a=[n,s].sort();t.splice(a[0],2,t[a[1]],t[a[0]]),this.selectedNodeId=i+"-"+s,this.buildTree()}},validSubcomponents:function(e){var t=this,o=n()(this.components).filter(function(e){return!1!==t.components[e].availableByDefault}).sort();return this.currentComponent&&this.currentComponent.slotDescriptions&&this.currentComponent.slotDescriptions[e]?this.currentComponent.slotDescriptions[e].allowedComponents?this.currentComponent.slotDescriptions[e].allowedComponents:this.currentComponent.slotDescriptions[e].deniedComponents?o.filter(function(o){return t.currentComponent.slotDescriptions[e].deniedComponents.indexOf(o)<0}):o:o},addTag:function(e){this.searchTag=null,this.card.tags.push(e.value)},copyCutComponent:function(e){if(this.selectedNode)if("slot"!==this.selectedNode.type)if("HbCard"!==this.selectedNode.component.component)switch(this.$q.sessionStorage.set("habot.designerClipboard",this.selectedNode.component),e){case"cut":this.$q.notify({type:"info",message:"Cut "+this.selectedNode.component.component}),this.deleteComponent();break;case"copy":this.$q.notify({type:"info",message:"Copied "+this.selectedNode.component.component})}else this.$q.notify("Cannot copy the root HbCard");else this.$q.notify("Cannot copy an entire slot")},pasteComponent:function(){if(this.selectedNode)if("slot"===this.selectedNode.type){var e=this.selectedNode.component,t=this.selectedNode.label,o=Object(F._32)({},this.$q.sessionStorage.get.item("habot.designerClipboard"));0===o.component.indexOf("Hb")&&(!this.currentComponent||this.currentComponent.slotDescriptions[t].allowedComponents&&-1===this.currentComponent.slotDescriptions[t].allowedComponents.indexOf(o.component)||this.currentComponent.slotDescriptions[t].deniedComponents&&-1!==this.currentComponent.slotDescriptions[t].deniedComponents.indexOf(o.component)?this.$q.notify("Cannot paste "+o.component+" here"):(e.slots[t].push(o),this.buildTree()))}else this.$q.notify("Select a slot to paste the copied component to")},copyCutEvent:function(e){console.log(e),"INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&this.copyCutComponent(e.type)},pasteEvent:function(e){console.log(e),"INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&this.pasteComponent()},treeViewResized:function(e){var t=this.$refs.treeDrawer.$el.getElementsByTagName("aside");t.length&&(this.layout.treeViewWidth=t[0].scrollWidth>t[0].clientWidth?t[0].scrollWidth+"px":"100%")},slotJsonUpdated:function(e){this.selectedNode.component.slots[this.selectedNode.label]=e,this.showJsonEditor=!1,this.buildTree()}},computed:{selectedNode:function(){if(this.treeModel&&this.selectedNodeId)return function e(t,o){if(t&&o){if(t.id===o)return t;if(t.children){var i=!0,n=!1,s=void 0;try{for(var a,r=l()(t.children);!(i=(a=r.next()).done);i=!0){var c=e(a.value,o);if(c)return c}}catch(e){n=!0,s=e}finally{try{!i&&r.return&&r.return()}finally{if(n)throw s}}return null}}}(this.treeModel[0],this.selectedNodeId)},currentComponent:function(){return this.selectedNode?this.components[this.selectedNode.component.component]:null},hasValidTags:function(){return!!this.card.tags&&this.card.tags.some(function(e){return e.startsWith("object:")||e.startsWith("location:")})},jsonEditorModel:function(){return"slot"===this.selectedNode.type?this.selectedNode.component.slots[this.selectedNode.label]:null}},created:function(){var e=this,t=e.$store.getters["cards/copy"](this.uid);e.tagSuggestions.list=e.$store.getters["items/objectSet"].concat(e.$store.getters["items/locationSet"]).map(function(e){return{value:e,label:e.split(":")[1],stamp:e.split(":")[0]}}),t?(e.card=t,e.card.tags||(e.card.tags=[]),e.buildTree()):(e.newCard=!0,e.card={title:"New Card",subtitle:"Subtitle",component:"HbCard",tags:e.$route.query.tags?e.$route.query.tags.split(","):[],bookmarked:!1,config:{},slots:{}},"list"===e.$route.query.type?(e.card.title="New List Card",e.card.slots={list:[{component:"HbList",config:{},slots:{items:[]}}]}):"tabs"===e.$route.query.type?(e.card.title="New Tabbed Card",e.card.slots={tabs:[{component:"HbTabs",config:{inverted:!0},slots:{tabs:[{component:"HbTab",config:{name:"tab1",label:"Tab 1"}},{component:"HbTab",config:{name:"tab2",label:"Tab 2"}}],tabpanes:[{component:"HbTabPane",config:{name:"tab1"},slots:{main:[]}},{component:"HbTabPane",config:{name:"tab2"},slots:{main:[]}}]}}]}):e.card.slots={main:[]},e.buildTree()),e.originalCard=a()(e.card),document.addEventListener("cut",this.copyCutEvent),document.addEventListener("copy",this.copyCutEvent),document.addEventListener("paste",this.pasteEvent)},destroyed:function(){document.removeEventListener("cut",this.copyCutEvent),document.removeEventListener("copy",this.copyCutEvent),document.removeEventListener("paste",this.pasteEvent)},watch:{selectedNode:function(e,t){if(e&&e.component&&("slot"===e.type&&this.$refs.componentsTab&&this.$refs.componentsTab.select(),"HbCard"!==e.component.component)){var o=e.component;P.a.set(o,"highlight",!0),window.setTimeout(function(){P.a.delete(o,"highlight")},1e3)}}},beforeRouteLeave:function(e,t,o){a()(this.cardModel)===this.originalCard?o():window.confirm("Do you really want to leave the Card Designer? You have unsaved changes!")?o():o(!1)}},G=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-layout",{attrs:{view:"hHh LpR fFf"}},[o("q-layout-header",[o("q-toolbar",[o("q-btn",{attrs:{flat:"",round:"",dense:"",icon:"arrow_back"},on:{click:function(t){e.goBack()}}}),e._v(" "),o("q-toolbar-title",[e._v("\n        Card Designer\n      ")]),e._v(" "),o("q-btn",{attrs:{icon:"save",flat:"",label:"Save"},on:{click:function(t){e.save()}}})],1)],1),e._v(" "),o("q-layout-footer",[o("q-toolbar",[o("q-btn",{attrs:{icon:"format_indent_increase",flat:"",label:"Tree"},on:{click:function(t){e.layout.treepane=!e.layout.treepane}}}),e._v(" "),o("q-toolbar-title"),e._v(" "),o("q-btn",{attrs:{"icon-right":"build",flat:"",label:"Tools"},on:{click:function(t){e.layout.toolpane=!e.layout.toolpane}}})],1)],1),e._v(" "),o("q-layout-drawer",{ref:"treeDrawer",attrs:{side:"left","content-class":"bg-grey-2 shadow-1 tree-drawer"},model:{value:e.layout.treepane,callback:function(t){e.$set(e.layout,"treepane",t)},expression:"layout.treepane"}},[o("div",[o("q-resize-observable",{on:{resize:e.treeViewResized}}),e._v(" "),e.treeModel?o("q-tree",{ref:"tree",staticClass:"designer-tree",style:{width:e.layout.treeViewWidth},attrs:{nodes:e.treeModel,"node-key":"id",selected:e.selectedNodeId,"default-expand-all":""},on:{"update:selected":function(t){e.selectedNodeId=t}}}):e._e()],1)]),e._v(" "),o("q-layout-drawer",{attrs:{side:"right","content-class":"bg-grey-2 shadow-9 tools-drawer"},model:{value:e.layout.toolpane,callback:function(t){e.$set(e.layout,"toolpane",t)},expression:"layout.toolpane"}},[e.selectedNode?o("div",{staticClass:"properties"},[o("div",{staticClass:"node-header bg-white"},[o("q-btn",{staticClass:"float-right",attrs:{round:"",flat:"",icon:"more_vert",size:"sm"}},["component"===this.selectedNode.type&&"HbCard"!==this.selectedNode.component.component?o("q-popover",{attrs:{anchor:"bottom right",self:"top right"}},[o("q-list",{staticClass:"no-border",attrs:{link:""}},[o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.copyCutComponent("cut")}}},[o("q-item-main",{attrs:{label:"Cut"}})],1),e._v(" "),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.copyCutComponent("copy")}}},[o("q-item-main",{attrs:{label:"Copy"}})],1),e._v(" "),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.moveComponent(-1)}}},[o("q-item-main",{attrs:{label:"Move up"}})],1),e._v(" "),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.moveComponent(1)}}},[o("q-item-main",{attrs:{label:"Move down"}})],1),e._v(" "),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.cloneComponent()}}},[o("q-item-main",{attrs:{label:"Clone"}})],1),e._v(" "),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.deleteComponent()}}},[o("q-item-main",{attrs:{label:"Delete"}})],1)],1)],1):"slot"===this.selectedNode.type?o("q-popover",{attrs:{anchor:"bottom right",self:"top right"}},[o("q-list",{staticClass:"no-border",attrs:{link:""}},[o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(t){e.showJsonEditor=!0}}},[o("q-item-main",{attrs:{label:"Edit JSON"}})],1),e._v(" "),o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{disabled:!e.$q.sessionStorage.has("habot.designerClipboard")},nativeOn:{click:function(t){e.pasteComponent()}}},[o("q-item-main",{attrs:{label:"Paste "+(e.$q.sessionStorage.has("habot.designerClipboard")?e.$q.sessionStorage.get.item("habot.designerClipboard").component:"")}})],1)],1)],1):"HbCard"===this.selectedNode.component.component?o("q-popover",{attrs:{anchor:"bottom right",self:"top right"}},[o("q-list",{staticClass:"no-border",attrs:{link:""}},[o("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],attrs:{disabled:""},nativeOn:{click:function(t){e.saveAsNew()}}},[o("q-item-main",{attrs:{label:"Save as New"}})],1)],1)],1):e._e()],1),e._v(" "),o("div",{staticClass:"q-title"},[e._v(e._s(e.selectedNode.label))]),e._v(" "),o("div",{staticClass:"q-caption"},[e._v(e._s(e.selectedNode.type))])],1),e._v(" "),"component"===e.selectedNode.type?o("q-tabs",{ref:"component-config",staticClass:"properties-tabs",attrs:{inverted:"",color:"grey-7","two-lines":!1,align:"center","no-pane-border":""}},[o("q-tab",{attrs:{slot:"title",label:"Properties",name:"config",icon:"widgets",default:""},slot:"title"}),e._v(" "),e.currentComponent.slotDescriptions?o("q-tab",{attrs:{slot:"title",label:"Slots",name:"slots",icon:"view_compact",alert:e.currentComponent.slotDescriptions&&e.selectedNode.component.slots&&Object.keys(e.currentComponent.slotDescriptions).length-Object.keys(e.selectedNode.component.slots).length>0},slot:"title"}):e._e(),e._v(" "),o("q-tab-pane",{attrs:{name:"config"}},[o("div",{staticClass:"q-body-2"},[e._v(e._s(e.currentComponent.description))]),e._v(" "),o("br"),e._v(" "),e.selectedNode&&"card"===e.selectedNode.id?o("div",[o("q-field",{staticClass:"config-field",attrs:{label:"title",orientation:"vertical",helper:"The title of the card"}},[o("config-text",{model:{value:e.selectedNode.component.title,callback:function(t){e.$set(e.selectedNode.component,"title",t)},expression:"selectedNode.component.title"}})],1),e._v(" "),o("q-field",{staticClass:"config-field",attrs:{label:"subtitle",orientation:"vertical",helper:"The subtitle of the card"}},[o("config-text",{model:{value:e.selectedNode.component.subtitle,callback:function(t){e.$set(e.selectedNode.component,"subtitle",t)},expression:"selectedNode.component.subtitle"}})],1),e._v(" "),o("q-field",{staticClass:"config-field",attrs:{label:"suggestcriteria",orientation:"vertical",helper:"The expression to evaluate in order to determine whether the card will be considered as a suggestion. Leave blank if the card is not to be suggested. Example: items.Temperature.state < 16"}},[o("config-expr",{attrs:{"target-type":"boolean",color:"secondary"},model:{value:e.selectedNode.config.suggestcriteria,callback:function(t){e.$set(e.selectedNode.config,"suggestcriteria",t)},expression:"selectedNode.config.suggestcriteria"}})],1),e._v(" "),o("q-field",{staticClass:"config-field",attrs:{label:"tags",orientation:"vertical",helper:"The tags attached to the card - use object:<tag> and location:<tag> to make HABot present this card instead of the default generated one when asked about those tags (unless notReuseableInChat below is set). At least one object tag or one location tag is required."}},[o("q-search",{staticClass:"q-body-1 search-tags",attrs:{color:"secondary",error:!e.hasValidTags,placeholder:"Search from items"},model:{value:e.searchTag,callback:function(t){e.searchTag=t},expression:"searchTag"}},[o("q-autocomplete",{attrs:{"static-data":e.tagSuggestions},on:{selected:e.addTag}})],1),e._v(" "),o("q-chips-input",{attrs:{color:"secondary",error:!e.hasValidTags,placeholder:"Type more"},model:{value:e.selectedNode.component.tags,callback:function(t){e.$set(e.selectedNode.component,"tags",t)},expression:"selectedNode.component.tags"}})],1),e._v(" "),o("q-field",{staticClass:"config-field",attrs:{label:"notReuseableInChat",orientation:"vertical",helper:"The card will not be considered when chatting with HABot even if the tags match"}},[o("config-bool",{attrs:{color:"secondary"},model:{value:e.selectedNode.component.notReuseableInChat,callback:function(t){e.$set(e.selectedNode.component,"notReuseableInChat",t)},expression:"selectedNode.component.notReuseableInChat"}})],1)],1):e._e(),e._v(" "),e._l(e.currentComponent.configDescriptions,function(t,i){return e.currentComponent&&e.currentComponent.configDescriptions&&e.selectedNode.config?o("q-field",{key:i,staticClass:"config-field",attrs:{label:i,orientation:"vertical",helper:t.description}},[o("div",{staticClass:"hidden"},[e._v(e._s(e.selectedNode.config[i]))]),e._v(" "),"boolean"===t.type?o("config-bool",{model:{value:e.selectedNode.config[i],callback:function(t){e.$set(e.selectedNode.config,i,t)},expression:"selectedNode.config[prop]"}}):"optiongroup"===t.type?o("config-option-group",{attrs:{options:t.options},model:{value:e.selectedNode.config[i],callback:function(t){e.$set(e.selectedNode.config,i,t)},expression:"selectedNode.config[prop]"}}):"item"===t.type?o("config-item",{attrs:{multiple:t.multiple},model:{value:e.selectedNode.config[i],callback:function(t){e.$set(e.selectedNode.config,i,t)},expression:"selectedNode.config[prop]"}}):"array"===t.type?o("config-array",{model:{value:e.selectedNode.config[i],callback:function(t){e.$set(e.selectedNode.config,i,t)},expression:"selectedNode.config[prop]"}}):"expr"===t.type?o("config-expr",{attrs:{"target-type":t.targetType},model:{value:e.selectedNode.config[i],callback:function(t){e.$set(e.selectedNode.config,i,t)},expression:"selectedNode.config[prop]"}}):o("config-text",{model:{value:e.selectedNode.config[i],callback:function(t){e.$set(e.selectedNode.config,i,t)},expression:"selectedNode.config[prop]"}})],1):e._e()})],2),e._v(" "),o("q-tab-pane",{attrs:{name:"slots"}},[e.selectedNode&&"component"===e.selectedNode.type&&e.currentComponent&&e.currentComponent.slotDescriptions&&e.selectedNode.component.slots?o("q-list",{attrs:{"no-border":""}},[o("q-list-header",[e._v("Add a slot")]),e._v(" "),e._l(e.currentComponent.slotDescriptions,function(t,i){return o("q-item",{key:i,attrs:{"inset-separator":""}},[o("q-item-side",[o("q-btn",{staticClass:"bg-secondary text-white",attrs:{round:"",icon:"add",disabled:e.selectedNode.component.slots[i]},on:{click:function(t){e.addSlot(i)}}})],1),e._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v(e._s(i))]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(t.description))])],1)],1)})],2):o("div",{staticClass:"q-list-header"},[e._v("No slots available for "+e._s(e.selectedNode.component.component))])],1)],1):e._e(),e._v(" "),o("q-tabs",{directives:[{name:"show",rawName:"v-show",value:"slot"===e.selectedNode.type,expression:"selectedNode.type === 'slot'"}],ref:"slot-config",staticClass:"properties-tabs",attrs:{inverted:"",color:"grey-7","two-lines":!1,align:"center","no-pane-border":""}},[o("q-tab",{ref:"componentsTab",attrs:{slot:"title",label:"Components",name:"components",icon:"widgets",default:""},slot:"title"}),e._v(" "),o("q-tab-pane",{attrs:{name:"components"}},[e.selectedNode&&"slot"===e.selectedNode.type?o("div",{staticClass:"q-body-2"},[e._v(e._s(e.currentComponent.slotDescriptions[e.selectedNode.label].description))]):e._e(),e._v(" "),o("br"),e._v(" "),e.selectedNode&&"slot"===e.selectedNode.type?o("q-list",{attrs:{"no-border":""}},[o("q-list-header",[e._v("Add a component")]),e._v(" "),e._l(e.validSubcomponents(e.selectedNode.label),function(t){return o("q-item",{key:t,attrs:{"inset-separator":""}},[o("q-item-side",[o("q-btn",{staticClass:"bg-secondary text-white",attrs:{round:"",icon:"add"},on:{click:function(o){e.addComponent(e.selectedNode.label,t)}}})],1),e._v(" "),o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v(e._s(t))]),e._v(" "),o("q-item-tile",{attrs:{sublabel:""}},[e._v(e._s(e.components[t].description))])],1)],1)})],2):e._e()],1)],1)],1):e._e(),e._v(" "),e.selectedNode?o("div",{staticClass:"actions"},["component"===e.selectedNode.type&&"HbCard"!==e.selectedNode.label?o("div",{staticClass:"flex flex-center"},[o("q-btn-group",{attrs:{push:""}},[o("q-btn",{attrs:{push:"",icon:"delete",color:"red"},on:{click:function(t){e.deleteComponent()}}}),e._v(" "),o("q-btn",{attrs:{push:"",icon:"keyboard_arrow_up",color:"white","text-color":"black"},on:{click:function(t){e.moveComponent(-1)}}}),e._v(" "),o("q-btn",{attrs:{push:"",icon:"keyboard_arrow_down",color:"white","text-color":"black"},on:{click:function(t){e.moveComponent(1)}}}),e._v(" "),o("q-btn",{attrs:{push:"",icon:"content_copy",color:"secondary"},on:{click:function(t){e.cloneComponent()}}})],1)],1):e._e()]):e._e()]),e._v(" "),o("div",{staticClass:"card-container"},[e.cardModel?o("hb-card",{ref:"card",attrs:{model:e.cardModel,menu:"designer"}}):e._e()],1),e._v(" "),o("q-modal",{attrs:{"no-backdrop-dismiss":"","no-esc-dismiss":"","content-css":{minWidth:"80vw",minHeight:"80vh"}},on:{hide:function(t){e.showJsonEditor=!1}},model:{value:e.showJsonEditor,callback:function(t){e.showJsonEditor=t},expression:"showJsonEditor"}},[e.showJsonEditor?o("json-editor",{ref:"jsonEditor",attrs:{component:e.selectedNode.component,slotName:e.selectedNode.label},on:{update:e.slotJsonUpdated},model:{value:e.jsonEditorModel,callback:function(t){e.jsonEditorModel=t},expression:"jsonEditorModel"}}):e._e()],1)],1)},X=[];G._withStripped=!0;var J=!1;var V=function(e){J||o("d3O5")},K=Object(p.a)(W,G,X,!1,V,null,null);K.options.__file="src\\layouts\\designer\\CardDesigner.vue";t.default=K.exports},q8t1:function(e,t,o){"use strict";var i={props:["model"],data:function(){var e=this.$store.getters["items/name"](this.model.config.item),t=void 0;!t&&e&&e.tags.find(function(e){return 0===e.indexOf("habot:slider:min:")})&&(t=parseFloat(e.tags.find(function(e){return 0===e.indexOf("habot:slider:min:")}).split(":")[3])),!t&&e&&e.stateDescription&&e.stateDescription.minimum&&(t=e.stateDescription.minimum),t||(t=0);var o=void 0;!o&&e&&e.tags.find(function(e){return 0===e.indexOf("habot:slider:max:")})&&(o=parseFloat(e.tags.find(function(e){return 0===e.indexOf("habot:slider:max:")}).split(":")[3])),!o&&e&&e.stateDescription&&e.stateDescription.maximum&&(o=e.stateDescription.minimum),o||(o=100);var i=void 0;return!i&&e&&e.tags.find(function(e){return 0===e.indexOf("habot:slider:step:")})&&(i=parseFloat(e.tags.find(function(e){return 0===e.indexOf("habot:slider:step:")}).split(":")[3])),!i&&e&&e.stateDescription&&e.stateDescription.step&&(i=e.stateDescription.step),i||(i=1),{item:e,defaultMin:t,defaultMax:o,defaultStep:i,wait:!1,prev:null,next:null}},methods:{sendCmd:function(e){this.$store.dispatch("items/sendCmd",{itemName:this.model.config.item,command:this.next.toString(),updateState:!0})}},computed:{itemState:{get:function(){if(this.item){if(this.wait)return this.next;var e=this.$store.getters["items/itemState"](this.model.config.item,!0);return"OFF"===e?this.min:"ON"===e?this.max:"Color"===this.item.type&&3===e.split(",").length?parseFloat(e.split(",")[2]):parseFloat(e)}},set:function(e){var t=this;this.item&&(this.next=e,this.wait||(this.wait=!0,this.sendCmd(e),setTimeout(function(){t.wait=!1,setTimeout(function(){t.sendCmd(e)})},500)))}}},asyncComputed:{color:function(){return!this.model.config.color&&this.item&&this.item.tags&&this.item.tags.find(function(e){return 0===e.indexOf("habot:slider:color:")})?this.item.tags.find(function(e){return 0===e.indexOf("habot:slider:color:")}).split(":")[3]:this.$expr(this.model.config.color)},label:function(){if(this.model.config.labelValue)return this.$expr(this.model.config.labelValue,{state:this.$refs.slider?this.$refs.slider.model:this.itemState})}}},n=function(){var e=this,t=e.$createElement;return(e._self._c||t)("q-slider",{ref:"slider",class:{"highlight-and-fade":this.model.highlight},attrs:{color:e.color,min:parseFloat(e.model.config.min)||e.defaultMin,max:parseFloat(e.model.config.max)||e.defaultMax,step:parseFloat(e.model.config.step)||e.defaultStep,snap:e.model.config.snap,markers:e.model.config.markers,square:e.model.config.square,label:e.model.config.label,"label-always":e.model.config.labelAlways,"label-value":e.label,"fill-handle-always":e.model.config.fillHandleAlways},model:{value:e.itemState,callback:function(t){e.itemState=t},expression:"itemState"}})},s=[];n._withStripped=!0;var a=o("XyMi"),r=Object(a.a)(i,n,s,!1,null,null,null);r.options.__file="src\\components\\HbSlider.vue";t.a=r.exports},rhCU:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=o("Dd8w"),n=o.n(i),s=o("bGai"),a={name:"HbTabPane",props:["model"],components:n()({},s.a)},r=function(){var e=this.$createElement,t=this._self._c||e;return t("q-tab-pane",{class:{"highlight-and-fade":this.model.highlight},attrs:{name:this.model.config.name}},this._l(this.model.slots.main,function(e,o){return t(e.component,{key:"tabpane-main-"+o,tag:"component",attrs:{model:e,name:"tabpane-main-"+o,"keep-alive":""}})}))},l=[];r._withStripped=!0;var c=o("XyMi"),d=Object(c.a)(a,r,l,!1,null,null,null);d.options.__file="src\\components\\HbTabPane.vue";t.default=d.exports},ufqb:function(e,t){},uslO:function(e,t,o){var i={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function n(e){return o(s(e))}function s(e){var t=i[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}n.keys=function(){return Object.keys(i)},n.resolve=s,e.exports=n,n.id="uslO"},xTPg:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("q-collapsible",{class:{"highlight-and-fade":this.model.highlight},attrs:{group:e.model.config.group,sparse:e.model.config.sparse,dense:e.model.config.dense,indent:e.model.config.indent,separator:""}},[o("template",{slot:"header"},[o("q-item-main",[o("q-item-tile",{attrs:{label:""}},[e._v(e._s(e.label))]),e._v(" "),e.model.config.sublabel?o("q-item-tile",{staticClass:"item-subtitle",attrs:{sublabel:""}},[e._v(e._s(e.sublabel))]):e._e()],1)],1),e._v(" "),e.model.slots&&e.model.slots.main?o("div",e._l(e.model.slots.main,function(e,t){return o(e.component,{key:"collapsible-"+t,tag:"component",attrs:{model:e}})})):e._e()],2)},n=[];i._withStripped=!0;var s=o("XyMi"),a=!1;var r=function(e){a||o("jqRO")},l=Object(s.a)({name:"HbCollapsible",props:["model"],data:function(){return{config:this.model.config}},created:function(){},asyncComputed:{label:{get:function(){return this.$expr(this.model.config.label)}},sublabel:{get:function(){return this.$expr(this.model.config.sublabel)}}}},i,n,!1,r,"data-v-60aaa0d0",null);l.options.__file="src\\components\\HbCollapsible.vue";t.default=l.exports}},[0]);